{"version":3,"sources":["layout.worker.js","../node_modules/split-me/dist/esm/legacy lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ exclude: //.system/.entry/.js$/ groupOptions: {} namespace object","../node_modules/@openchemistry/molecule/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ exclude: //.system/.entry/.js$/ groupOptions: {} namespace object","components/controls/grid.js","components/controls/reactselect.js","components/controls/slider.js","components/controls/select.js","components/controls/checkbox.js","data-provider/index.js","data-provider/parse.js","components/graph-vis/sort.js","rest/index.js","datasets/precise/templates/tooltip.js","components/graph-vis/info-block.js","utils/webcomponents.js","components/graph-vis/structure.js","datasets/precise/templates/index.js","datasets/precise/templates/material.js","datasets/precise/templates/minimal.js","components/legend/LegendCircle.js","components/legend/LegendGradient.js","components/legend/SizeLegend.js","datasets/utils.js","datasets/default.js","datasets/precise/colors.js","datasets/precise/sizes.js","datasets/precise/index.js","datasets/similarity/colors.js","datasets/similarity/sizes.js","datasets/similarity/index.js","datasets/cooccurence.js","datasets/index.js","store/format.js","data-provider/graph.js","store/index.js","components/controls/rangeslider.js","components/graph-vis/filters.js","components/graph-vis/layouts.js","components/graph-vis/RotatedPin.js","components/graph-vis/PinnedNode.js","components/graph-vis/helpPanel.js","components/graph-vis/controls.js","components/graph-vis/info-panel.js","geojs-scene-manager/index.js","components/graph-vis/index.js","components/header/tri_logo.png","components/header/tri_logo_dark.png","components/header/AboutPage.js","components/graph-vis/node-color-legend.js","components/graph-vis/tooltip.js","components/graph-vis/table.js","components/graph-vis/SplitContainer.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Worker","__webpack_public_path__","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","props","children","React","Children","toArray","Grid","container","spacing","child","i","gridsize","xs","item","key","useStyles","makeStyles","theme","root","flexGrow","height","minWidth","input","display","padding","valueContainer","flexWrap","flex","alignItems","overflow","clearIndicator","cursor","dropdownIndicator","chip","margin","chipFocused","backgroundColor","emphasize","palette","type","grey","noOptionsMessage","singleValue","fontSize","placeholder","position","left","bottom","paper","zIndex","marginTop","right","divider","inputComponent","inputRef","ref","components","Control","innerProps","innerRef","selectProps","classes","TextFieldProps","TextField","fullWidth","InputProps","inputProps","className","Menu","Paper","square","MultiValue","Chip","tabIndex","icon","data","label","clsx","isFocused","onDelete","removeProps","onClick","deleteIcon","NoOptionsMessage","Typography","color","Option","MenuItem","selected","component","style","fontWeight","isSelected","optionButtons","ListItemText","primary","ListItemSecondaryAction","Placeholder","SingleValue","ValueContainer","ReactSelectWrapper","rest","useTheme","selectStyles","base","text","font","styles","InputLabelProps","shrink","ReactSelectSearchWrapper","maxItems","options","defaultOptions","slice","loadOptions","inputValue","deburr","trim","toLowerCase","reduce","r","d","length","includes","push","SliderControlComponent","this","value","range","step","onChange","digits","format","only","undefined","paddingRight","FormControl","variant","width","toFixed","Number","isInteger","paddingLeft","Slider","min","max","_e","val","Component","SelectControlComponent","selectOptions","option","isString","replace","isFinite","InputLabel","Select","target","name","CheckboxControlComponent","FormControlLabel","control","Checkbox","checked","DiskDataProvider","nodes","edges","graph","index","count","forEach","n","hasOwnProperty","edgeIndex","nodeIndex","computeGraph","_nodeIndex","entries","k","v","formula","_elements","match","_names","bad","indexOf","concat","values","_formulas","nodeNames","bounds","pos","nodePosition","minx","Math","x","maxx","miny","y","maxy","POSITIVE_INFINITY","NEGATIVE_INFINITY","idx","edge","console","log","node","filter","table","countEdge","other","nodeExists","prop","discovery","sortStringsLength","a","b","sortStringsAlpha","fetchJSON","path","fetch","res","json","JSON","parse","renderTooltip","_store","defaultFormatter","InfoBlock","formatValue","d3Format","gutterBottom","paragraph","wc","storedEl","customEvents","el","action","addEventListener","removeEventListener","Structure","cjson","moleculeRenderer","render","store","hypothetical","structureFile","structurePath","oqmdLink","degree","getPropertyMetaData","formation_energy","synthesis_probability","eigen_cent","deg_cent","shortest_path","deg_neigh","structure","href","download","rel","tooltip","LegendCircle","title","background","withStyles","borderRadius","content","top","whiteSpace","textAlign","transform","LegendGradient","scale","domain","colors","copy","samples","Array","from","gradientSamples","_","round","join","data-from","data-to","paddingTop","SizeLegend","factor","ticks","sum","radius","circle","innerCircle","paddingBottom","justifyContent","alignSelf","flexDirection","ApplicationStore","FIXED_COLOR","propertyColorFactory","meta","colorScale","legend","INVALID_VALUE_COLOR","createDefaultScale","scaleLinear","propertySizeFactory","createScale","sizeScaleRange","clamp","discovered","undiscovered","templates","propertyList","property","factory","sizes","zoomRange","yearRange","properties","defaults","template","zoom","size","defaultTemplate","toString","UNDISCOVERED_COLOR","DISCOVERED_COLOR","year","colorYear","degreeFunction","degrees","nodeDegrees","minMax","scaleSqrt","scalePow","exponent","scaleLog","filterable","suffix","band_gap","fileName","similarity","precise","cooccurence","createFormatter","spec","prefix","neighborsOf","nodeNameOrSet","lookup","isArray","Set","has","add","worker","autorun","toLoad","dataset","hovered","hoveredLine","node1","node2","filters","pinnedNodes","assign","resp","initState","structurePromise","search","low","high","integrateState","state","attr","found","find","pinned","toSelect","toPin","reaction","dispose","window","history","url","URL","location","searchParams","get","pinnedOnly","split","defineSubspace","incudeNeighbors","Map","p","set","includeNeighbors","sort","firstRun","drawerVisible","toJS","filterElements","isEqual","delete","pinnedOnlyNodes","incluceNeighborsNodes","defineSubspaceNodes","document","replaceState","pushState","delay","evt","info","entry","isfilterable","camelCase","formatSpecifier","_minMaxProperty","_createProperty","nodeProperty","play","interval","clearInterval","setInterval","nextYear","setPlayState","modifiers","currentName","shift","alt","ctrl","old","togglePinned","names","toggleDefineSubspace","existing","some","findIndex","splice","params","onMessage","uniqueId","replyer","postMessage","listener","msg","subGraphNodeNames","nodeSizer","subGraphLayouting","showSubGraphOnly","subGraphEdges","_postMessage","subGraphLayout","subSpaceBaseElements","neighborElementNames","autoIncludeNeighorsForSelection","mustInclude","filterDiscoveryYear","every","filterFunc","pow","observable","datasets","computed","layouts","scaleSequential","interpolateViridis","createContext","RangeSliderControlComponent","Filters","observer","context","IconButton","toggleAutoplay","Pause","PlayArrow","abs","faFlask","isMulti","knownElements","setDefineSubspaceNodes","contextType","Store","Layouts","Button","disabled","doesShowSubgraph","computeSubGraphLayout","abortSubGraphLayout","resetSubGraphLayout","RotatedPin","faThumbtack","PinnedNode","neighbors","faProjectDiagram","toggleIncludeNeighbors","subspace","removePinned","typography","HelpPanel","useState","anchorEl","setAnchorEl","open","Boolean","faQuestionCircle","event","currentTarget","stopPropagation","preventDefault","Popover","maxWidth","anchorOrigin","vertical","horizontal","transformOrigin","HelpPanelLabel","SearchHelp","OptionsHelp","SpacingHelp","TemplateHelp","ColorYearHelp","SubgraphOnlyHelp","AutoNeighborsHelp","TableHelp","FilteringHelp","LayoutHelp","toOption","simplify","Controls","filterSearchOption","rawInput","renderOptionButtons","isPinned","isIncludeNeighborsPinned","isDefineSubspacePinned","searchOptions","isSearchable","isClearable","ExpansionPanel","expanded","drawerExpanded","isExpanded","ExpansionPanelSummary","expandIcon","ExpandMore","ExpansionPanelDetails","resetZoom","spacingRange","opacity","showLinks","denseCheckbox","showLegend","showTable","nightMode","InfoPanel","onClear","float","Close","maxHeight","modal","GeoJSSceneManager","onZoomChanged","picked","onNodeSpacingChanged","_position","positionOverrides","dp","expansion","_strokeWidth","_strokeColor","_darkStrokePointColor","_nodeOpacity","subGraphNodes","parent","nextExpansionFocus","linkOpacity","linesVisible","linesNeedsToBeModified","getBounds","geo","util","pixelCoordinateParams","maxBounds","center","maxwh","allowRotation","clampBoundsY","clampBoundsX","layer","createLayer","features","lines","createFeature","strokeColor","strokeOpacity","visible","highlightLines","_isHighlighted","points","strokeWidth","fillColor","fillOpacity","onNode","geoOn","feature","mouseon","featureGcsToDisplay","mouseoff","lastPointEvent","mouseclick","mouse","debounce","time","dataTime","modified","_handleNodeSpacing","draw","overrides","deltaDirection","handle","onwheel","deltaY","actionwheel","mousemove","showSubGraph","m","offCenter","nodeId","hasNode","_updateEdgeHighlights","isHighlighted","allLinesVisible","show","night","bgColor","pointStrokeColor","getBoundingClientRect","GraphVisComponent","visElement","scene","selectNode","delta","next","dragging","status","start","ro","autoRunListeners","onVisDrag","clientX","clientY","linksOn","linksVisible","mouseMoveListener","onDrag","mouseUpListener","setTimeout","dx","dy","moveCamera","clearSceneListener","setAndObserve","f","expand","hideAfter","setNodeSize","zoomNodeSizeFactor","setLinkOpacity","setData","setSelected","setPositions","setNightMode","setNodeColor","nodeColorer","ResizeObserver","resize","observe","initScene","initSceneListener","unobserve","clear","draggable","onDragStart","AboutPage","setOpen","handleClose","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","NodeColorLegend","marginLeft","Tooltip","anchorFake","clientWidth","clientHeight","DOMRect","Popper","placement","disablePortal","x-arrow","arrow","border","pointerEvents","marginBottom","borderWidth","borderLeftColor","borderRightColor","borderBottomcolor","borderTopcolor","borderTopColor","marginRight","borderStyle","borderColor","Table","onSelectionChanged","selection","LineUp","singleSelection","deriveColors","sidePanel","lineHeight","column","custom","numberFormat","LineUpRanking","SplitContainer","draggingValue","onMouseDown","HTMLElement","classList","contains","separator","enableDragging","mouseMove","bb","clientTop","scrollTop","ratio","offsetHeight","setState","disable","remove","onValueChanged","userSelect","createMuiTheme","default","darkTheme","App","onLogoClick","pathname","ThemeProvider","CssBaseline","AppBar","appBar","appBarShift","Toolbar","aria-label","menuButton","hide","src","tri_logo_dark","tri_logo","noWrap","Drawer","drawer","drawerPaper","drawerHeader","contentContainer","contentShift","contentNightMode","graphRatio","loaderWrapper","CircularProgress","disableShrink","loader","minHeight","transition","transitions","create","easing","sharp","duration","leavingScreen","easeOut","enteringScreen","flexShrink","overflowX","mixins","toolbar","hostname","defineSplitMe","defineMolecule","ReactDOM","Provider","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"6EAAAA,EAAOC,QAAU,WACf,OAAO,IAAIC,OAAOC,IAA0B,oC,4HCD9C,IAAIC,EAAM,CACT,sBAAuB,CACtB,IACA,KAGF,SAASC,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAEJ,EAAKE,GAC9B,OAAOG,QAAQC,UAAUC,MAAK,WAC7B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBP,EAAM,KAEjD,MADAM,EAAEE,KAAO,mBACHF,KAIR,IAAIG,EAAMX,EAAIE,GAAMU,EAAKD,EAAI,GAC7B,OAAOR,EAAoBK,EAAEG,EAAI,IAAIJ,MAAK,WACzC,OAAOJ,EAAoBS,MAG7BX,EAAoBY,KAAO,WAC1B,OAAOC,OAAOD,KAAKb,IAEpBC,EAAoBW,GAAK,IACzBhB,EAAOC,QAAUI,G,oBCxBjB,IAAID,EAAM,CACT,iCAAkC,CACjC,IACA,IAGF,SAASC,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAEJ,EAAKE,GAC9B,OAAOG,QAAQC,UAAUC,MAAK,WAC7B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBP,EAAM,KAEjD,MADAM,EAAEE,KAAO,mBACHF,KAIR,IAAIG,EAAMX,EAAIE,GAAMU,EAAKD,EAAI,GAC7B,OAAOR,EAAoBK,EAAEG,EAAI,IAAIJ,MAAK,WACzC,OAAOJ,EAAoBS,MAG7BX,EAAoBY,KAAO,WAC1B,OAAOC,OAAOD,KAAKb,IAEpBC,EAAoBW,GAAK,IACzBhB,EAAOC,QAAUI,G,+RCrBF,WAACc,GAAW,IACnBC,EAAaD,EAAbC,SAIN,OAFAA,EAAWC,IAAMC,SAASC,QAAQH,GAGhC,kBAACI,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,GACtBN,EAAShB,KAAI,SAACuB,EAAOC,GACpB,IAAMC,EAAWF,EAAMR,MAAMU,UAAY,CAAEC,GAAI,IAC/C,OACE,kBAACN,EAAA,EAAD,eAAMO,MAAI,EAACC,IAAKJ,GAAOC,GACpBF,Q,4ICEPM,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,SAAU,EACVC,OAAQ,IACRC,SAAU,KAEZC,MAAO,CACLC,QAAS,OACTC,QAAS,EACTJ,OAAQ,QAEVK,eAAgB,CACdF,QAAS,OACTG,SAAU,OACVC,KAAM,EACNC,WAAY,SACZC,SAAU,UAEZC,eAAgB,CACdC,OAAQ,WAEVC,kBAAmB,CACjBD,OAAQ,WAEVE,KAAM,CACJC,OAAQjB,EAAMT,QAAQ,GAAK,MAE7B2B,YAAa,CACXC,gBAAiBC,YACQ,UAAvBpB,EAAMqB,QAAQC,KACVtB,EAAMqB,QAAQE,KAAK,KACnBvB,EAAMqB,QAAQE,KAAK,KACvB,MAGJC,iBAAkB,CAChBjB,QAASP,EAAMT,QAAQ,EAAG,IAE5BkC,YAAa,CACXC,SAAU,IAEZC,YAAa,CACXC,SAAU,WACVC,KAAM,EACNC,OAAQ,EACRJ,SAAU,IAEZK,MAAO,CACLH,SAAU,WACVI,OAAQ,EACRC,UAAWjC,EAAMT,QAAQ,GACzBsC,KAAM,EACNK,MAAO,GAETC,QAAS,CACPhC,OAAQH,EAAMT,QAAQ,QAgB1B,SAAS6C,EAAT,GAAiD,IAAvBC,EAAsB,EAAtBA,SAAarD,EAAS,4BAC9C,OAAO,uCAAKsD,IAAKD,GAAcrD,IAgHjC,IAAMuD,EAAa,CACjBC,QA9GF,SAAiBxD,GAAQ,IAErBC,EAIED,EAJFC,SACAwD,EAGEzD,EAHFyD,WACAC,EAEE1D,EAFF0D,SAJoB,EAMlB1D,EADF2D,YAAeC,EALK,EAKLA,QAASC,EALJ,EAKIA,eAG1B,OACE,kBAACC,EAAA,EAAD,eACEC,WAAS,EACTC,WAAY,CACVZ,iBACAa,WAAW,aACTC,UAAWN,EAAQvC,MACnBiC,IAAKI,EACLzD,YACGwD,KAGHI,KA2FRM,KAdF,SAAcnE,GACZ,OACE,kBAACoE,EAAA,EAAD,eACEC,QAAM,EACNH,UAAWlE,EAAM2D,YAAYC,QAAQb,OACjC/C,EAAMyD,YAETzD,EAAMC,WAQXqE,WA9BF,SAAoBtE,GAClB,OACE,kBAACuE,EAAA,EAAD,CACEC,UAAW,EACXC,KAAMzE,EAAM0E,KAAO1E,EAAM0E,KAAKD,KAAO,KACrCE,MAAO3E,EAAMC,SACbiE,UAAWU,YAAK5E,EAAM2D,YAAYC,QAAQ5B,KAAM,CAC9C,CAAChC,EAAM2D,YAAYC,QAAQ1B,aAAclC,EAAM6E,YAEjDC,SAAU9E,EAAM+E,YAAYC,QAC5BC,WAAY,kBAAC,IAAejF,EAAM+E,gBAqBtCG,iBAjIF,SAA0BlF,GACxB,OACE,kBAACmF,EAAA,EAAD,eACEC,MAAM,gBACNlB,UAAWlE,EAAM2D,YAAYC,QAAQpB,kBACjCxC,EAAMyD,YAETzD,EAAMC,WA2HXoF,OAzFF,SAAgBrF,GACd,OACE,kBAACsF,EAAA,EAAD,eACEhC,IAAKtD,EAAM0D,SACX6B,SAAUvF,EAAM6E,UAChBW,UAAU,MACVC,MAAO,CACLC,WAAY1F,EAAM2F,WAAa,IAAM,MAEnC3F,EAAMyD,YAETzD,EAAM2D,YAAYiC,cACjB,oCACE,kBAACC,EAAA,EAAD,CAAcC,QAAS9F,EAAMC,WAC7B,kBAAC8F,EAAA,EAAD,KACG/F,EAAM2D,YAAYiC,cAAc5F,EAAM0E,QAI3C1E,EAAMC,WAuEZ+F,YAjEF,SAAqBhG,GAAQ,IACnB2D,EAA2C3D,EAA3C2D,YADkB,EACyB3D,EAA9ByD,kBADK,MACQ,GADR,EACYxD,EAAaD,EAAbC,SACtC,OACE,kBAACkF,EAAA,EAAD,eACEC,MAAM,gBACNlB,UAAWP,EAAYC,QAAQjB,aAC3Bc,GAEHxD,IA0DLgG,YArDF,SAAqBjG,GACnB,OACE,kBAACmF,EAAA,EAAD,eACEjB,UAAWlE,EAAM2D,YAAYC,QAAQnB,aACjCzC,EAAMyD,YAETzD,EAAMC,WAgDXiG,eA3CF,SAAwBlG,GACtB,OACE,yBAAKkE,UAAWlE,EAAM2D,YAAYC,QAAQpC,gBACvCxB,EAAMC,YA2CE,SAASkG,EAAT,GAAiD,IAAnBxB,EAAkB,EAAlBA,MAAUyB,EAAQ,yBACvDxC,EAAU9C,IACVE,EAAQqF,cAERC,EAAe,CACnBjF,MAAO,SAACkF,GAAD,mBAAC,eACHA,GADE,IAELnB,MAAOpE,EAAMqB,QAAQmE,KAAKV,QAC1B,UAAW,CACTW,KAAM,cAGV5E,eAAgB,SAAC0E,GAAD,mBAAC,eACZA,GADW,IAEdzE,OAAQ,aAEVC,kBAAmB,SAACwE,GAAD,mBAAC,eACfA,GADc,IAEjBzE,OAAQ,cAIZ,OACE,kBAAC,IAAD,eACE8B,QAASA,EACT8C,OAAQJ,EACRzC,eAAgB,CACdc,QACAgC,gBAAiB,CACfC,QAAQ,IAGZrD,WAAYA,GACR6C,IAKH,SAASS,EAAT,GAKH,IAJFlC,EAIC,EAJDA,MACAmC,EAGC,EAHDA,SACAC,EAEC,EAFDA,QACGX,EACF,8CACKxC,EAAU9C,IACVE,EAAQqF,cAERC,EAAe,CACnBjF,MAAO,SAACkF,GAAD,mBAAC,eACHA,GADE,IAELnB,MAAOpE,EAAMqB,QAAQmE,KAAKV,QAC1B,UAAW,CACTW,KAAM,cAGV5E,eAAgB,SAAC0E,GAAD,mBAAC,eACZA,GADW,IAEdzE,OAAQ,aAEVC,kBAAmB,SAACwE,GAAD,mBAAC,eACfA,GADc,IAEjBzE,OAAQ,cAuBZ,OACE,kBAAC,IAAD,eACE8B,QAASA,EACT8C,OAAQJ,EACRzC,eAAgB,CACdc,QACAgC,gBAAiB,CACfC,QAAQ,IAGZrD,WAAYA,EACZyD,eAAgBD,EAAQE,MAAM,EAAGH,GAAY,IAC7CI,YA/BgB,SAACC,GAGnB,KAFAA,EAAaC,YAAOD,EAAWE,QAAQC,eAGrC,OAAOR,EAAWC,EAAQE,MAAM,EAAGH,GAAY,GAGjD,IAAMpC,EAAOqC,EAAQQ,QAAO,SAACC,EAAGC,GAO9B,QALIX,GAAYU,EAAEE,OAASZ,IACzBW,EAAE9C,MAAM2C,cAAcK,SAASR,IAE/BK,EAAEI,KAAKH,GAEFD,IACN,IAEH,OAAOlI,QAAQC,QAAQmF,KAejB0B,I,sBCrQKyB,G,uKA3CH,IAAD,EAUHC,KAAK9H,MARP2E,EAFK,EAELA,MACAoD,EAHK,EAGLA,MACAC,EAJK,EAILA,MACAC,EALK,EAKLA,KACAC,EANK,EAMLA,SACAC,EAPK,EAOLA,OACAC,EARK,EAQLA,OACAnI,EATK,EASLA,SAGIO,EAAQP,EAAWC,IAAMC,SAASkI,KAAKpI,QAAYqI,EAEnDC,EAAe/H,EAAQ,GAAK,EAElC,OACE,kBAACgI,EAAA,EAAD,CAAazE,WAAS,GACpB,kBAACoB,EAAA,EAAD,CAAYsD,QAAQ,WAAW9D,GAC/B,yBAAKc,MAAO,CAAEnE,QAAS,OAAQK,WAAY,SAAU+G,MAAO,SAC1D,6BACGN,EACGA,EAAOL,GACPA,EAAMY,QAAQC,OAAOC,UAAUV,GAAUA,EAAS,IAExD,yBAAK1C,MAAO,CAAEvE,SAAU,EAAG4H,YAAa,GAAIP,iBAC1C,kBAACQ,EAAA,EAAD,CACEC,IAAKhB,EAAM,GACXiB,IAAKjB,EAAM,GACXC,KAAMA,EACNF,MAAOA,EACPG,SAAU,SAACgB,EAAIC,GACbjB,EAASiB,OAId3I,Q,GArC0B4I,a,wCC+CtBC,G,uKA5CH,IAAD,IACqCvB,KAAK9H,MAAzC2E,EADD,EACCA,MAAOoD,EADR,EACQA,MAAOhB,EADf,EACeA,QAASmB,EADxB,EACwBA,SAE3BoB,EAAgB,GAHb,eAIYvC,GAJZ,IAIP,2BAA4B,CAAC,IAApBwC,EAAmB,QAC1B,GAAIC,aAASD,GACXD,EAAc1B,KACZ,kBAACtC,EAAA,EAAD,CAAUzE,IAAK0I,EAAQxB,MAAOwB,GAC3BA,EAAOE,QAAQ,SAAU,YAGzB,GAAIb,OAAOc,SAASH,GACzBD,EAAc1B,KACZ,kBAACtC,EAAA,EAAD,CAAUzE,IAAK0I,EAAQxB,MAAOwB,GAC3BA,QAGA,CAAC,IACE5E,EAAiB4E,EAAjB5E,MAAOoD,EAAUwB,EAAVxB,MACfuB,EAAc1B,KACZ,kBAACtC,EAAA,EAAD,CAAUzE,IAAKkH,EAAOA,MAAOA,GAC1BpD,EAAM8E,QAAQ,SAAU,SArB1B,8BA2BP,OACE,kBAACjB,EAAA,EAAD,CAAazE,WAAS,GACpB,kBAAC4F,GAAA,EAAD,KAAahF,GACb,kBAACiF,GAAA,EAAD,CACE7B,MAAOA,GAAS,GAChBG,SAAU,SAACzI,GACTyI,EAASzI,EAAEoK,OAAO9B,QAEpB9D,WAAY,CAAE6F,KAAM,SAAUjK,GAAI,WAEjCyJ,Q,GAtC0BF,a,UCoBtBW,G,uKArBH,IAAD,EACuCjC,KAAK9H,MAA3C2E,EADD,EACCA,MAAOoD,EADR,EACQA,MAAOG,EADf,EACeA,SAAUhE,EADzB,EACyBA,UAEhC,OACE,kBAACsE,EAAA,EAAD,CAAazE,WAAS,EAACG,UAAWA,GAChC,kBAAC8F,GAAA,EAAD,CACEC,QACE,kBAACC,EAAA,EAAD,CACEC,QAASpC,EACTG,SAAU,SAACgB,EAAIC,GACbjB,EAASiB,MAIfxE,MAAOA,S,GAfsByE,a,wECwBhC,IAAMgB,GAAb,kDACE,WAAYC,EAAOC,GAAQ,IAAD,uBACxB,gBAEKD,MAAQA,EACb,EAAKC,MAAQA,EAEb,IAAMC,EA9BH,SAAsBD,GAE3B,IAAIE,EAAQ,GACRC,EAAQ,EACZH,EAAMI,SAAQ,SAACjL,GAEbA,EAAEiL,SAAQ,SAACC,GACJH,EAAMI,eAAeD,KAExBH,EAAMG,GAAKF,WAMjB,IAAMI,EAAYP,EAAMrL,KAAI,SAACQ,GAAD,OAAOA,EAAER,KAAI,SAAC0L,GAAD,OAAOH,EAAMG,SAEtD,MAAO,CACLG,UAAWN,EACXK,aAWcE,CAAaT,GAC3B,EAAKU,WAAaT,EAAMO,UACxB,EAAKD,UAAYN,EAAMM,UAGvB9K,OAAOkL,QAAQZ,GAAOK,SAAQ,YAAa,IAAD,oBAAVQ,EAAU,KAAPC,EAAO,KACxCA,EAAErB,KAAOoB,EACT,IAAME,EAAUD,EAAEC,SAAWF,EAC7BC,EAAEE,UAA4BD,ECtClBE,MADN,mBACkB,MDyC1B,EAAKC,OAASxL,OAAOD,KAAK,EAAKuK,OAC/B,IAAMmB,EAAM,EAAKD,OAAOE,QAAQ,SAC5BD,GAAO,IACT,EAAKD,OAAS,EAAKA,OAChBtE,MAAM,EAAGuE,GACTE,OAAO,EAAKH,OAAOtE,MAAMuE,EAAM,KAGpC,IAAMG,EAAS5L,OAAO4L,OAAO,EAAKtB,OAzBV,OA0BxB,EAAKuB,UAAYD,EAAO,GAAGP,QACvBO,EAAO1M,KAAI,SAACwI,GAAD,OAAOA,EAAE2D,WACpB,EAAKG,OA5Be,EAD5B,wDAgCe,IAAD,OACV,OAAOzD,KAAK+D,YAAYtE,QACtB,SAACuE,EAAQhC,GACP,IAAMiC,EAAM,EAAKC,aAAalC,GAC9B,MAAO,CACLmC,KAAMC,KAAKlD,IAAI+C,EAAII,EAAGL,EAAOG,MAC7BG,KAAMF,KAAKjD,IAAI8C,EAAII,EAAGL,EAAOM,MAC7BC,KAAMH,KAAKlD,IAAI+C,EAAIO,EAAGR,EAAOO,MAC7BE,KAAML,KAAKjD,IAAI8C,EAAIO,EAAGR,EAAOS,SAGjC,CACEN,KAAMrD,OAAO4D,kBACbJ,KAAMxD,OAAO6D,kBACbJ,KAAMzD,OAAO4D,kBACbD,KAAM3D,OAAO6D,sBA/CrB,kCAqDI,OAAO3E,KAAKwC,MAAM5C,SArDtB,mCAwDegF,GACX,IAAMC,EAAO7E,KAAKwC,MAAMoC,GAElBvD,EAAM,CAACrB,KAAKuC,MAAMsC,EAAK,IAAK7E,KAAKuC,MAAMsC,EAAK,KAQlD,YANerE,IAAXa,EAAI,SAA+Bb,IAAXa,EAAI,KAC9ByD,QAAQC,IAAIH,GACZE,QAAQC,IAAIF,GACZC,QAAQC,IAAI1D,IAGPA,IAnEX,gCAsEYuD,GAER,OADa5E,KAAKwC,MAAMoC,KAvE5B,kCA4EI,OAAO5E,KAAKyD,SA5EhB,mCA+EezB,GACX,IAAMgD,EAAOhF,KAAKuC,MAAMP,GAExB,MAAO,CACLqC,EAAGW,EAAKX,EACRG,EAAGQ,EAAKR,KApFd,kCAwFcS,GAAS,IAAD,OACdC,EAAQ,GACNC,EAAY,SAACH,EAAMI,GAClBF,EAAMpC,eAAekC,KACxBE,EAAMF,GAAQ,GAGZ,EAAKK,WAAWD,IAAUH,EAAO,EAAK1C,MAAMyC,KAC9CE,EAAMF,MASV,OALAhF,KAAKwC,MAAMI,SAAQ,SAACiC,GAClBM,EAAUN,EAAK,GAAIA,EAAK,IACxBM,EAAUN,EAAK,GAAIA,EAAK,OAGnBK,IAzGX,gCA4GYlD,GACR,OAAOhC,KAAKkD,WAAWlB,KA7G3B,mCAgHeA,EAAMsD,GACjB,OAAOtF,KAAKuC,MAAMP,GAAMsD,KAjH5B,iCAoHatD,GACT,OAAqC,MAA9BhC,KAAKuC,MAAMP,GAAMuD,YArH5B,8BAwHUvD,GACN,OAA2B,MAApBhC,KAAKuC,MAAMP,OAzHtB,IAzBA,oCEEA,SAASwD,GAAkBC,EAAGC,GAC5B,OAAID,EAAE7F,OAAS8F,EAAE9F,QACP,EACC6F,EAAE7F,OAAS8F,EAAE9F,OACf,EARX,SAA0B6F,EAAGC,GAC3B,OAAOD,EAAIC,GAAK,EAAID,EAAIC,EAAI,EAAI,EASvBC,CAAiBF,EAAGC,GCVxB,SAASE,GAAUC,GACxB,OAAOC,MAAMD,GAAMnO,KAAZ,uCAAiB,WAAOqO,GAAP,iBAAAN,EAAA,sEACHM,EAAIrH,OADD,OAChBA,EADgB,OAGtB,IACEsH,EAAOC,KAAKC,MAAMxH,GAClB,MAAO/G,GACPqO,EAAO,KANa,yBASfA,GATe,2CAAjB,uDCEM,SAASG,GAAcnB,EAAMoB,GAC1C,OAAO,kBAAC/I,EAAA,EAAD,CAAYsD,QAAQ,WAAWqE,EAAKhD,M,cCA7C,SAASqE,GAAiBhD,GACxB,OAAS,MAALA,EACKA,EAEQ,kBAANA,EACFA,EAAExC,QAAQ,GAEZwC,E,IAGYiD,G,uKACT,IAAD,EACoCtG,KAAK9H,MAAxC2E,EADD,EACCA,MAAOoD,EADR,EACQA,MAAOK,EADf,EACeA,OAAQnI,EADvB,EACuBA,SAExBoO,EACc,oBAAXjG,EACHA,EACAA,EACAkG,aAASlG,GACT+F,GAEN,OACW,MAATpG,GACE,oCACE,kBAAC5C,EAAA,EAAD,CAAYoJ,cAAY,EAAC9F,QAAQ,UAAUrD,MAAM,iBAC9CT,GAEH,kBAACQ,EAAA,EAAD,CAAYqJ,WAAS,GAClBH,EAAYtG,GACZ9H,Q,GAnB0BC,IAAMkJ,WCMtC,SAASqF,KAAmC,IAC7CC,EADaC,EAA+B,uDAAhB,GAAI3O,EAAY,uDAAJ,GAG5C,OAAO,SAAU4O,GACf7O,OAAOkL,QAAQ0D,GAAcjE,SAAQ,YAAoB,IAAD,oBAAjBZ,EAAiB,KAAX/B,EAAW,KAGhD8G,EAASD,EAAKA,EAAGE,iBAAmBJ,EAASK,oBAC9B,oBAAVhH,GACT8G,EAAO/E,EAAM/B,MAKb6G,GACF7O,OAAOkL,QAAQjL,GAAO0K,SAAQ,YAAoB,IAAD,oBAAjBZ,EAAiB,KAAX/B,EAAW,KAC/C6G,EAAG9E,GAAQ/B,KAGf2G,EAAWE,GCnCf,IAceI,GAdG,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAH,OAChB,iCACE3L,IAAKmL,GAEH,GAEA,CACEQ,QACAC,iBAAkB,aCTX,ICGA,CACbvK,MAAO,WACPwK,OAAQ,SAACrC,EAAMsC,GACb,IAAMC,EAAiC,MAAlBvC,EAAKO,UACpBiC,EAAa,UAAMxC,EAAKhD,KAAX,UACbyF,EAAa,kCAA8BD,GAC3CE,EAAQ,gDAA4C1C,EAAKhD,MAE/D,OACE,oCACE,kBAAC3E,EAAA,EAAD,CAAYoJ,cAAY,EAAC9F,QAAQ,MAAjC,UAA0CqE,EAAKhD,KAA/C,aACEuF,EAAe,eAAiBvC,EAAKO,UADvC,MAIA,kBAAClI,EAAA,EAAD,CAAYoJ,cAAY,EAAC9F,QAAQ,YAAYjD,UAAU,OAAvD,uBAIgB,MAAfsH,EAAK2C,QACJ,kBAAC,GAAD,eACE1H,MAAO+E,EAAK2C,QACRL,EAAMM,oBAAoB,YAGR,MAAzB5C,EAAK6C,kBACJ,kBAAC,GAAD,eACE5H,MAAO+E,EAAK6C,kBACRP,EAAMM,oBAAoB,sBAGH,MAA9B5C,EAAK8C,uBACJ,kBAAC,GAAD,eACE7H,MAAO+E,EAAK8C,uBACRR,EAAMM,oBAAoB,2BAIlC,kBAACvK,EAAA,EAAD,CAAYoJ,cAAY,EAAC9F,QAAQ,YAAYjD,UAAU,OAAvD,sBAIoB,MAAnBsH,EAAK+C,YACJ,kBAAC,GAAD,eACE9H,MAAO+E,EAAK+C,YACRT,EAAMM,oBAAoB,gBAGhB,MAAjB5C,EAAKgD,UACJ,kBAAC,GAAD,eACE/H,MAAO+E,EAAKgD,UACRV,EAAMM,oBAAoB,cAGX,MAAtB5C,EAAKiD,eACJ,kBAAC,GAAD,eACEhI,MAAO+E,EAAKiD,eACRX,EAAMM,oBAAoB,mBAGf,MAAlB5C,EAAKkD,WACJ,kBAAC,GAAD,eACEjI,MAAO+E,EAAKkD,WACRZ,EAAMM,oBAAoB,eAIlC,yBAAKjK,MAAO,CAAEiD,MAAO,OAAQvH,OAAQ,UACnC,kBAAC,GAAD,CAAW8N,MAAOnC,EAAKmD,aAGzB,6BACE,uBAAGC,KAAMX,EAAeY,UAAQ,GAAhC,YACYb,IAId,6BACE,uBAAGY,KAAMV,EAAU3F,OAAO,SAASuG,IAAI,uBAAvC,WAORC,YCpFa,CACb1L,MAAO,UACPwK,OAAQ,SAACrC,EAAMsC,GACb,IAAMC,EAAiC,MAAlBvC,EAAKO,UAE1B,OACE,oCACE,kBAAClI,EAAA,EAAD,CAAYoJ,cAAY,EAAC9F,QAAQ,MAAjC,UAA0CqE,EAAKhD,KAA/C,aACEuF,EAAe,eAAiBvC,EAAKO,UADvC,MAIA,kBAAClI,EAAA,EAAD,CAAYoJ,cAAY,EAAC9F,QAAQ,YAAYjD,UAAU,OAAvD,uBAIgB,MAAfsH,EAAK2C,QACJ,kBAAC,GAAD,eACE1H,MAAO+E,EAAK2C,QACRL,EAAMM,oBAAoB,YAGR,MAAzB5C,EAAK6C,kBACJ,kBAAC,GAAD,eACE5H,MAAO+E,EAAK6C,kBACRP,EAAMM,oBAAoB,sBAGH,MAA9B5C,EAAK8C,uBACJ,kBAAC,GAAD,eACE7H,MAAO+E,EAAK8C,uBACRR,EAAMM,oBAAoB,2BAIlC,yBAAKjK,MAAO,CAAEiD,MAAO,OAAQvH,OAAQ,UACnC,kBAAC,GAAD,CAAW8N,MAAOnC,EAAKmD,eAK/BI,aCrBIC,G,uKACM,IAAD,EAC2BxI,KAAK9H,MAA/B4D,EADD,EACCA,QAASe,EADV,EACUA,MAAOS,EADjB,EACiBA,MAExB,OACE,yBACElB,UAAWN,EAAQ3C,KACnBsP,MAAO5L,EACPc,MAAO,CAAE+K,WAAYpL,S,GARFlF,IAAMkJ,WAclBqH,gBAlCA,SAACzP,GAAD,MAAY,CACzBC,KAAM,CACJyP,aAAc,MACd9N,SAAU,WACV8F,MANW,GAOXzG,OAAQ,QACRd,OARW,GASX,YAAa,CACXwP,QAAS,cACT/N,SAAU,WACVgO,IAAK,OACL/N,KAAM,MACNgO,WAAY,SACZtP,QAAS,EACTuP,UAAW,SACXC,UAAW,yBAmBFN,CAAmBH,ICR5BU,G,uKACM,IAAD,EAC4BlJ,KAAK9H,MAAhC4D,EADD,EACCA,QAASqN,EADV,EACUA,MAAO7I,EADjB,EACiBA,OAElB8I,EAASD,EAAMC,SAEfC,EAASF,EAAMG,OAAOF,OAAO,CAAC,EAHZ,KAIlBG,EAAUC,MAAMC,KAAK,CAAE7J,OAAQ8J,KAClCvS,KAAI,SAACwS,EAAGhR,GAAJ,gBAAa0Q,EAAO1Q,GAApB,YAA0ByL,KAAKwF,MAAW,IAAJjR,EALrB,IAKjB,QACJkR,KAAK,KACR,OACE,yBACEzN,UAAWN,EAAQ3C,KACnB2Q,YAAWxJ,EAAO8I,EAAO,IACzBW,UAASzJ,EAAO8I,EAAO,IACvBzL,MAAO,CAAE+K,WAAW,6BAAD,OAA+Ba,EAA/B,Y,GAfEnR,IAAMkJ,WAqBpBqH,gBA/CA,SAACzP,GAAD,MAAY,CACzBC,KAAM,CACJC,SAAU,EACVC,OAAQA,GACRyB,SAAU,WACV,YAAa,CACX+N,QAAS,kBACT/N,SAAU,WACVgO,IAAK,OACL/N,KAAM,EACNgO,WAAY,SACZiB,WAAY3Q,EACZ2P,UAAW,QAEb,WAAY,CACVH,QAAS,gBACT/N,SAAU,WACVgO,IAAK,OACL1N,MAAO,EACP2N,WAAY,SACZiB,WAAY3Q,EACZ2P,UAAW,aA0BFL,CAAmBO,ICZ5Be,G,uKAMF,IALQ,IAAD,EACoCjK,KAAK9H,MAAxC4D,EADD,EACCA,QAASqN,EADV,EACUA,MAAOe,EADjB,EACiBA,OAAQ5J,EADzB,EACyBA,OAG5BqC,EAAQ,EACLA,EAAQ,GAAIA,IAAS,CAM1B,GAJiBwG,EAAMgB,MAAMxH,GAAOlD,QAAO,SAAC2K,EAAK/G,GAE/C,OAAO+G,EADOhG,KAAKjD,IAAI+I,EAASf,EAAM9F,GAAK,EAAG,MAE7C,GA/CK,IAgDc,CACpBV,IACA,OAKJ,OACE,yBAAKvG,UAAWN,EAAQ3C,MACrBgQ,EAAMgB,MAAMxH,GAAOxL,KAAI,SAACkM,GACvB,IAAMgH,EAASH,EAASf,EAAM9F,GAC9B,OACE,yBACEtK,IAAKsK,EACLjH,UAAWN,EAAQwO,OACnB7B,MAAOnI,EAASA,EAAO+C,GAAKA,GAE5B,yBACEjH,UAAWN,EAAQyO,YACnB5M,MAAO,CACLiD,MAAM,GAAD,OAAc,EAATyJ,EAAL,MACLhR,OAAO,GAAD,OAAc,EAATgR,EAAL,kB,GAjCCjS,IAAMkJ,WA4ChBqH,gBA7EA,SAACzP,GAAD,MAAY,CACzBC,KAAM,CACJyH,MALU,IAMVpH,QAAS,OACTgR,cAAe,GACfC,eAAgB,gBAChBC,UAAW,WAEbJ,OAAQ,CACNnQ,OAAQ,QACRb,SAZa,GAabwB,SAAU,WACVtB,QAAS,OACTK,WAAY,SACZ4Q,eAAgB,SAChBE,cAAe,SACf,YAAa,CACX9B,QAAS,cACT/N,SAAU,WACVF,SAAU,QACVkO,IAAK,OACL/N,KAAM,MACNtB,QAAS,EACTuP,UAAW,SACXC,UAAW,sBAGfsB,YAAa,CACX3B,aAAc,MACdF,WAAYkC,GAAiBC,gBAgDlBlC,CAAmBsB,IC3E3B,SAASa,GAAqBxF,GACnC,OAAO,SAACgC,GACN,IAAMyD,EAAOzD,EAAMM,oBAAoBtC,GACjC6D,EAAQ7B,EAAM0D,WAAW1B,OAAOF,OAAO2B,EAAK3B,QAElD,MAAO,CACL6B,OAAQ,kBACN,oCACE,kBAAC,GAAD,CAAgB9B,MAAOA,EAAO7I,OAAQyK,EAAKzK,SAC3C,kBAAC,GAAD,CACEzD,MAAM,UACNS,MAAOsN,GAAiBM,wBAI9B/B,MAAO,SAACnE,GACN,IAAM/E,EAAQ+E,EAAKM,GACnB,OAAgB,MAATrF,EACHkJ,EAAMlJ,GACN2K,GAAiBM,uBAmC7B,SAASC,GAAmB/B,GAC1B,OAAOgC,eAAchC,OAAOA,GAOvB,SAASiC,GAAoB/F,GAAyC,IAAnCgG,EAAkC,uDAApBH,GACtD,OAAO,SAAC7D,GACN,IAAKA,EAAM1K,KACT,MAAO,CACLqO,OAAQ,kBAAM,MACd9B,MAAO,kBAAM7B,EAAMiE,eAAe,KAGtC,IAAMR,EAAOzD,EAAMM,oBAAoBtC,GACjC6D,EAAQmC,EAAYP,EAAK3B,QAC5BlJ,MAAMoH,EAAMiE,gBACZC,OAAM,GAET,MAAO,CACLP,OAAQ,SAACf,GAAD,OACN,kBAAC,GAAD,CAAYf,MAAOA,EAAOe,OAAQA,EAAQ5J,OAAQyK,EAAKzK,UAEzD6I,MAAO,SAACnE,GACN,IAAM/E,EAAQ+E,EAAKM,GACnB,OAAgB,MAATrF,EAAgBkJ,EAAMlJ,GAASkJ,EAAMjJ,QAAQ,MCpF5D,IDgCoCoF,GAAMmG,GAAYC,GChChDC,GAAY,CAChB,CACE9O,MAAO,UACPwK,OAAQ,SAACrC,EAAMsC,GACb,OACE,oCACE,kBAACjK,EAAA,EAAD,CAAYoJ,cAAY,EAAC9F,QAAQ,MAC9BqE,EAAKhD,MAER,kBAAC3E,EAAA,EAAD,CAAYoJ,cAAY,EAAC9F,QAAQ,YAAYjD,UAAU,OAAvD,cAIC4J,EAAMsE,aAAazU,KAAI,SAACmO,GACvB,IAAMrF,EAAQ+E,EAAKM,EAAKuG,UACxB,OAAa,MAAT5L,EACK,KAEF,kBAAC,GAAD,eAAWlH,IAAKuM,EAAKuG,SAAU5L,MAAOA,GAAWqF,OAG1D,yBAAK3H,MAAO,CAAEiD,MAAO,OAAQvH,OAAQ,UACnC,kBAAC,GAAD,CAAW8N,MAAOnC,EAAKmD,eAK/BI,QAAS,SAACvD,GAAD,OAAU,kBAAC3H,EAAA,EAAD,CAAYsD,QAAQ,WAAWqE,EAAKhD,SAIrDqH,GAAS,CACb,CACExM,MAAO,OACPiP,QAAS,iBAAO,CACdb,OAAQ,kBAAM,MACd9B,MAAO,kBAAMyB,GAAiBC,iBAK9BkB,GAAQ,CACZ,CACElP,MAAO,OACPiP,QAAS,iBAAO,CACdb,OAAQ,kBAAM,MACd9B,MAAO,kBAAM,QAKJ,IACbwC,aAEAtC,UACA2C,UAAW,EAAE,KAAM,GACnBD,SACAE,UAAW,KAEXC,WAAY,GAEZC,SAAU,CACRC,SAAUT,GAAU,GACpBrO,MAAO+L,GAAO,GACdgD,MAAO,IACPC,KAAMP,GAAM,KCjEF,0BACTQ,GAAgBR,OADrB,CAEE,CACElP,MAAO,oBACPiP,QAAS,SAACxE,GACR,IAAM6B,EAAQ7B,EAAM0D,WAAW1B,OAAOF,OAAO9B,EAAM2E,WAEnD,MAAO,CACLhB,OAAQ,kBACN,oCACE,kBAAC,GAAD,CAAgB9B,MAAOA,EAAO7I,OAAQ,SAAC+C,GAAD,OAAOA,EAAEmJ,cAC/C,kBAAC,GAAD,CACE3P,MAAM,eACNS,MAAOsN,GAAiB6B,uBAI9BtD,MAAO,SAACnE,GACN,IAAMO,EAAYP,EAAKO,UACvB,OAAoB,MAAbA,EACH4D,EAAM5D,GACNqF,GAAiB6B,uBAK7B,CACE5P,MAAO,0BACPiP,SFIgCxG,GEJH,YFISmG,GEJI,aFIQC,GEJM,eFKnD,SAACpE,GACN,MAAO,CACL2D,OAAQ,kBACN,oCACE,kBAAC,GAAD,CACEpO,MAAO4O,GACPnO,MAAOsN,GAAiB8B,mBAE1B,kBAAC,GAAD,CACE7P,MAAO6O,GACPpO,MAAOsN,GAAiB6B,uBAI9BtD,MAAO,SAACnE,GAEN,OAAgB,MADFA,EAAKM,IAEfsF,GAAiB8B,iBACjB9B,GAAiB6B,wBErB3B,CACE5P,MAAO,0BACPiP,QAAS,SAACxE,GACR,IAAMqF,EAAOrF,EAAMsF,UACnB,MAAO,CACL3B,OAAQ,kBACN,oCACE,kBAAC,GAAD,CACEpO,MAAM,aACNS,MAAOsN,GAAiB8B,mBAE1B,kBAAC,GAAD,CACE7P,MAAM,eACNS,MAAOsN,GAAiB6B,uBAI9BtD,MAAO,SAACnE,GACN,IAAMO,EAAYP,EAAKO,UACvB,OAAoB,MAAbA,GAAqBA,GAAaoH,EACrC/B,GAAiB8B,iBACjB9B,GAAiB6B,uBAK7B,CACE5P,MAAO,mBACPiP,QAAShB,GAAqB,qBAEhC,CACEjO,MAAO,wBACPiP,QAAShB,GAAqB,0BAEhC,CACEjO,MAAO,yBACPiP,QAAShB,GAAqB,eAEhC,CACEjO,MAAO,yBACPiP,QAAShB,GAAqB,eAEhC,CACEjO,MAAO,oBACPiP,QAAShB,GAAqB,aAEhC,CACEjO,MAAO,gBACPiP,QAAShB,GAAqB,kBAEhC,CACEjO,MAAO,sBACPiP,QAAShB,GAAqB,gBCnFlC,SAAS+B,GAAevB,GACtB,OAAO,SAAChE,GACN,IAAKA,EAAM1K,KACT,MAAO,CACLqO,OAAQ,kBAAM,MACd9B,MAAO,kBAAM7B,EAAMiE,eAAe,KAItC,IAAMuB,EAAUxF,EAAM1K,KAAKmQ,aACzB,SAAC/H,GAAD,OAA4B,MAAlBA,EAAKO,WAAqBP,EAAKO,WAAa+B,EAAMqF,KAAK,MAE7DK,EAAS/U,OAAO4L,OAAOiJ,GAASrN,QACpC,WAAa4D,GAAO,IAAD,oBAAjBnC,EAAiB,KAAZC,EAAY,KACjB,OAAS,MAALkC,EACK,CAACnC,EAAKC,GAER,CAACiD,KAAKlD,IAAIA,EAAKmC,GAAIe,KAAKjD,IAAIA,EAAKkC,MAE1C,CAACvC,OAAO4D,kBAAmB5D,OAAO6D,oBAG9BwE,EAAQmC,EAAY0B,GAAQ9M,MAAMoH,EAAMiE,gBAAgBC,OAAM,GACpE,MAAO,CACLP,OAAQ,SAACf,GAAD,OAAY,kBAAC,GAAD,CAAYf,MAAOA,EAAOe,OAAQA,KACtDf,MAAO,SAACnE,GACN,IAAM2C,EAASmF,EAAQ9H,EAAKhD,OAAS,EACrC,OAAOmH,EAAMxB,MAMP,8BACT4E,GAAgBR,OADrB,CAEE,CACElP,MAAO,kBACPiP,QAASe,IAAe,SAACzD,GAAD,OAAYgC,eAAchC,OAAOA,OAE3D,CACEvM,MAAO,gBACPiP,QAASe,IAAe,SAACzD,GAAD,OAAY6D,eAAY7D,OAAOA,OAEzD,CACEvM,MAAO,mBACPiP,QAASe,IAAe,SAACzD,GAAD,OAAY8D,eAAW9D,OAAOA,GAAQ+D,SAAS,OAEzE,CACEtQ,MAAO,eACPiP,QAASe,IAAe,SAACzD,GAAD,OACtBgE,eAAWhE,OAAO,CAAChF,KAAKjD,IAAI,EAAGiI,EAAO,IAAKA,EAAO,WClDzC,8BACVmD,IADL,IAEEN,UAAW,CAAC,KAAM,MAClBN,aACAtC,UACA0C,SAEAG,WAAY,CACVvE,OAAQ,CACN9K,MAAO,oBACPyD,OAAQ,KAEVuH,iBAAkB,CAChBhL,MAAO,mBACPwQ,YAAY,EACZ/M,OAAQ,MACRgN,OAAO,YAETxF,sBAAuB,CACrBjL,MAAO,wBACPwQ,YAAY,EACZ/M,OAAQ,MACR8I,OAAQ,CAAC,EAAG,IAEdrB,WAAY,CACVlL,MAAO,yBACPwQ,YAAY,GAEdrF,SAAU,CACRnL,MAAO,oBACPwQ,YAAY,GAEdpF,cAAe,CACbpL,MAAO,iBAETqL,UAAW,CACTrL,MAAO,wBAIXsP,SAAS,2BACJI,GAAgBJ,UADb,IAENC,SAAUT,GAAU,GACpBrO,MAAO+L,GAAO,GACdgD,MAAO,IACPC,KAAMP,GAAM,GACZa,UAAW,KACXD,KAAM,CAAC,KAAM,UCjDH,0BACTJ,GAAgBlD,QADrB,CAEE,CACExM,MAAO,mBACPiP,QAAShB,GAAqB,qBAEhC,CACEjO,MAAO,WACPiP,QAAShB,GAAqB,eCNlC,SAAS+B,GAAevB,GACtB,OAAO,SAAChE,GACN,IAAKA,EAAM1K,KACT,MAAO,CACLqO,OAAQ,kBAAM,MACd9B,MAAO,kBAAM7B,EAAMiE,eAAe,KAItC,IACMyB,EADU/U,OAAO4L,OAAOyD,EAAM1K,KAAK2F,OAAOpL,KAAI,SAAC6N,GAAD,OAAUA,EAAK2C,UAC5ClI,QACrB,WAAa4D,GAAO,IAAD,oBAAjBnC,EAAiB,KAAZC,EAAY,KACjB,OAAS,MAALkC,EACK,CAACnC,EAAKC,GAER,CAACiD,KAAKlD,IAAIA,EAAKmC,GAAIe,KAAKjD,IAAIA,EAAKkC,MAE1C,CAACvC,OAAO4D,kBAAmB5D,OAAO6D,oBAG9BwE,EAAQmC,EAAY0B,GAAQ9M,MAAMoH,EAAMiE,gBAAgBC,OAAM,GAEpE,MAAO,CACLP,OAAQ,SAACf,GAAD,OAAY,kBAAC,GAAD,CAAYf,MAAOA,EAAOe,OAAQA,KACtDf,MAAO,SAACnE,GACN,IAAM2C,EAAS3C,EAAK2C,QAAU,EAC9B,OAAOwB,EAAMxB,MAMP,8BACT4E,GAAgBR,OADrB,CAEE,CACElP,MAAO,kBACPiP,QAASe,IAAe,SAACzD,GAAD,OAAYgC,eAAchC,OAAOA,OAE3D,CACEvM,MAAO,gBACPiP,QAASe,IAAe,SAACzD,GAAD,OAAY6D,eAAY7D,OAAOA,OAEzD,CACEvM,MAAO,eACPiP,QAASe,IAAe,SAACzD,GAAD,OACtBgE,eAAWhE,OAAO,CAAChF,KAAKjD,IAAI,EAAGiI,EAAO,IAAKA,EAAO,WC3ClDuC,GAAY,CAChB,CACE9O,MAAO,aACPwK,OAAQ,SAACrC,EAAMsC,GACb,OACE,oCACE,kBAACjK,EAAA,EAAD,CAAYoJ,cAAY,EAAC9F,QAAQ,MAC9BqE,EAAK1B,QADR,KACmB0B,EAAKhD,KADxB,KAGA,kBAAC3E,EAAA,EAAD,CAAYoJ,cAAY,EAAC9F,QAAQ,YAAYjD,UAAU,OAAvD,cAIC4J,EAAMsE,aAAazU,KAAI,SAACmO,GACvB,IAAMrF,EAAQ+E,EAAKM,EAAKuG,UACxB,OAAa,MAAT5L,EACK,KAEF,kBAAC,GAAD,eAAWlH,IAAKuM,EAAKuG,SAAU5L,MAAOA,GAAWqF,SAKhEiD,QAAS,SAACvD,GAAD,OACP,kBAAC3H,EAAA,EAAD,CAAYsD,QAAQ,WAAWqE,EAAK1B,YAK3B,8BACViJ,IADL,IAEEZ,aACAtC,UACA0C,SAEAG,WAAY,CACVvE,OAAQ,CACN9K,MAAO,oBACPyD,OAAQ,KAEVuH,iBAAkB,CAChBhL,MAAO,mBACPwQ,YAAY,EACZ/M,OAAQ,MACRgN,OAAO,YAETC,SAAU,CACR1Q,MAAO,WACPwQ,YAAY,EACZ/M,OAAQ,MACRgN,OAAQ,aAIZnB,SAAS,2BACJI,GAAgBJ,UADb,IAENC,SAAUT,GAAU,GACpBrO,MAAO+L,GAAO,GACdgD,MAAO,IACPC,KAAMP,GAAM,OC/DVG,GAAa,CACjBvE,OAAQ,CACN9K,MAAO,oBACPyD,OAAQ,KAEV0H,SAAU,CACRnL,MAAO,oBACPwQ,YAAY,GAEdtF,WAAY,CACVlL,MAAO,yBACPwQ,YAAY,IAIVhE,GAAM,uBACPkD,GAAgBlD,QADT,aAEPpR,OAAOkL,QAAQ+I,IAAY/U,KAAI,YAAmB,IAAD,oBAAhBmO,EAAgB,KAClD,MAAO,CACLzI,MAFgD,KAEpCA,MACZiP,QAAShB,GAAqBxF,SAK9ByG,GAAK,uBACNQ,GAAgBR,OADV,aAEN9T,OAAOkL,QAAQ+I,IAAY/U,KAAI,YAAmB,IAAD,oBAAhBmO,EAAgB,KAClD,MAAO,CACLzI,MAFgD,KAEpCA,MACZiP,QAAST,GAAoB/F,SAKpB,8BACViH,IADL,IAGEL,cACA7C,UACA0C,SAEAI,SAAS,2BACJI,GAAgBJ,UADb,IAEN7O,MAAO+L,GAAO,GACdiD,KAAMP,GAAM,OC5CD,IAAC,aAEZhT,IAAK,aACL8D,MAAO,+BACP2Q,SAAU,iCACPC,IALQ,aAQX1U,IAAK,YACL8D,MAAO,8BACP2Q,SAAU,gCACPE,IAXQ,aAcX3U,IAAK,OACL8D,MAAO,gDACP2Q,SAAU,sCACPG,IAjBQ,aAoBX5U,IAAK,SACL8D,MAAO,kDACP2Q,SAAU,wCACPG,K,8BCzBA,SAASC,GAAgBC,EAAMC,EAAQR,GAC5C,IAAM7O,EAAO6B,aAAOuN,GAEpB,OAAKC,GAAWR,EAGT,SAACjK,GAAD,gBAAUyK,GAAU,IAApB,OAAyBrP,EAAK4E,IAA9B,OAAmCiK,GAAU,KAF3C7O,E,qICNJ,SAASsP,GAAYC,EAAexL,GACzC,IADgD,EAC1CyL,GACyB,kBAAlBD,IACTA,EAAgB,CAACA,IAGZxE,MAAM0E,QAAQF,GACjB,IAAIG,IAAIH,GACRA,GAIAzL,EAAQ,IAAI4L,IAAIF,GAZ0B,eAa7BzL,GAb6B,IAahD,2BAA0B,CAAC,IAAhBqC,EAAe,SACpBoJ,EAAOG,IAAIvJ,EAAK,KAAOoJ,EAAOG,IAAIvJ,EAAK,OACzCtC,EAAM8L,IAAIxJ,EAAK,IACftC,EAAM8L,IAAIxJ,EAAK,MAhB6B,8BAmBhD,OAAOtC,ECLF,I,oCAAMqI,IAAb,iBAmKE,aAAe,IAAD,2zCAFd0D,OAAS,IAAIrX,KAIXsX,cAAQ,WACN,IAAMC,EAAS,EAAKC,QAAQjB,SAG5B,EAAKkB,QAAU,CAAE1J,KAAM,KAAMlK,SAAU,KAAMuP,OAAQ,MACrD,EAAKsE,YAAc,CAAEC,MAAO,KAAMC,MAAO,KAAM/T,SAAU,MACzD,EAAKgU,QAAU,GACf,EAAKrR,SAAW,KAChB,EAAKsR,YAAc,GAGnB9W,OAAO+W,OAAO,EAAM,EAAKP,QAAQtC,UAAY,IAE7C,EAAKvP,KAAO,KAEZkJ,MAAM0I,GACH9W,MAAK,SAACuX,GAAD,OAAUA,EAAKjJ,UACpBtO,MAAK,SAACkF,GACD4R,IAAW,EAAKC,QAAQjB,WAE1B,EAAK5Q,KAAO,IAAI0F,GAAiB1F,EAAK2F,MAAO3F,EAAK4F,cAM1DxC,KAAKkP,YAGLX,cAAQ,WACN,IvBnMyBvM,EuBmMnBgD,EAAO,EAAKvH,SACbuH,IAAQA,EAAKmD,YAGlBnD,EAAKmK,kBvBvMoBnN,EuBuMcgD,EAAKhD,KvBtMzC4D,GAAU,0BAAD,OAA2B5D,EAA3B,YuBsMsCtK,MAAK,SAACyP,GACtD,OAAQnC,EAAKmD,UAAYhB,SAI7BoH,cAAQ,WACN,GAAK,EAAK3R,KAAV,CAGA,IAAMoI,EAAO,EAAKpI,KAAK2F,MAAM,EAAK6M,QAC9BpK,IACF,EAAKvH,SAAWuH,OAlNxB,sDAoBI,OAAOhF,KAAKyO,QAAQ9C,YApBxB,gCA4BI,OAAO3L,KAAKyO,QAAQzC,YA5BxB,gCAoDI,OAAOhM,KAAKyO,QAAQxC,YApDxB,6BA+DI,OAAOjM,KAAKyO,QAAQpF,SA/DxB,4BAuEI,OAAOrJ,KAAKyO,QAAQ1C,QAvExB,0CAwI6B,IAAD,OACxB,IAAK/L,KAAK2M,OAAS3M,KAAKiM,UACtB,OAAO,kBAAM,GAFS,mBAIJjM,KAAK2M,KAJD,GAIjB0C,EAJiB,KAIZC,EAJY,KAKxB,OAAO,SAACtK,GACN,IAAMO,EAAYP,EAAKO,UAIvB,OACgB,MAAbA,GAAqB+J,IAAS,EAAKrD,UAAU,IAChC,MAAb1G,GAAqB8J,GAAO9J,GAAaA,GAAa+J,OApJ/D,iDAuNe,IAAD,OACJC,EAAiB,SAACC,GActB,GAbAA,EAAK,eAAQA,GACb,CAAC,UAAW,QAAS,QAAQ5M,SAAQ,SAAC6M,GACpC,IAAMxP,EAAQuP,EAAMC,GAEpB,UADOD,EAAMC,GACRxP,EAAL,CAIA,IAAMyP,EAAQ,EAAK,GAAD,OAAID,EAAJ,MAAaE,MAAK,SAAChQ,GAAD,OAAOA,EAAE9C,QAAUoD,KACnDyP,IACF,EAAKD,GAAQC,OAGbF,EAAM/R,UAAY+R,EAAMI,OAAQ,CAElC,IAAMC,EAAWL,EAAM/R,SACjBqS,EAAQN,EAAMI,cACbJ,EAAM/R,gBACN+R,EAAMI,OAEbrB,cAAQ,SAACwB,GACF,EAAKnT,OAIV,EAAKa,SAAW,EAAKb,KAAK2F,MAAMsN,GAChC,EAAKd,YAAce,EAChB3Y,KAAI,SAACwI,GAAD,mBAAC,eAAYA,GAAb,IAAgBqF,KAAM,EAAKpI,KAAK2F,MAAM5C,EAAEqF,WAC5CC,QAAO,SAACtF,GAAD,OAAiB,MAAVA,EAAEqF,QAEnB+K,EAASC,cAIb/X,OAAO+W,OAAO,EAAMQ,IAGhBA,EAAQS,OAAOC,QAAQV,MAC7B,GAAIA,GAA0B,MAAjBA,EAAMf,QAEjBc,EAAeC,OACV,CAEL,IAAMW,EAAM,IAAIC,IAAIH,OAAOI,SAASjI,MAC9BqG,EAAU0B,EAAIG,aAAaC,IAAI,MAC/B9S,EAAW0S,EAAIG,aAAaC,IAAI,KAChCC,GAAcL,EAAIG,aAAaC,IAAI,MAAQ,IAAIE,MAAM,KACrDC,GAAkBP,EAAIG,aAAaC,IAAI,MAAQ,IAAIE,MAAM,KACzDE,GAAmBR,EAAIG,aAAaC,IAAI,MAAQ,IAAIE,MAAM,KAC1Db,EAAS,IAAIgB,IACnBJ,EAAW5N,SAAQ,SAACiO,GAAD,OACjBjB,EAAOkB,IAAID,EAAG,CACZ7L,KAAM6L,EACNE,kBAAkB,EAClBL,gBAAgB,OAGpBA,EAAe9N,SAAQ,SAACiO,GAClBjB,EAAOxB,IAAIyC,GACbjB,EAAOW,IAAIM,GAAGH,gBAAiB,EAE/Bd,EAAOkB,IAAID,EAAG,CACZ7L,KAAM6L,EACNE,kBAAkB,EAClBL,gBAAgB,OAItBC,EAAgB/N,SAAQ,SAACiO,GACnBjB,EAAOxB,IAAIyC,GACbjB,EAAOW,IAAIM,GAAGE,kBAAmB,EAEjCnB,EAAOkB,IAAID,EAAG,CACZ7L,KAAM6L,EACNE,kBAAkB,EAClBL,gBAAgB,OAItBnB,EAAe,CACbd,UACAhR,WACAmS,OAAQpG,MAAMC,KAAKmG,EAAO/L,UAAUmN,MAAK,SAACvL,EAAGC,GAAJ,OACvCF,GAAkBC,EAAEzD,KAAM0D,EAAE1D,WAKlC,IAAIiP,GAAW,EAEf1C,cACE,WACE,IAAMiB,EAAQ,CACZf,QAAS,EAAKA,QAAQ5R,MACtBS,MAAO,EAAKA,MAAMT,MAClByP,KAAM,EAAKA,KAAKzP,MAChBwP,KAAM,EAAKA,KACXO,UAAW,EAAKA,UAChBsE,cAAe,EAAKA,cACpBpC,QAASqC,aAAK,EAAKrC,SACnBsC,eAAgBD,aAAK,EAAKC,gBAC1B3T,SAAU,EAAKA,SAAW,EAAKA,SAASuE,KAAO,KAC/C4N,OAAQ,EAAKb,YAAY5X,KAAI,SAACwI,GAAD,mBAAC,eAAYA,GAAb,IAAgBqF,KAAMrF,EAAEqF,KAAKhD,WAG5D,IAAIqP,aAAQ7B,EAAOS,OAAOC,QAAQV,OAAlC,CAKA,IAAMW,EAAM,IAAIC,IAAIH,OAAOI,SAASjI,MACpC+H,EAAIG,aAAaQ,IAAI,KAAM,EAAKrC,QAAQ5R,OACpC,EAAKY,SACP0S,EAAIG,aAAaQ,IAAI,IAAK,EAAKrT,SAASuE,MAExCmO,EAAIG,aAAagB,OAAO,KAEtB,EAAKC,gBAAgB3R,OAAS,EAChCuQ,EAAIG,aAAaQ,IACf,IACA,EAAKS,gBAAgBpa,KAAI,SAACwI,GAAD,OAAOA,EAAEqC,QAAM6H,KAAK,MAG/CsG,EAAIG,aAAagB,OAAO,KAEtB,EAAKE,sBAAsB5R,OAAS,EACtCuQ,EAAIG,aAAaQ,IACf,IACA,EAAKU,sBAAsBra,KAAI,SAACwI,GAAD,OAAOA,EAAEqC,QAAM6H,KAAK,MAGrDsG,EAAIG,aAAagB,OAAO,KAEtB,EAAKG,oBAAoB7R,OAAS,EACpCuQ,EAAIG,aAAaQ,IACf,IACA,EAAKW,oBAAoBta,KAAI,SAACwI,GAAD,OAAOA,EAAEqC,QAAM6H,KAAK,MAGnDsG,EAAIG,aAAagB,OAAO,KAE1B,IAAM7I,EAASiJ,SAASjJ,MAAT,wBAAkC,EAAKgG,QAAQ5R,OAA/C,OACb,EAAKY,SAAL,aAAsB,EAAKA,SAASuE,MAAS,IAE3CiP,GACFA,GAAW,EACXhB,OAAOC,QAAQyB,aAAanC,EAAO/G,EAAO0H,EAAI/H,OAE9C6H,OAAOC,QAAQ0B,UAAUpC,EAAO/G,EAAO0H,EAAI/H,SAG/C,CAAEyJ,MAAO,MAIX5B,OAAOjJ,iBAAiB,YAAY,SAAC8K,GACnC,IAAMtC,EAAQsC,EAAItC,MACdA,GAA0B,MAAjBA,EAAMf,SACjBc,EAAeC,QAvXvB,sCA4gBkB3D,GAAsB,IAAZkG,EAAW,uDAAJ,GACzBC,EAAK,aACTnG,WACAoG,cAAc,EACdzX,KAAM,YACNqC,MAAOqV,aAAUrG,GACjBsG,gBAAiB,MACjB7R,OAAQ,SAAC+C,GAAD,MAAqB,kBAANA,EAAiBA,EAAExC,QAAQ,GAAKwC,IACpD0O,GAUL,MAR4B,kBAAjBC,EAAM1R,SAEf0R,EAAMG,gBAAkBH,EAAM1R,OAC9B0R,EAAM1R,OAASsN,GAAgBoE,EAAM1R,OAAQ0R,EAAMlE,OAAQkE,EAAM1E,SAEhD,cAAf0E,EAAMxX,MAAyBwX,EAAM5I,SACvC4I,EAAM5I,OAASpJ,KAAKoS,gBAAgBvG,IAE/BmG,IA9hBX,0CA+iBsBnG,GAClB,IAAMvG,EAAOtF,KAAKkM,WAAWL,GAC7B,OAAKvG,GAEItF,KAAKqS,gBAAgBxG,KAnjBlC,sCAwjBkBA,EAAUtJ,GAAQ,IAAD,OAC/B,OAAKvC,KAAKpD,MAGV2F,EAAQA,GAASvC,KAAKpD,KAAKmH,aAEdtE,QACX,WAAauC,GAAU,IAAD,oBAApBd,EAAoB,KAAfC,EAAe,KACdkC,EAAI,EAAKzG,KAAK0V,aAAatQ,EAAM6J,GACvC,OAAS,MAALxI,EACK,CAACnC,EAAKC,GAER,CAACiD,KAAKlD,IAAIA,EAAKmC,GAAIe,KAAKjD,IAAIA,EAAKkC,MAE1C,CAACvC,OAAO4D,kBAAmB5D,OAAO6D,oBAZ3B,CAAC,EAAG,MA1jBjB,mCA2kBe4N,EAAMC,GACjBxS,KAAKuS,KAAOA,EACZvS,KAAKwS,SAAWA,IA7kBpB,uCAilBoB,IAAD,OACf,GAAKxS,KAAKiM,UAAV,CAGA,IAAIuG,EAAWxS,KAAKwS,SAChBD,GAAQvS,KAAKuS,KAEbvS,KAAKuS,MAAQvS,KAAKwS,WACpBC,cAAczS,KAAKwS,UACnBA,EAAW,MAGRxS,KAAKuS,OACRC,EAAWE,aAAY,WACrB,IAAIC,EAAW,EAAKhG,KAAK,GAAK,EAC1B,EAAKA,KAAK,KAAO,EAAKV,UAAU,KAClC0G,EAAW,EAAK1G,UAAU,IAE5B,EAAKU,KAAO,CAAC,EAAKV,UAAU,GAAI0G,KAC/B,MAGL3S,KAAK4S,aAAaL,EAAMC,MAvmB5B,iCA2mBaxN,EAAM6N,GACf,IAAMC,EAAc9S,KAAKvC,SAAWuC,KAAKvC,SAASuE,KAAO,GACnDnE,EAAamH,GAAQA,EAAKhD,OAAS8Q,EAEzC,GAAK9N,IAAU6N,EAAUE,OAAUF,EAAUG,KAAQH,EAAUI,MAA/D,CAKA,IAAMC,EAAMlT,KAAK+O,YAAYY,MAAK,SAAChQ,GAAD,OAAOA,EAAEqF,KAAKhD,OAASgD,EAAKhD,QAC9D,GAAIkR,EACF,OAAIL,EAAUI,MAEZjT,KAAKmT,aAAanO,QAClBhF,KAAKvC,SAAW,QAGdoV,EAAUG,MACZE,EAAIxC,gBAAkBwC,EAAIxC,gBAExBmC,EAAUE,QACZG,EAAInC,kBAAoBmC,EAAInC,uBAE9B/Q,KAAKvC,SAAWyV,EAAIxC,gBAAkBwC,EAAInC,iBAAmB/L,EAAO,OAItEhF,KAAK+O,YAAYjP,KAAK,CACpBkF,OACA0L,eAAgBmC,EAAUG,IAC1BjC,iBAAkB8B,EAAUE,QAE9B/S,KAAKvC,SAAWuH,OA1BdhF,KAAKvC,SAAWI,EAAa,KAAOmH,IAjnB1C,6CAyqByBoO,GAAQ,IAAD,OACtBF,EAAM,IAAI/E,IAAInO,KAAKyR,oBAAoBta,KAAI,SAACwI,GAAD,OAAOA,EAAEqC,SAC1DoR,EAAMxQ,SAAQ,SAACZ,GACRkR,EAAI5B,OAAOtP,IAEd,EAAKqR,qBAAqB,EAAKzW,KAAK2F,MAAMP,OAI9CkR,EAAItQ,SAAQ,SAACZ,GAAD,OAAU,EAAKqR,qBAAqB,EAAKzW,KAAK2F,MAAMP,SAlrBpE,6CAosByBgD,GACrB,IAAMsO,EAAWtT,KAAK+O,YAAYY,MAAK,SAAChQ,GAAD,OAAOA,EAAEqF,KAAKhD,OAASgD,EAAKhD,QACnE,OAAIsR,GACFA,EAASvC,kBAAoBuC,EAASvC,kBAC/B,IAET/Q,KAAK+O,YAAYjP,KAAK,CACpBkF,OACA+L,kBAAkB,EAClBL,gBAAgB,KAEX,KA/sBX,2CAmtBuB1L,GACnB,IAAMsO,EAAWtT,KAAK+O,YAAYY,MAAK,SAAChQ,GAAD,OAAOA,EAAEqF,KAAKhD,OAASgD,EAAKhD,QACnE,OAAIsR,GACFA,EAAS5C,gBAAkB4C,EAAS5C,gBAC7B,IAET1Q,KAAK+O,YAAYjP,KAAK,CACpBkF,OACA+L,kBAAkB,EAClBL,gBAAgB,KAEX,KA9tBX,+CAiuB2B1L,GACvB,OAAOhF,KAAK+O,YAAYwE,MACtB,SAAC5T,GAAD,OAAOA,EAAEqF,KAAKhD,OAASgD,EAAKhD,MAAQrC,EAAEoR,sBAnuB5C,6CAuuByB/L,GACrB,OAAOhF,KAAK+O,YAAYwE,MACtB,SAAC5T,GAAD,OAAOA,EAAEqF,KAAKhD,OAASgD,EAAKhD,MAAQrC,EAAE+Q,oBAzuB5C,+BA6uBW1L,GACP,OAAkE,MAA3DhF,KAAK+O,YAAYY,MAAK,SAAChQ,GAAD,OAAOA,EAAEqF,KAAKhD,OAASgD,EAAKhD,UA9uB7D,mCAkvBegD,GACXhF,KAAK+O,YAAc/O,KAAK+O,YAAY9J,QAClC,SAACtF,GAAD,OAAOA,EAAEqF,KAAKhD,OAASgD,EAAKhD,UApvBlC,iCAyvBagD,GACThF,KAAK+O,YAAYjP,KAAK,CACpBkF,OACA+L,kBAAkB,EAClBL,gBAAgB,MA7vBtB,mCAkwBe1L,GACX,IAAMtC,EAAQ1C,KAAK+O,YAAYyE,WAAU,SAAC7T,GAAD,OAAOA,EAAEqF,KAAKhD,OAASgD,EAAKhD,QACjEU,GAAS,EACX1C,KAAK+O,YAAY0E,OAAO/Q,EAAO,GAE/B1C,KAAK+O,YAAYjP,KAAK,CACpBkF,OACA+L,kBAAkB,EAClBL,gBAAgB,MA1wBxB,mCA+wBelW,EAAMkZ,EAAQC,GAAY,IAAD,OAC9B5a,EAAM6a,eACNC,EAAU,SAACrZ,EAAMkZ,GAAP,OACd,EAAKpF,OAAOwF,YAAY,CAAEtZ,OAAMkZ,SAAQ3a,SAa1C,OAFAiH,KAAKsO,OAAOtH,iBAAiB,WATZ,SAAX+M,EAAYC,GACZA,EAAIpX,KAAK7D,MAAQA,IAGR4a,EAAUK,EAAIpX,KAAMiX,IAE/B,EAAKvF,OAAOrH,oBAAoB,UAAW8M,OAI/C/T,KAAKsO,OAAOwF,YAAY,CAAEtZ,OAAMkZ,SAAQ3a,QACjC8a,IA/xBX,8CAmyB2B,IAAD,OAChBtR,EAAQ4O,aAAKnR,KAAKiU,mBAAmB9c,KAAI,SAAC6K,GAC9C,IAAMgD,EAAO,EAAKzC,MAAMP,GAOxB,MANmB,CACjBA,OACAqC,EAAGW,EAAKX,EACRG,EAAGQ,EAAKR,EACR6F,OAAQ,EAAK6J,UAAU/K,MAAMnE,OAKjC,GAAqB,IAAjBzC,EAAM3C,OAAV,CAGAI,KAAKmU,mBAAoB,EACzBnU,KAAKoU,kBAAmB,EAExB,IAAM5R,EAAQ2O,aAAKnR,KAAKqU,eAExBrU,KAAKmU,kBAAoBnU,KAAKsU,aAC5B,SACA,CAAE/R,QAAOC,UACT,SAACwR,GACC,IAAMzR,EAAQyR,EAAIN,OAAOnR,MAGzB,OAFA,EAAKgS,eAAiBhS,EAEL,QAAbyR,EAAIxZ,OACN,EAAK2Z,kBAAoB,MAClB,SAh0BjB,4CA00BQnU,KAAKmU,oBACPnU,KAAKmU,kBAAkB,QAAS,IAChCnU,KAAKmU,kBAAoB,QA50B/B,4CAk1BInU,KAAKuU,eAAiB,KAl1B1B,kCAu1BIvU,KAAKqM,KAAOrM,KAAKyO,QAAQtC,SAASE,OAv1BtC,iCA6XoB,IAAD,SACTyC,EAAU7W,OAAOkL,QAAQgO,aAAKnR,KAAK8O,UACnC0F,EAAuB,IAAIrG,KAC/B,MAAGvK,OAAH,qBAAa5D,KAAKyR,oBAAoBta,KAAI,SAACwI,GAAD,OAAOA,EAAE4D,gBAE/CkR,EAAuBzU,KAAKpD,KAC9BmR,GACE/N,KAAKwR,sBAAsBra,KAAI,SAACwI,GAAD,OAAOA,EAAEqC,QACxChC,KAAKpD,KAAK4F,OAEZ,IAAI2L,IAEJnO,KAAK0U,iCAAmC1U,KAAKvC,UAC/CsQ,GAAY/N,KAAKvC,SAASuE,KAAMhC,KAAKpD,KAAK4F,OAAOI,SAAQ,SAACC,GAAD,OACvD4R,EAAqBpG,IAAIxL,MAI7B,IAAM8R,EAAc,IAAIxG,IAAInO,KAAK+O,YAAY5X,KAAI,SAACwI,GAAD,OAAOA,EAAEqF,KAAKhD,SAC/D,OACqB,IAAnB8M,EAAQlP,QACsB,IAA9B4U,EAAqBlI,MACS,IAA9BmI,EAAqBnI,MACA,IAArBqI,EAAYrI,KAELtM,KAAK4U,qBAGV5U,KAAKvC,UACPkX,EAAYtG,IAAIrO,KAAKvC,SAASuE,MAGzB,SAACgD,GACN,QAAI2P,EAAYvG,IAAIpJ,EAAKhD,UAItB,EAAK4S,oBAAoB5P,KACzB8J,EAAQ+F,OAAM,YAAyB,IAAD,oBAAtBvP,EAAsB,4BAAfpE,EAAe,KAAVC,EAAU,KAC/BlB,EAAQ+E,EAAKM,GACnB,OAAgB,MAATrF,GAAiBA,GAASiB,GAAOjB,GAASkB,UAKjDsT,EAAqBrG,IAAIpJ,EAAKhD,WAIhCwS,EAAqBlI,KAAO,GAC5BtH,EAAKzB,UAAUsR,OAAM,SAACpW,GAAD,OAAU+V,EAAqBpG,IAAI3P,QAM1B,IAA9BgW,EAAqBnI,MACS,IAA9BkI,EAAqBlI,MACA,IAArBqI,EAAYrI,WAvbpB,4BA8bI,OAAOtM,KAAKpD,KAAK2F,QA9brB,gCAmcI,OAAOvC,KAAKpD,KAAOoD,KAAKpD,KAAKmH,YAAc,KAnc/C,4BAwcI,OAAO/D,KAAKpD,KAAK4F,QAxcrB,oCA4cuB,IAAD,OAClB,OAAKxC,KAAKpD,KAGHoD,KAAK+D,UACTkB,QAAO,SAACtF,GAAD,OAAuD,KAA/C,EAAK/C,KAAK2F,MAAM5C,GAAG4D,WAAa,IAAI3D,UACnDoR,KAAKxL,IAJC,KA9cb,wCAsd2B,IAAD,OAChBP,EAASjF,KAAK8U,WACpB,OAAK7P,EAGEjF,KAAK+D,UAAUkB,QAAO,SAACjD,GAAD,OAAUiD,EAAO,EAAKrI,KAAK2F,MAAMP,OAFrDhC,KAAK+D,YAzdlB,uCAgeI,OAA0B,MAAnB/D,KAAK8U,aAhehB,oCAoeuB,IAAD,OAClB,OAAO9U,KAAKiU,kBAAkB9c,KAAI,SAAC6K,GAAD,OAAU,EAAKO,MAAMP,QAre3D,oCA0eI,IAAMO,EAAQ,IAAI4L,IAAInO,KAAKiU,mBAC3B,OAAmB,IAAf1R,EAAM+J,KACD,GAEFtM,KAAKpD,KAAK4F,MAAMyC,QAAO,SAACtF,GAAD,OAAO4C,EAAM6L,IAAIzO,EAAE,KAAO4C,EAAM6L,IAAIzO,EAAE,SA9exE,yCAmfI,OAAOyE,KAAK2Q,IAAI,EAAG/U,KAAKqM,QAnf5B,oCAufuB,IAAD,OAClB,IAAKrM,KAAKpD,KACR,MAAO,GAUT,OAPYoD,KAAKpD,KAAKkH,UAAU3M,KAAI,SAACmM,EAASsB,GAAV,MAAmB,CACrDtB,UACAtB,KAAM,EAAKpF,KAAK6G,OAAOmB,OAKZoM,MAFE,SAACvL,EAAGC,GAAJ,OAAUF,GAAkBC,EAAEnC,QAASoC,EAAEpC,YAE9BnM,KAAI,SAAC8I,EAAO2E,GACpC,MAAO,CACL/H,MAAOoD,EAAMqD,QACbrD,MAAOA,EAAMqD,QACb0B,KAAM,EAAKpI,KAAK2F,MAAMtC,EAAM+B,YAvgBpC,iCAkiBoB,IAAD,OACTkK,EAAa,GAInB,OAHAjU,OAAOkL,QAAQnD,KAAKyO,QAAQvC,YAAYtJ,SAAQ,YAAuB,IAAD,oBAApBiJ,EAAoB,KAAVkG,EAAU,KACpE7F,EAAWL,GAAY,EAAKwG,gBAAgBxG,EAAUkG,MAEjD7F,IAviBX,mCA4iBI,OAAOjU,OAAO4L,OAAO7D,KAAKkM,cA5iB9B,kCAgpBI,OAAKlM,KAAK1C,MAMH0C,KAAK1C,MAAMwO,QAAQ9L,MALjB,CACLiL,OAAQ,kBAAM,MACd9B,MAAO,kBAAMyB,EAAiBC,gBAnpBtC,gCA2pBI,OAAK7K,KAAKsM,KAMHtM,KAAKsM,KAAKR,QAAQ9L,MALhB,CACLiL,OAAQ,kBAAM,MACd9B,MAAO,kBAAM,OA9pBrB,0CAsqBI,OAAOnJ,KAAK+O,YAAY9J,QAAO,SAACtF,GAAD,OAAOA,EAAE+Q,kBAAgBvZ,KAAI,SAACwI,GAAD,OAAOA,EAAEqF,UAtqBzE,4CAurBI,OAAOhF,KAAK+O,YACT9J,QAAO,SAACtF,GAAD,OAAOA,EAAEoR,oBAChB5Z,KAAI,SAACwI,GAAD,OAAOA,EAAEqF,UAzrBpB,sCA8rBI,OAAOhF,KAAK+O,YACT9J,QAAO,SAACtF,GAAD,OAAQA,EAAEoR,mBAAqBpR,EAAE+Q,kBACxCvZ,KAAI,SAACwI,GAAD,OAAOA,EAAEqF,YAhsBpB,QACSkG,oBAAsB,UAD/B,GAESwB,iBAAmB,iBAF5B,GAGSD,mBAAqB,UAH9B,GAIS5B,YAJT,cAI8B,GAJ9B,aAI4C,KAJ5C,aAI0D,IAJ1D,oDAMGmK,MANH,yEAOaC,MAPb,wCASGD,MATH,yEAUYC,GAAS,MAVrB,qCAYGD,MAZH,yEAaS,QAbT,yCAeGA,MAfH,yEAgBa,QAhBb,uCAkBGE,MAlBH,6GAuBGF,MAvBH,yEAwBS,KAxBT,uCA0BGE,MA1BH,gHA+BGF,MA/BH,yEAgCY,KAhCZ,6CAiCGA,MAjCH,wEAkCiB,CAAC,GAAK,OAlCvB,wCAoCGA,MApCH,wEAqCY,OArCZ,qCAuCGA,MAvCH,yEAwCS,KAxCT,yCAyCGA,MAzCH,yEA0Ca,QA1Cb,qCA4CGA,MA5CH,yEA6CS,QA7CT,0CA+CGA,MA/CH,yEAgDc,QAhDd,uCAkDGE,MAlDH,+GAuDGF,MAvDH,wEAwDW,MAxDX,sCA0DGA,MA1DH,yEA2DU,QA3DV,oCA6DGE,MA7DH,0GAkEGF,MAlEH,yEAmES,QAnET,mCAqEGE,MArEH,8GA0EGF,MA1EH,yEA2Ec,KA3Ed,0CA6EGA,MA7EH,yEA8Ec,KA9Ed,yCAgFGA,MAhFH,yEAiFa,QAjFb,wCAmFGA,MAnFH,wEAoFY,CACRhQ,KAAM,KACNlK,SAAU,KACVuP,OAAQ,SAvFZ,4CAyFG2K,MAzFH,wEA0FgB,CACZpG,MAAO,KACPC,MAAO,KACP/T,SAAU,SA7Fd,8CAgGGka,MAhGH,yEAiGkB,KAjGlB,0CAmGGA,MAnGH,yEAoGc,KApGd,2CAsGGA,MAtGH,yEAuGe,MAvGf,+CAyGGA,MAzGH,wEA0GmB,CACf/V,SAAS,EACTgG,QAAQ,EACRkQ,SAAS,MA7Gb,2CAgHGH,MAhHH,yEAiHeI,aAAgBC,SAjH/B,+CAmHGL,MAnHH,wEAoHmB,CAAC,EAAG,OApHvB,2CAsHGA,MAtHH,yEAuHe,KAvHf,iDAyHGA,MAzHH,yEA0HqB,KA1HrB,gEA4HGA,MA5HH,yEA6HoC,KA7HpC,4CA+HGA,MA/HH,wEAgIgB,MAhIhB,wCAkIGA,MAlIH,wEAmIY,MAnIZ,iDAuIGE,MAvIH,iIAyJGF,MAzJH,wEA0JmB,MA1JnB,kDA8JGA,MA9JH,yEA+JsB,QA/JtB,wCA4XGE,MA5XH,4GA4bGA,MA5bH,2GAicGA,MAjcH,2GAscGA,MAtcH,+GA2cGA,MA3cH,2HAqdGA,MArdH,8HA8dGA,MA9dH,0HAmeGA,MAneH,uHAweGA,MAxeH,4HAifGA,MAjfH,4HAsfGA,MAtfH,oHAiiBGA,MAjiBH,mHA0iBGA,MA1iBH,qHA0kBGnO,MA1kBH,uHAglBGA,MAhlBH,qHA0mBGA,MA1mBH,kHA8oBGmO,MA9oBH,iHAypBGA,MAzpBH,yHAoqBGA,MApqBH,qIAqrBGA,MArrBH,iIA4rBGA,MA5rBH,kIAmsBGnO,MAnsBH,uIAktBGA,MAltBH,6HAivBGA,MAjvBH,mHAwvBGA,MAxvBH,mHAiwBGA,MAjwBH,8HAkyBGA,MAlyBH,qIAw0BGA,MAx0BH,mIAg1BGA,MAh1BH,yHAq1BGA,MAr1BH,4EA21BeuO,6B,SCvzBAC,G,uKA9CH,IAAD,EAUHvV,KAAK9H,MARP2E,EAFK,EAELA,MACAoD,EAHK,EAGLA,MACAC,EAJK,EAILA,MACAC,EALK,EAKLA,KACAC,EANK,EAMLA,SACAC,EAPK,EAOLA,OACAC,EARK,EAQLA,OACAnI,EATK,EASLA,SAGIO,EAAQP,EAAWC,IAAMC,SAASkI,KAAKpI,QAAYqI,EAEzD,OACE,kBAACE,EAAA,EAAD,CAAazE,WAAS,GACpB,kBAACoB,EAAA,EAAD,CAAYsD,QAAQ,WAAW9D,GAC/B,yBAAKc,MAAO,CAAEnE,QAAS,OAAQK,WAAY,SAAU+G,MAAO,SAC1D,6BACGN,EACGA,EAAOL,EAAM,IACbA,EAAM,GAAGY,QAAQC,OAAOC,UAAUV,GAAUA,EAAS,IAE3D,yBAAK1C,MAAO,CAAEvE,SAAU,EAAG4H,YAAa,GAAIP,aAAc,KACxD,kBAACQ,EAAA,EAAD,CACEC,IAAKhB,EAAM,GACXiB,IAAKjB,EAAM,GACXC,KAAMA,EACNF,MAAOA,EACPG,SAAU,SAACgB,EAAIC,GACbjB,EAASiB,OAIf,6BACGf,EACGA,EAAOL,EAAM,IACbA,EAAM,GAAGY,QAAQC,OAAOC,UAAUV,GAAUA,EAAS,IAE1D3H,Q,GAxC+B4I,a,sCCqF3BkU,GA5EdC,c,6KAKG,IAAMnO,EAAQtH,KAAK0V,QACnB,OACE,kBAAC,EAAD,KAEGpO,EAAM2E,WACL,kBAAC,GAAD,CACEhM,MAAOqH,EAAMqF,KAAKxN,QAClBe,MAAOoH,EAAM2E,UACb9L,KAAM,EACNtD,MAAM,iBACNwD,OAAQ,EACRD,SAAU,SAACiB,GACTiG,EAAMqF,KAAOtL,EAAIlC,UAGnB,kBAACwW,EAAA,EAAD,CAAYzY,QAAS,kBAAMoK,EAAMsO,mBAC9BtO,EAAMiL,KAAO,kBAACsD,GAAA,EAAD,MAAY,kBAACC,GAAA,EAAD,QAI/BxO,EAAMsE,aACJ3G,QAAO,SAAC8F,GAAD,OAAUA,EAAKsC,cACtBlW,KAAI,SAAC4T,GAAD,OACH,kBAAC,GAAD,CACEhS,IAAKgS,EAAKlO,MACVoD,MACEqH,EAAMwH,QAAQ/D,EAAKc,UACfvE,EAAMwH,QAAQ/D,EAAKc,UAAU1M,QAC7B4L,EAAK3B,OAAOjK,QAElBe,MAAO6K,EAAK3B,OACZvM,MAAOkO,EAAKlO,MACZsD,KAAM4K,EAAK5K,MAAQ,KACnBG,OAAQyK,EAAKzK,OACbF,SAAU,SAACiB,GAEPA,EAAIwT,OAAM,SAAClV,EAAGhH,GAAJ,OAAUyL,KAAK2R,IAAIpW,EAAIoL,EAAK3B,OAAOzQ,IAAM,eAG5C2O,EAAMwH,QAAQ/D,EAAKc,UAE1BvE,EAAMwH,QAAQ/D,EAAKc,UAAYxK,EAAIlC,cAK7C,kBAACd,EAAD,CACExB,MACE,oCACE,kBAAC,KAAD,CAAiBF,KAAMqZ,OADzB,aAIF/V,MAAOqH,EAAMmK,oBAAoBta,KAAI,SAAC8I,GAAD,MAAY,CAC/CpD,MAAOoD,EAAM+B,KACb/B,MAAOA,EAAM+B,KACbrF,KAAM,kBAAC,KAAD,CAAiBA,KAAMqZ,WAE/BC,SAAO,EACPhX,QAASqI,EAAM4O,cAAc/e,KAAI,SAAC8I,GAAD,MAAY,CAC3CpD,MAAOoD,EACPA,YAEFG,SAAU,SAACyD,GACTyD,EAAM6O,uBAAuBtS,EAAO1M,KAAI,SAACwI,GAAD,OAAOA,EAAEM,kB,GAnEvC7H,IAAMkJ,W,GACnB8U,YAAcC,G,YCyBRC,GAhCdb,c,6KAKG,IAAMnO,EAAQtH,KAAK0V,QACnB,OACE,kBAAC,EAAD,MACIpO,EAAM6M,mBACN,kBAACoC,EAAA,EAAD,CACEC,UAAWlP,EAAMmP,iBACjBvZ,QAAS,kBAAMoK,EAAMoP,0BAFvB,SAODpP,EAAM6M,mBACL,kBAACoC,EAAA,EAAD,CAAQrZ,QAAS,kBAAMoK,EAAMqP,wBAA7B,SAEArP,EAAM6M,mBACN,kBAACoC,EAAA,EAAD,CACEC,SAAuD,IAA7Cve,OAAOD,KAAKsP,EAAMiN,gBAAgB3U,OAC5C1C,QAAS,kBAAMoK,EAAMsP,wBAFvB,c,GAnBYxe,IAAMkJ,W,GACnB8U,YAAcC,G,YCLFQ,G,uKAEjB,OACE,kBAAC,KAAD,eACEla,KAAMma,KACNnZ,MAAO,CAAEsL,UAAU,kBACfjJ,KAAK9H,Y,GANuBE,IAAMkJ,WCoD/ByV,GAhDdtB,c,6KAIG,IAAMnO,EAAQtH,KAAK0V,QADZ,EAE4C1V,KAAK9H,MAAhD8M,EAFD,EAECA,KAAM+L,EAFP,EAEOA,iBAAkBL,EAFzB,EAEyBA,eAE1B7T,EAAQmI,EAAK1B,SAAW0B,EAAKhD,KAE7BgV,EACJ,kBAACva,EAAA,EAAD,CACEE,KAAM,kBAAC,KAAD,CAAiBA,KAAMsa,OAC7Bpa,MAAOA,EACPK,QAAS,kBAAOoK,EAAM7J,SAAWuH,GACjChI,SAAU,kBAAMsK,EAAM4P,uBAAuBlS,MAG3CmS,EACJ,kBAAC1a,EAAA,EAAD,CACEE,KAAM,kBAAC,KAAD,CAAiBA,KAAMqZ,OAC7BnZ,MAAOA,EACPK,QAAS,kBAAOoK,EAAM7J,SAAWuH,GACjChI,SAAU,kBAAMsK,EAAM+L,qBAAqBrO,MAI/C,OAAI+L,GAAoBL,EAEpB,oCACGsG,EADH,IACeG,GAGRpG,EACFiG,EACEtG,EACFyG,EAGP,kBAAC1a,EAAA,EAAD,CACEE,KAAM,kBAAC,GAAD,MACNE,MAAOA,EACPK,QAAS,kBAAOoK,EAAM7J,SAAWuH,GACjChI,SAAU,kBAAMsK,EAAM8P,aAAapS,U,GAzClB5M,IAAMkJ,W,GACtB8U,YAAcC,G,sBCHjBrd,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCme,WAAY,CACV5d,QAASP,EAAMT,QAAQ,QAIpB,SAAS6e,GAAT,GAAwC,IAAnBtV,EAAkB,EAAlBA,KAAM7J,EAAY,EAAZA,SAC1B2D,EAAU9C,KAD4B,EAEZZ,IAAMmf,SAAS,MAFH,oBAErCC,EAFqC,KAE3BC,EAF2B,KAgBtCC,EAAOC,QAAQH,GACfzf,EAAK2f,EAAO1V,OAAOxB,EAEzB,OACE,oCACE,kBAAC,KAAD,CAAiB7D,KAAMib,KAAkB1a,QAjBzB,SAAC2a,GACnBJ,EAAYI,EAAMC,eAClBD,EAAME,kBACNF,EAAMG,oBAeJ,kBAACC,GAAA,EAAD,CACElgB,GAAIA,EACJ4F,MAAO,CACLua,SAAU,SAEZR,KAAMA,EACNF,SAAUA,EACVta,QAnBc,SAAC2a,GACnBJ,EAAY,MACZI,EAAME,kBACNF,EAAMG,kBAiBFG,aAAc,CACZC,SAAU,SACVC,WAAY,UAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,WAGd,kBAAChb,EAAA,EAAD,CAAYjB,UAAWN,EAAQub,YAAalf,KAM7C,SAASogB,GAAT,GAAoD,IAA1BvW,EAAyB,EAAzBA,KAAMnF,EAAmB,EAAnBA,MAAO1E,EAAY,EAAZA,SAC5C,OACE,8BACG0E,EADH,OAGE,kBAACya,GAAD,CAAWtV,KAAMA,EAAM7J,SAAUA,KAKhC,SAASqgB,KACd,OACE,kBAACD,GAAD,CAAgBvW,KAAK,cAAcnF,MAAM,UACvC,+LAGyB,mCAHzB,yBAIE,mCAJF,uBAIoC,oCAJpC,uBAKE,sCALF,2BAME,mCACI,mCAPN,MAYA,iEAEA,iFACqD,sCADrD,IACqE,IACnE,wCAFF,SAEwB,iDAFxB,KAKA,2BACE,sCADF,8MAG2E,IACzE,wCAJF,qLASA,4DACgC,uCADhC,0LAIoB,mCAJpB,QAIuC,mCAJvC,uDAKgC,mCALhC,cAKyD,mCALzD,2CAOE,mCACI,mCARN,wBAWE,kCACG,kCADH,KAXF,8EAkBA,oOAMA,6LAMA,oGAEE,4CAFF,sBAE4C,6CAF5C,wCAGiC,2CAHjC,mEAIoD,qCAJpD,0PAcC,SAAS4b,KACd,OACE,kBAACF,GAAD,CAAgBvW,KAAK,eAAenF,MAAM,WACxC,uHAQC,SAAS6b,KACd,OACE,kBAACH,GAAD,CAAgBvW,KAAK,eAAenF,MAAM,gBACxC,2LAMA,iFACqD,sCAAkB,IADvE,mGASC,SAAS8b,KACd,OACE,kBAACJ,GAAD,CAAgBvW,KAAK,gBAAgBnF,MAAM,yBACzC,+JAQC,SAAS+b,KACd,OACE,kBAACL,GAAD,CAAgBvW,KAAK,kBAAkBnF,MAAM,cAC3C,+GAKA,sEAC0C,sDAD1C,0OAWC,SAASgc,KACd,OACE,kBAACN,GAAD,CAAgBvW,KAAK,qBAAqBnF,MAAM,sBAC9C,wRAOA,4XAWC,SAASic,KACd,OACE,kBAACP,GAAD,CACEvW,KAAK,sBACLnF,MAAM,8BAEN,qbAYC,SAASkc,KACd,OACE,kBAACR,GAAD,CAAgBvW,KAAK,aAAanF,MAAM,qBACtC,oEACyC,IACvC,uBACEuL,KAAK,+FACLrG,OAAO,SACPuG,IAAI,uBAHN,gBAMK,IARP,6CAYA,6TAOA,wOASC,SAAS0Q,KACd,OACE,kBAACT,GAAD,CAAgBvW,KAAK,iBAAiBnF,MAAM,aAC1C,iIAKA,gNASC,SAASoc,KACd,OACE,kBAACV,GAAD,CAAgBvW,KAAK,cAAcnF,MAAO,eACxC,uGAIA,kCACM,uCADN,iUAQA,yDAC6B,sCAD7B,6GAIE,uCAJF,uDAOA,kCACM,uCADN,mFCjRN,SAASqc,GAAS7V,GAChB,IAAMxG,EAAQwG,EAAExG,MAEhB,MAAO,CAAEA,QAAOoD,MADFoD,EAAEpD,OAPlB,SAAkBpD,GAEhB,OAAOyC,YAAOzC,GAAO8E,QAAQ,0CAA2C,IAK/CwX,CAAStc,IAIpC,I,kBAUMuc,GADL3D,c,kNAIC4D,mBAAqB,WAAYC,GAAc,IAAvBrZ,EAAsB,EAAtBA,MAGtB,OAFAqZ,EAAWA,EAAS/Z,OACpBU,EAAQA,EAAMV,SACT+Z,GAGErZ,EAAMJ,SAASyZ,I,EAGxBC,oBAAsB,YAAe,IAAZvU,EAAW,EAAXA,KACjBsC,EAAQ,EAAKoO,QACnB,OACE,oCACE,kBAACC,EAAA,EAAD,CACEzY,QAAS,kBAAMoK,EAAM6L,aAAanO,IAClCyD,MAAOnB,EAAMkS,SAASxU,GAAQ,kBAAoB,gBAClDsH,KAAK,QACLhP,MAAOgK,EAAMkS,SAASxU,GAAQ,UAAY,WAE1C,kBAAC,GAAD,OAEF,kBAAC2Q,EAAA,EAAD,CACEzY,QAAS,kBAAMoK,EAAM4P,uBAAuBlS,IAC5CyD,MACEnB,EAAMmS,yBAAyBzU,GAC3B,iBACA,iBAENsH,KAAK,QACLhP,MAAOgK,EAAMmS,yBAAyBzU,GAAQ,UAAY,WAE1D,kBAAC,KAAD,CAAiBrI,KAAMsa,QAEzB,kBAACtB,EAAA,EAAD,CACEzY,QAAS,kBAAMoK,EAAM+L,qBAAqBrO,IAC1CyD,MACEnB,EAAMoS,uBAAuB1U,GACzB,+BACA,oBAENsH,KAAK,QACLhP,MAAOgK,EAAMoS,uBAAuB1U,GAAQ,UAAY,WAExD,kBAAC,KAAD,CAAiBrI,KAAMqZ,U,2LAOvB1O,EAAQtH,KAAK0V,Q,SAIG9P,GAAU,4B,OAA1BzD,E,OACNmF,EAAM2N,SAAW3N,EAAM2N,SAAShQ,QAAO,SAACtF,GAAD,OAAOwC,EAAQtC,SAASF,EAAE5G,Q,qIAIjE,IAAMuO,EAAQtH,KAAK0V,QACX5Z,EAAYkE,KAAK9H,MAAjB4D,QACR,OACE,kBAAC,EAAD,KACGwL,EAAM2N,SAASrV,OAAS,GACvB,kBAAC,GAAD,CACEK,MAAOiZ,GAAS5R,EAAMmH,SAASxO,MAC/BhB,QAASqI,EAAM2N,SAAS9d,IAAI+hB,IAC5Brc,MAAM,UACNuD,SAAU,SAACiB,GACTiG,EAAMmH,QAAUnH,EAAM2N,SAAStF,MAC7B,SAAChQ,GAAD,OAAOuZ,GAASvZ,GAAGM,QAAUoB,QAKrC,kBAACtC,EAAD,CACElC,MAAO,kBAAC,GAAD,MACPoC,QAASqI,EAAMqS,cACf7b,cAAekC,KAAKuZ,oBACpBtZ,MACEqH,EAAM8H,OAAS,CAAEvS,MAAOyK,EAAM8H,OAAQnP,MAAOqH,EAAM8H,QAAW,KAEhEwK,cAAY,EACZ/e,YAAY,qBACZgf,aAAW,EACX7a,SAAU,GACVoB,SAAU,SAACiB,GAAD,OAAUiG,EAAM8H,OAAS/N,EAAMA,EAAIpB,MAAQ,QAGvD,6BACGqH,EAAMyH,YAAY5X,KAAI,SAAC6N,GAAD,OACrB,kBAAC,GAAD,eAAYjM,IAAKiM,EAAKA,KAAKhD,MAAUgD,QAIzC,kBAAC8U,EAAA,EAAD,CACEC,SAAUzS,EAAM0S,eAAe/a,QAC/BmB,SAAU,SAACuJ,EAAGsQ,GACZ3S,EAAM0S,eAAe/a,QAAUgb,IAGjC,kBAACC,EAAA,EAAD,CAAuBC,WAAY,kBAACC,EAAA,EAAD,OACjC,kBAAC/c,EAAA,EAAD,KACE,kBAAC,GAAD,QAGJ,kBAACgd,EAAA,EAAD,KACE,kBAAC,EAAD,KACE,kBAAC9D,EAAA,EAAD,CAAQrZ,QAAS,kBAAMoK,EAAMgT,cAA7B,cAEA,kBAAC,GAAD,CACEra,MAAOqH,EAAM+E,KACbnM,MAAOoH,EAAM0E,UACbnP,MAAM,OACNuD,SAAU,SAACiB,GACTiG,EAAM+E,KAAOhL,KAGjB,kBAAC,GAAD,CACEpB,MAAOqH,EAAM7O,QACbyH,MAAOoH,EAAMiT,aACbpa,KAAM,GACNtD,MAAO,kBAAC,GAAD,MACPuD,SAAU,SAACiB,GACTiG,EAAM7O,QAAU4I,KAGpB,kBAAC,GAAD,CACEpB,MAAOqH,EAAMkT,QACbta,MAAO,CAAC,EAAG,IACXC,KAAM,KACNtD,MAAM,yBACN2Z,UAAWlP,EAAMmT,UACjBra,SAAU,SAACiB,GACTiG,EAAMkT,QAAUnZ,IAGlB,kBAACe,EAAA,EAAD,CACEC,QAASiF,EAAMmT,UACfra,SAAU,SAACgB,EAAIC,GACbiG,EAAMmT,UAAYpZ,MAIvBiG,EAAMqE,UAAU/L,OAAS,GACxB,kBAAC,GAAD,CACEK,MAAOiZ,GAAS5R,EAAM8E,UAAUnM,MAChChB,QAASqI,EAAMqE,UAAUxU,IAAI+hB,IAC7Brc,MAAO,kBAAC,GAAD,MACPuD,SAAU,SAACiB,GACTiG,EAAM8E,SAAW9E,EAAMqE,UAAUgE,MAC/B,SAAChQ,GAAD,OAAOuZ,GAASvZ,GAAGM,QAAUoB,QAKrC,kBAAC,GAAD,CACEpB,MAAOiZ,GAAS5R,EAAMgF,MAAMrM,MAC5BhB,QAASqI,EAAMyE,MAAM5U,IAAI+hB,IACzBrc,MAAM,YACNuD,SAAU,SAACiB,GACTiG,EAAMgF,KAAOhF,EAAMyE,MAAM4D,MACvB,SAAChQ,GAAD,OAAOuZ,GAASvZ,GAAGM,QAAUoB,QAInC,kBAAC,GAAD,CACEpB,MAAOiZ,GAAS5R,EAAMhK,OAAO2C,MAC7BhB,QAASqI,EAAM+B,OAAOlS,IAAI+hB,IAC1Brc,MAAM,aACNuD,SAAU,SAACiB,GACTiG,EAAMhK,MAAQgK,EAAM+B,OAAOsG,MACzB,SAAChQ,GAAD,OAAOuZ,GAASvZ,GAAGM,QAAUoB,QAKlCiG,EAAM2E,WACL,kBAAC,GAAD,CACEhM,MAAOqH,EAAMsF,UACb1M,MAAOoH,EAAM2E,UACb9L,KAAM,EACNtD,MAAO,kBAAC,GAAD,MACPwD,OAAQ,EACRmW,UACGlP,EAAMhK,OACe,4BAAtBgK,EAAMhK,MAAMT,MAEduD,SAAU,SAACiB,GACTiG,EAAMsF,UAAYvL,KAIxB,kBAAC,GAAD,CACEjF,UAAWN,EAAQ4e,cACnB7d,MAAO,kBAAC,GAAD,MACPoD,MAAOqH,EAAM8M,iBACbhU,SAAU,SAACiB,GACTiG,EAAM8M,iBAAmB/S,KAG7B,kBAAC,GAAD,CACEjF,UAAWN,EAAQ4e,cACnB7d,MAAO,kBAAC,GAAD,MACPoD,MAAOqH,EAAMoN,gCACbtU,SAAU,SAACiB,GACTiG,EAAMoN,gCAAkCrT,KAG5C,kBAAC,GAAD,CACEjF,UAAWN,EAAQ4e,cACnB7d,MAAM,cACNoD,MAAOqH,EAAMqT,WACbva,SAAU,SAACiB,GACTiG,EAAMqT,WAAatZ,KAGvB,kBAAC,GAAD,CACEjF,UAAWN,EAAQ4e,cACnB7d,MAAO,kBAAC,GAAD,MACPoD,MAAOqH,EAAMsT,UACbxa,SAAU,SAACiB,GACTiG,EAAMsT,UAAYvZ,KAGtB,kBAAC,GAAD,CACEjF,UAAWN,EAAQ4e,cACnB7d,MAAM,aACNoD,MAAOqH,EAAMuT,UACbza,SAAU,SAACiB,GACTiG,EAAMuT,UAAYxZ,QAM5B,kBAACyY,EAAA,EAAD,CACEC,SAAUzS,EAAM0S,eAAe/U,OAC/B7E,SAAU,SAACuJ,EAAGsQ,GACZ3S,EAAM0S,eAAe/U,OAASgV,IAGhC,kBAACC,EAAA,EAAD,CAAuBC,WAAY,kBAACC,EAAA,EAAD,OACjC,kBAAC/c,EAAA,EAAD,KACE,kBAAC,GAAD,QAGJ,kBAACgd,EAAA,EAAD,KACE,kBAAC,GAAD,QAIJ,kBAACP,EAAA,EAAD,CACEC,SAAUzS,EAAM0S,eAAe7E,QAC/B/U,SAAU,SAACuJ,EAAGsQ,GACZ3S,EAAM0S,eAAe7E,QAAU8E,IAGjC,kBAACC,EAAA,EAAD,CAAuBC,WAAY,kBAACC,EAAA,EAAD,OACjC,kBAAC/c,EAAA,EAAD,KACE,kBAAC,GAAD,QAGJ,kBAACgd,EAAA,EAAD,KACE,kBAAC,GAAD,a,GA3QWjiB,IAAMkJ,W,GACpB8U,YAAcC,G,YAkRR1N,gBA7RG,SAACzP,GAAD,MAAY,CAC5BwhB,cAAe,CACbjhB,QAAS,EACT,sBAAuB,CACrBA,QAAS,aAyRAkP,CAAsByQ,I,UClT/B0B,GADLrF,c,kNAICsF,QAAU,kBAAO,EAAKrF,QAAQjY,SAAW,M,EAEzCyZ,uBAAyB,WACvB,IAAM5P,EAAQ,EAAKoO,QACb1Q,EAAOsC,EAAM7J,SAEduH,GAILsC,EAAM4P,uBAAuBlS,I,EAG/BqO,qBAAuB,WACrB,IAAM/L,EAAQ,EAAKoO,QACb1Q,EAAOsC,EAAM7J,SAEduH,GAILsC,EAAM+L,qBAAqBrO,I,EAG7BmO,aAAe,WACb,IAAM7L,EAAQ,EAAKoO,QACb1Q,EAAOsC,EAAM7J,SAEduH,GAILsC,EAAM6L,aAAanO,I,uDAInB,IAAMsC,EAAQtH,KAAK0V,QACX5Z,EAAYkE,KAAK9H,MAAjB4D,QACFkJ,EAAOsC,EAAM7J,SAEnB,OAAKuH,EAIH,kBAAC1I,EAAA,EAAD,CAAOF,UAAWN,EAAQ3C,MACxB,kBAACwc,EAAA,EAAD,CACEhY,MAAO,CAAEqd,MAAO,SAChB9d,QAAS8C,KAAK+a,QACdtS,MAAM,kBACN6D,KAAK,SAEL,kBAAC2O,GAAA,EAAD,OAGF,kBAACtF,EAAA,EAAD,CACEhY,MAAO,CAAEqd,MAAO,SAChB9d,QAAS8C,KAAKqT,qBACd5K,MACEnB,EAAMoS,uBAAuB1U,GACzB,+BACA,oBAENsH,KAAK,QACLhP,MAAOgK,EAAMoS,uBAAuB1U,GAAQ,UAAY,WAExD,kBAAC,KAAD,CAAiBrI,KAAMqZ,QAEzB,kBAACL,EAAA,EAAD,CACEhY,MAAO,CAAEqd,MAAO,SAChB9d,QAAS8C,KAAKkX,uBACdzO,MACEnB,EAAMmS,yBAAyBzU,GAC3B,iBACA,iBAENsH,KAAK,QACLhP,MAAOgK,EAAMmS,yBAAyBzU,GAAQ,UAAY,WAE1D,kBAAC,KAAD,CAAiBrI,KAAMsa,QAEzB,kBAACtB,EAAA,EAAD,CACEhY,MAAO,CAAEqd,MAAO,SAChB9d,QAAS8C,KAAKmT,aACd1K,MAAOnB,EAAMkS,SAASxU,GAAQ,kBAAoB,gBAClDsH,KAAK,QACLhP,MAAOgK,EAAMkS,SAASxU,GAAQ,UAAY,WAE1C,kBAAC,GAAD,OAGDsC,EAAM8E,UAAY9E,EAAM8E,SAAS/E,OAAOrC,EAAMsC,IAjD1C,S,GA5CWlP,IAAMkJ,W,GACrB8U,YAAcC,G,YAkGR1N,gBAjHG,SAACzP,GAAD,MAAY,CAC5BC,KAAM,CACJ2B,SAAU,WACVM,MAAO,EACP0N,IAAK,EACLhP,SAAU,OACVohB,UAAW,OACXzhB,QAAS,OACTH,SAAU,QACV4B,OAAQhC,EAAMgC,OAAOigB,UAwGVxS,CAAsBmS,I,wCCtGxBM,GAAb,WACE,cAMI,IAAD,OALDC,EAKC,EALDA,cACAC,EAIC,EAJDA,OACA5M,EAGC,EAHDA,QACAC,EAEC,EAFDA,YACA4M,EACC,EADDA,qBACC,yBAkLHC,UAAY,SAACxZ,GACX,IAAMiC,EAAM,EAAKwX,kBAAkBzZ,IAAS,EAAK0Z,GAAGxX,aAAalC,GACjE,OAAuB,IAAnB,EAAK2Z,UACA1X,EAEF,CACLI,EAAGJ,EAAII,EAAI,EAAKsX,UAChBnX,EAAGP,EAAIO,EAAI,EAAKmX,YAzLjB,KA2MHC,aAAe,SAAC5Z,GACd,OAAIA,IAAS,EAAKvE,SAvNS,EA0NvB,EAAKmS,OAAOxB,IAAIpM,GAzNI,EACC,GASxB,KAqNH6Z,aAAe,SAAC7Z,GACd,OAAIA,IAAS,EAAKvE,SAvOS,UA0OvB,EAAKmS,OAAOxB,IAAIpM,GAzOI,UAgBvB,KA+NH8Z,sBAAwB,SAAC9Z,GACvB,OAAIA,IAAS,EAAKvE,SAjPS,UAoPvB,EAAKmS,OAAOxB,IAAIpM,GAlPU,UAe7B,KAyOH+Z,aAAe,SAAC/Z,GACG,EAAKvE,UAAY,EAAKmS,OAAOtD,KAC9C,OAAItK,IAAS,EAAKvE,UAAY,EAAKmS,OAAOxB,IAAIpM,IAGd,IAA5B,EAAKga,cAAc1P,MAAc,EAAK0P,cAAc5N,IAAIpM,GAtQ1C,GAKE,KAoBpBhC,KAAK0b,GAAK,KACV1b,KAAKic,OAAS,KACdjc,KAAKqb,cAAgBA,EACrBrb,KAAKub,qBAAuBA,EAC5Bvb,KAAKsb,OAASA,EACdtb,KAAK0O,QAAUA,EACf1O,KAAK2O,YAAcA,EACnB3O,KAAKkc,mBAAqB,KAC1Blc,KAAK7I,IAAM,KAEX6I,KAAK2b,UAAY,EAEjB3b,KAAKvC,SAAW,KAChBuC,KAAK4P,OAAS,IAAIzB,IAClBnO,KAAKgc,cAAgB,IAAI7N,IAEzBnO,KAAKmc,YAAc,IACnBnc,KAAKoc,cAAe,EACpBpc,KAAKyb,kBAAoB,GACzBzb,KAAKqc,wBAAyB,EA3BlC,sDA8BYrQ,GAAY,IAAD,OACnBhM,KAAK7I,IAAM,KACX,IAAMukB,EAAK1b,KAAK0b,GAEhB,IAAK1b,KAAKic,SAAWjc,KAAK0b,GACxB,OAAO,EAGT,IAAM1X,EAAS0X,EAAGY,YACZ5I,EAAS6I,KAAIC,KAAKC,sBACtBzc,KAAKic,OACLjY,EAAOM,KAAON,EAAOG,KACrBH,EAAOS,KAAOT,EAAOO,MAIvBmP,EAAOvc,IAAIulB,UAAU3hB,MAAQiJ,EAAOG,KACpCuP,EAAOvc,IAAIulB,UAAU5T,KAAO9E,EAAOO,KACnCmP,EAAOvc,IAAIulB,UAAUthB,OAAS4I,EAAOG,KACrCuP,EAAOvc,IAAIulB,UAAU1hB,QAAUgJ,EAAOO,KACtCmP,EAAOvc,IAAIwlB,OAAOtY,GAAKL,EAAOG,KAC9BuP,EAAOvc,IAAIwlB,OAAOnY,GAAKR,EAAOO,KAG9B,IAAMqY,EAAQxY,KAAKjD,IACjB6C,EAAOM,KAAON,EAAOG,KACrBH,EAAOS,KAAOT,EAAOO,MAGvBmP,EAAOvc,IAAIulB,UAAU3hB,MADN,GACc6hB,EAC7BlJ,EAAOvc,IAAIulB,UAAU5T,KAFN,GAEa8T,EAC5BlJ,EAAOvc,IAAIulB,UAAUthB,OAHN,GAGewhB,EAC9BlJ,EAAOvc,IAAIulB,UAAU1hB,QAJN,GAIgB4hB,EAG/BlJ,EAAOvc,IAAI+J,IAAM8K,EAAU,GAC3B0H,EAAOvc,IAAIgK,IAAM6K,EAAU,GAC3B0H,EAAOvc,IAAI0lB,eAAgB,EAC3BnJ,EAAOvc,IAAI2lB,aAAepJ,EAAOvc,IAAI4lB,cAAe,EAEpD,IAAM5lB,EAAO6I,KAAK7I,IAAMolB,KAAIplB,IAAIuc,EAAOvc,KAEjC6lB,EAAQ7lB,EAAI8lB,YAAY,UAAW,CACvCC,SAAU,CAAC,QAAS,UAGtBld,KAAKmd,MAAQH,EACVI,cAAc,QACdxgB,KAAK8e,EAAGlZ,OACR7E,MAAM,CACL7C,SAAUkF,KAAKwb,UACf5a,MAAO,EACPyc,YAAa,QACbC,cAAetd,KAAKmc,cAErBoB,QAAQvd,KAAKoc,cAEhBpc,KAAKwd,eAAiBR,EACnBI,cAAc,QACdxgB,KAAK,IACLe,MAAM,CACL7C,SAAUkF,KAAKwb,UACf5a,MAAO,EACPyc,YAAa,QACbC,cAAetd,KAAKmc,cAErBoB,QAAQvd,KAAKoc,cAAgBpc,KAAKyd,kBAErC,IAAMC,EAAU1d,KAAK0d,OAASV,EAC3BI,cAAc,QAAS,CAEtBzf,MAAO,CACL0f,YAAard,KAAK6b,aAClB8B,YAAa3d,KAAK4b,aAClBgC,UAAW,OACXN,cAAetd,KAAK+b,aACpB8B,YAAa7d,KAAK+b,aAClB1R,OAAQ,IAEVvP,SAAUkF,KAAKwb,YAEhB5e,KAAK8e,EAAG3X,aAEP+Z,EAAS,KAEbJ,EAAOK,MAAMxB,KAAI1E,MAAMmG,QAAQC,SAAS,SAACnM,GACvCgM,EAAS,EAAKpC,GAAGnZ,MAAMuP,EAAIlV,MAG3B,IAAMyN,EAASqT,EAAO/f,MAAM,SAAb+f,CAAuB5L,EAAIlV,MAEpC9B,EAAW,EAAK4iB,OAAOQ,oBAC3BR,EAAO5iB,UAAP4iB,CAAkB5L,EAAIlV,OAExB,EAAK8R,QAAQoP,EAAQhjB,EAAUuP,MAEjCqT,EAAOK,MAAMxB,KAAI1E,MAAMmG,QAAQG,UAAU,SAACrM,GACxCgM,EAAS,KACT,EAAKpP,QAAQ,KAAM,KAAM,SAG3B,IAAI0P,EAAiB,KA+CrB,OA9CAV,EAAOK,MAAMxB,KAAI1E,MAAMmG,QAAQK,YAAY,SAACvM,GACtCA,EAAIhJ,KACN,EAAKwS,OAAO,EAAKI,GAAGnZ,MAAMuP,EAAIlV,MAAOkV,EAAIwM,MAAMzL,WAEjDuL,EAAiBtM,EAAIwM,SAEvBte,KAAK7I,IAAI4mB,MACPxB,KAAI1E,MAAMwG,WACVE,cAAS,SAACzM,GACJsM,GAAkBA,EAAeI,OAAS1M,EAAI0M,MAIlD,EAAKlD,OAAO,KAAM,MACjB,MAuBLnkB,EAAI4mB,MAAMxB,KAAI1E,MAAMxL,MAAM,WACxBqR,EAAOe,WAAWC,WAClB,EAAKrD,cAAclkB,EAAIkV,WAGzBrM,KAAK2e,qBAELxnB,EAAIynB,QAEG,IAlLX,uCAsLI,OAAO5e,KAAKgc,cAAc1P,KAAO,IAtLrC,mCAoMeuS,GACX7e,KAAKyb,kBAAoBoD,EAEzB7e,KAAK0d,OAAOe,WAAWC,WACnB1e,KAAKmd,MAAMI,YACbvd,KAAKqc,wBAAyB,EAC9Brc,KAAKmd,MAAMsB,WAAWC,YAEpB1e,KAAKwd,eAAeD,WACtBvd,KAAKwd,eAAeiB,WAAWC,WAEjC1e,KAAK7I,IAAIynB,SA/Mb,2CA6PwB,IAAD,OACfE,EAAiB,KAEfC,EAAS,WAES,MAAlBD,GAAqD,MAA3B,EAAK5C,qBAGnC,EAAKX,qBAAqBuD,GAC1BA,EAAiB,OAInB9e,KAAKic,OAAO+C,QAAU,SAAClN,GACrBgN,EAAiBhN,EAAImN,OACrBF,KAIF/e,KAAK7I,IAAI4mB,MAAMxB,KAAI1E,MAAMqH,aAAa,SAACpN,GAChCA,EAAIwM,MAAMzL,UAAUI,OAGpB,EAAKiJ,qBACR,EAAKA,mBAAqBpK,EAAIwM,MAAM/B,KAEtCwC,QAIF/e,KAAK7I,IAAI4mB,MAAMxB,KAAI1E,MAAMsH,WAAW,WAClC,EAAKjD,mBAAqB,UA5RhC,8BAgSU3Z,EAAOC,GACRxC,KAAK7I,MAGV6I,KAAK0d,OAAO9gB,KAAK2F,GACjBvC,KAAKmd,MAAMvgB,KAAK4F,GAEhBxC,KAAKof,aAAa,OAvStB,6BA0SSC,GACL,GAAIrf,KAAK2b,YAAc0D,EAAvB,CAIA,IAAMnV,EAASmV,EAAIrf,KAAK2b,UAGxB,GADA3b,KAAK2b,UAAY0D,EACZrf,KAAK7I,IAAV,CAIA,IAAMwlB,EAAS3c,KAAK7I,IAAIwlB,SACxB,GAAI3c,KAAKkc,mBAAoB,CAE3B,IAAMoD,EAAY,CAChBjb,EAAGrE,KAAKkc,mBAAmB7X,EAAIsY,EAAOtY,EACtCG,EAAGxE,KAAKkc,mBAAmB1X,EAAImY,EAAOnY,GAIxCxE,KAAK7I,IAAIwlB,OAAO,CACdtY,EAAG6F,EAASlK,KAAKkc,mBAAmB7X,EAAIib,EAAUjb,EAClDG,EAAG0F,EAASlK,KAAKkc,mBAAmB1X,EAAI8a,EAAU9a,IAIpDxE,KAAKkc,mBAAmB7X,GAAK6F,EAC7BlK,KAAKkc,mBAAmB1X,GAAK0F,OAE7BlK,KAAK7I,IAAIwlB,OAAO,CACdtY,EAAG6F,EAASyS,EAAOtY,EACnBG,EAAG0F,EAASyS,EAAOnY,IAIvBxE,KAAK0d,OAAOe,WAAWC,WACnB1e,KAAKmd,MAAMI,YACbvd,KAAKqc,wBAAyB,EAC9Brc,KAAKmd,MAAMsB,WAAWC,YAEpB1e,KAAKwd,eAAeD,WACtBvd,KAAKwd,eAAeiB,WAAWC,WAEjC1e,KAAK7I,IAAIynB,WAtVb,qCAyViB3e,GACbD,KAAKmc,YAAclc,EACnBD,KAAKmd,MAAMxf,MAAM,gBAAiBqC,KAAKmc,aACvCnc,KAAKwd,eAAe7f,MAAM,gBAAiBqC,KAAKmc,aAE5Cnc,KAAKmd,MAAMI,YACbvd,KAAKqc,wBAAyB,EAC9Brc,KAAKmd,MAAMuB,YAET1e,KAAKwd,eAAeD,WACtBvd,KAAKwd,eAAekB,WAEtB1e,KAAK7I,IAAIynB,SArWb,uEA0WczV,EAAOe,GAAS,IAAD,OACzBlK,KAAK0d,OAAO/f,MACV,UACA,SAAC4hB,GAAD,OAAYrV,EAASf,EAAM,EAAKuS,GAAGnZ,MAAMgd,OAEvCvf,KAAK7I,KACP6I,KAAK7I,IAAIynB,SAhXf,+BAoXW5c,GACP,OAAKhC,KAAK0b,GAAG8D,QAAQxd,GAIdhC,KAAK0b,GAAGnZ,MAAMP,GAHZ,OAtXb,mCA4Xega,GACXhc,KAAKgc,cAAgB,IAAI7N,IAAI6N,GAE7Bhc,KAAKyf,wBAELzf,KAAK0d,OAAOgB,WACZ1e,KAAK7I,IAAIynB,SAlYb,8CAqY2B,IAAD,OAChBc,EAAgB1f,KAAKyd,iBAErBkC,EAAkB3f,KAAKoc,eAAiBsD,EAO9C,GANA1f,KAAKmd,MAAMI,QAAQoC,GACfA,GAAmB3f,KAAKqc,yBAC1Brc,KAAKmd,MAAMsB,WAAWC,WACtB1e,KAAKqc,wBAAyB,IAG3BqD,IAAkB1f,KAAKoc,aAI1B,OAFApc,KAAKwd,eAAeD,SAAQ,QAC5Bvd,KAAKwd,eAAe5gB,KAAK,IAI3BoD,KAAKwd,eAAe5gB,KAClBoD,KAAKmd,MACFvgB,OACAqI,QACC,oCAAEQ,EAAF,KAAKC,EAAL,YAAY,EAAKsW,cAAc5N,IAAI3I,IAAM,EAAKuW,cAAc5N,IAAI1I,OAGtE1F,KAAKwd,eAAeD,SAAQ,KA7ZhC,kCAgac9f,EAAUmS,GACpB5P,KAAKvC,SAAWA,EAChBuC,KAAK4P,OAAS,IAAIzB,IAAIyB,GACtB5P,KAAK0d,OAAOgB,WAEZ1e,KAAK7I,IAAIynB,SArab,mCAwaegB,GACX5f,KAAKoc,aAAewD,EACpB5f,KAAKyf,wBACLzf,KAAK7I,IAAIynB,SA3ab,mCA8aeiB,GACX,IAAMC,EAAUD,EAAQ,QAAU,QAC5BxC,EAAcwC,EAAQ,QAAU,QAChCE,EAAmBF,EACrB7f,KAAK8b,sBACL9b,KAAK6b,aAET7b,KAAKic,OAAOte,MAAMtD,gBAAkBylB,EACpC9f,KAAK0d,OAAO/f,MAAM,cAAeoiB,GACjC/f,KAAKmd,MAAMxf,MAAM,cAAe0f,GAChCrd,KAAKwd,eAAe7f,MAAM,cAAe0f,GACzCrd,KAAK7I,IAAIynB,SAzbb,mCA4bezV,GAAQ,IAAD,OAClBnJ,KAAK0d,OAAO/f,MAAM,aAAa,SAAC4hB,GAAD,OAAYpW,EAAM,EAAKuS,GAAGnZ,MAAMgd,OAC/Dvf,KAAK7I,IAAIynB,SA9bb,iEAmcS5e,KAAK7I,KAAQ6I,KAAKic,QAGvBjc,KAAK7I,IAAImV,KAAKtM,KAAKic,OAAO+D,2BAtc9B,kIA6cI,OAAOhgB,KAAK7I,IAAIkV,QA7cpB,aAgdWA,GACPrM,KAAK7I,IAAIkV,KAAKA,OAjdlB,KC6Le4T,GAzMdxK,c,kNAICyK,gB,IACAC,MAAQ,IAAI/E,GAAkB,CAC5BC,cAAe,SAACha,GAAD,OAAU,EAAKqU,QAAQrJ,KAAOhL,GAC7Cia,OAAQ,SAACtW,EAAM6N,GACb,EAAK6C,QAAQ0K,WAAWpb,EAAM6N,IAEhC0I,qBAAsB,SAAC8E,GACrB,IAAMC,EAAO,EAAK5K,QAAQjd,SAAW4nB,EAAQ,GAAK,GAAM,IACxD,EAAK3K,QAAQjd,QAAU2L,KAAKjD,IAC1Bmf,EACAlc,KAAKlD,IAAI,EAAKwU,QAAQ6E,aAAa,GAAI,EAAK7E,QAAQ6E,aAAa,MAGrE7L,QAAS,SAAC1J,EAAMlK,EAAUuP,GACxB,EAAKqL,QAAQhH,QAAU,CAAE1J,OAAMlK,WAAUuP,WAE3CsE,YAAa,SAACC,EAAOC,EAAO/T,GAC1B,EAAK4a,QAAQ/G,YAAc,CAAEC,QAAOC,QAAO/T,e,EAI/CylB,SAAW,CACTC,QAAQ,EACRC,MAAO,CAAEpc,EAAG,EAAGG,EAAG,I,EAEpBkc,Q,IAEAC,iBAAmB,G,EAuGnBC,UAAY,SAAC/I,GACXA,EAAMG,iBACN,EAAKuI,SAASC,QAAS,EACvB,EAAKD,SAASE,MAAQ,CAAEpc,EAAGwT,EAAMgJ,QAASrc,EAAGqT,EAAMiJ,SAEnD,IAAMC,EAAU,EAAKrL,QAAQ+E,UACzBsG,GACF,EAAKZ,MAAMa,cAAa,GAG1B,IAAMC,EAAoB,SAACtpB,GACzB,EAAKupB,OAAOvpB,IAgBdsY,OAAOjJ,iBAAiB,YAAaia,GACrChR,OAAOjJ,iBAAiB,WAdA,SAAlBma,IACJlR,OAAOhJ,oBAAoB,YAAaga,GACxChR,OAAOhJ,oBAAoB,UAAWka,GAElCJ,GACF,EAAKZ,MAAMa,cAAa,GAG1BI,YAAW,WACT,EAAKb,SAASC,QAAS,IACtB,Q,EAOPU,OAAS,SAACvpB,GACR,GAAK,EAAK4oB,SAASC,OAAnB,CAGA,IAAMa,EAAK1pB,EAAEkpB,QAAU,EAAKN,SAASE,MAAMpc,EACrCid,EAAK3pB,EAAEmpB,QAAU,EAAKP,SAASE,MAAMjc,EAC3C,EAAK2b,MAAMoB,WAAWF,EAAIC,GAC1B,EAAKf,SAASE,MAAQ,CAAEpc,EAAG1M,EAAEkpB,QAASrc,EAAG7M,EAAEmpB,W,mEA1I3C9gB,KAAK2gB,iBAAiB/d,SAAQ,SAACS,GAAD,OAAOA,OACrCrD,KAAK2gB,iBAAmB,K,0CAGL,IAAD,OAElB3gB,KAAKwhB,qBAEL,IAAMla,EAAQtH,KAAK0V,QAEb+L,EAAgB,SAACC,EAAGziB,GACxB,EAAK0hB,iBAAiB7gB,KAAKyO,aAAQmT,EAAGziB,KAExCwiB,GAAc,WACZ,EAAKtB,MAAM9T,KAAO/E,EAAM+E,QAE1BoV,GAAc,WACZ,EAAKtB,MAAMwB,OAAOra,EAAM7O,YAE1BgpB,GAAc,WACZ,EAAKtB,MAAMyB,UAAUta,EAAMqF,MAC3B,EAAKwT,MAAM0B,YAAYva,EAAM4M,UAAU/K,MAAO7B,EAAMwa,uBAEtDL,GACE,WACE,EAAKtB,MAAM4B,eAAeza,EAAMkT,WAElC,CAAE3I,MAAO,MAEX4P,GACE,WACMna,EAAM8M,iBACR,EAAK+L,MAAM6B,QAAQ1a,EAAM2M,kBAAmB3M,EAAM+M,eAElD,EAAK8L,MAAM6B,QAAQ1a,EAAMvD,UAAWuD,EAAM9E,SAG9C,CAAEqP,MAAO,MAEX4P,GACE,WACOna,EAAM8M,kBACT,EAAK+L,MAAMf,aACT9X,EAAMmP,iBAAmBnP,EAAM2M,kBAAoB,MAIzD,CAAEpC,MAAO,MAEX4P,GAAc,WACZ,EAAKtB,MAAM8B,YACT3a,EAAM7J,SAAW6J,EAAM7J,SAASuE,KAAO,KACvCsF,EAAMyH,YAAY5X,KAAI,SAACwI,GAAD,OAAOA,EAAEqF,KAAKhD,YAGxCyf,GACE,WACE,EAAKtB,MAAM+B,aAAa5a,EAAMiN,kBAEhC,CAAE1C,MAAO,MAEX4P,GAAc,WACZ,EAAKtB,MAAMa,aAAa1Z,EAAMmT,cAEhCgH,GAAc,WACZ,EAAKtB,MAAMgC,aAAa7a,EAAMuT,cAGhC4G,GAAc,WACZ,EAAKtB,MAAMiC,aAAa9a,EAAM+a,YAAYlZ,Y,0CAIzB,IAAD,OAClBnJ,KAAKmgB,MAAMlE,OAASjc,KAAKkgB,WAEzBlgB,KAAK0gB,GAAK,IAAI4B,KACZ/D,cAAS,WACP,EAAK4B,MAAMoC,WACV,MAGLviB,KAAK0gB,GAAG8B,QAAQxiB,KAAKkgB,YAEjBlgB,KAAKmgB,MAAMsC,UAAUziB,KAAK0V,QAAQ1J,YAEpChM,KAAK0iB,sB,6CAKH1iB,KAAK0gB,IACP1gB,KAAK0gB,GAAGiC,UAAU3iB,KAAKkgB,YAGzBlgB,KAAKwhB,qBACLxhB,KAAKmgB,MAAMyC,QACX5iB,KAAKmgB,MAAMlE,OAAS,O,+BA4CZ,IAAD,OACD3U,EAAQtH,KAAK0V,QAYnB,OAVI1V,KAAKmgB,MAAMzE,KAAOpU,EAAM1K,OAE1BoD,KAAKmgB,MAAMyC,QACX5iB,KAAKmgB,MAAMzE,GAAKpU,EAAM1K,KAClBoD,KAAKmgB,MAAMsC,UAAUnb,EAAM0E,YAE7BhM,KAAK0iB,qBAKP,yBACE/kB,MAAO,CAAEiD,MAAO,OAAQvH,OAAQ,QAChCmC,IAAK,SAACA,GACJ,EAAK0kB,WAAa1kB,GAEpBqnB,WAAS,EACTC,YAAa9iB,KAAK4gB,gB,GAlMMtf,a,GACvB8U,YAAcC,G,sDCVR,OAA0B,qCCA1B,OAA0B,0C,kDCU1B,SAAS0M,KAAa,IAAD,EACV3qB,IAAMmf,UAAS,GADL,oBAC3BG,EAD2B,KACrBsL,EADqB,KAO5BC,EAAc,WAClBD,GAAQ,IAGV,OACE,oCACE,kBAACzM,EAAA,EAAD,CAAQ5V,QAAQ,WAAWrD,MAAM,UAAUJ,QAVvB,WACtB8lB,GAAQ,KASN,SAGA,kBAACE,GAAA,EAAD,CACEjnB,WAAW,EACXic,SAAU,KACVR,KAAMA,EACNyL,QAASF,EACTG,kBAAgB,0BAEhB,kBAACC,GAAA,EAAD,CAAatrB,GAAG,0BAAhB,qBAEA,kBAACurB,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,6UAKiE,IAC/D,kBAAC,KAAD,CAAiB5mB,KAAMib,OANzB,WASA,kBAAC2L,GAAA,EAAD,yCACoC,IAClC,uBACEnb,KAAK,oDACLrG,OAAO,SACPuG,IAAI,uBAHN,sEAFF,KAYA,kBAACib,GAAA,EAAD,gHAGE,uBACEnb,KAAK,6CACLrG,OAAO,SACPuG,IAAI,uBAHN,mCAHF,6FAWyB,IACvB,uBACEF,KAAK,4BACLrG,OAAO,SACPuG,IAAI,uBAHN,cAZF,+MAsBW,IACT,uBACEF,KAAK,mEACLrG,OAAO,SACPuG,IAAI,uBAHN,eAMK,IA7BP,qGAkCA,kBAACib,GAAA,EAAD,yCACoC,IAClC,uBACEnb,KAAK,kDACLrG,OAAO,SACPuG,IAAI,uBAHN,sBAFF,YASY,IACV,uBACEF,KAAK,yDACLrG,OAAO,SACPuG,IAAI,uBAHN,eAMK,IAhBP,sFAkBoB,IAClB,uBACEF,KAAK,gDACLrG,OAAO,SACPuG,IAAI,uBAHN,iBAMK,IAzBP,KA0BK,IACH,uBACEF,KAAK,+CACLrG,OAAO,SACPuG,IAAI,uBAHN,uBA3BF,KAqCA,kBAACib,GAAA,EAAD,2DACsD,IACpD,uBACEnb,KAAK,0BACLrG,OAAO,SACPuG,IAAI,uBAHN,6BAMK,IARP,MASM,IACJ,uBACEF,KAAK,2BACLrG,OAAO,SACPuG,IAAI,uBAHN,gBAMK,IAhBP,6JAmBqB,IACnB,uBACEF,KAAK,sCACLrG,OAAO,SACPuG,IAAI,uBAHN,cApBF,KA8BA,kBAACib,GAAA,EAAD,KACE,uBACEnb,KAAK,yCACLrG,OAAO,SACPuG,IAAI,uBAHN,oBAUJ,kBAACkb,GAAA,EAAD,KACE,kBAACjN,EAAA,EAAD,CAAQrZ,QAAS+lB,EAAa3lB,MAAM,WAApC,Y,+DCxJJmmB,I,OADLhO,c,6KAKG,IAAMnO,EAAQtH,KAAK0V,QACX5Z,EAAYkE,KAAK9H,MAAjB4D,QAEFmP,EAAS3D,EAAM+a,YAAYpX,SAEjC,OAAOA,GAAU,yBAAK7O,UAAWN,EAAQ3C,MAAO8R,O,GATtB7S,IAAMkJ,W,GAC3B8U,YAAcC,G,aAYR1N,gBA1BA,SAACzP,GAAD,MAAY,CACzBC,KAAM,CACJuqB,WAAY,MACZ9iB,MAAO,IACP4J,cAAe,GACfhR,QAAS,OACTK,WAAY,SACZe,SAAU,QACV6P,eAAgB,mBAkBL9B,CAAmB8a,I,UCgD5BE,GADLlO,c,6KAKG,IAAMnO,EAAQtH,KAAK0V,QACX5Z,EAAYkE,KAAK9H,MAAjB4D,QAEF4S,EAAUpH,EAAMoH,QAEhBgJ,EAAuB,MAAhBhJ,EAAQ1J,KAIf4e,EAAalM,EACf,CACEmM,YAA8B,EAAjBnV,EAAQrE,OACrByZ,aAA+B,EAAjBpV,EAAQrE,OACtB2V,sBAAuB,kBACrB,IAAI+D,QACFrV,EAAQ5T,SAASuJ,EAAIqK,EAAQrE,OAC7BqE,EAAQ5T,SAAS0J,EAAIkK,EAAQrE,OACZ,EAAjBqE,EAAQrE,OACS,EAAjBqE,EAAQrE,UAGd,KAEJ,OACE,kBAAC2Z,GAAA,EAAD,CACEtM,KAAMA,EACNuM,UAAU,MACVzM,SAAUoM,EACVxnB,UAAWN,EAAQ3C,KACnB+qB,eAAa,GAEZxV,EAAQ1J,MAAQsC,EAAM8E,SAAS7D,QAAQmG,EAAQ1J,KAAMsC,GACtD,yBAAK6c,UAAQ,IAAI/nB,UAAWN,EAAQsoB,a,GApCtBhsB,IAAMkJ,W,GACnB8U,YAAcC,G,YAyCR1N,gBApHG,SAACzP,GAAD,MAAY,CAC5BC,KAAM,CACJuP,WAAW,4BACXE,aAAc,EACdyb,OAAO,gCACP/mB,MAAO,QACP7D,QAAS,UACT6qB,cAAe,CAAC,OAAQ,cAGxB,yBAA0B,CACxBC,aAAc,EACd,WAAY,CACVC,YAAa,gBACbC,gBAAiB,cACjBC,iBAAkB,cAClBC,kBAAmB,cACnB3pB,QAAS,EACTD,KAAK,kBACLI,UAAW,EACXopB,aAAc,IAGlB,4BAA6B,CAC3BppB,UAAW,EACX,WAAY,CACVqpB,YAAa,gBACbC,gBAAiB,cACjBC,iBAAkB,cAClBE,eAAgB,cAChB9b,KAAM,EACN/N,KAAK,kBACLI,UAAW,EACXopB,aAAc,IAGlB,2BAA4B,CAC1Bb,WAAY,EACZ,WAAY,CACVc,YAAa,gBACbC,gBAAiB,cACjBI,eAAgB,cAChBF,kBAAmB,cACnB5pB,MAAO,EACP+N,IAAI,kBACJ4a,WAAY,EACZoB,YAAa,IAGjB,0BAA2B,CACzBA,YAAa,EACb,WAAY,CACVN,YAAa,gBACbE,iBAAkB,cAClBG,eAAgB,cAChBF,kBAAmB,cACnBvpB,OAAQ,EACR0N,IAAI,kBACJ4a,WAAY,EACZoB,YAAa,KAInBV,MAAO,CACLxjB,MAAO,EACPvH,OAAQ,EACR0rB,YAAa,QACbjqB,SAAU,WACVX,OAAQ,EACR6qB,YAAa,YA+CFrc,CAAsBgb,I,8BCzDtBsB,I,cApDdxP,c,kNAICyP,mBAAqB,SAACC,GACpB,IAAM7d,EAAQ,EAAKoO,QACnBpO,EAAM7J,SACJ0nB,EAAUvlB,OAAS,EAAI0H,EAAM0U,cAAcmJ,EAAU,IAAM,M,uDAI7D,IAAM7d,EAAQtH,KAAK0V,QACbjY,EAAW6J,EAAM7J,SACnB6J,EAAM0U,cAAcxI,WAAU,SAAC7T,GAAD,OAAOA,EAAEqC,OAASsF,EAAM7J,SAASuE,SAC9D,EAEL,OACE,kBAACojB,GAAA,EAAD,CACExoB,KAAM0K,EAAM0U,cACZqJ,iBAAe,EACfC,cAAY,EACZC,WAAW,EACX5nB,MAAK,aACHvE,SAAU,EACVosB,WAAY,UACRxlB,KAAK9H,MAAMyF,OAAS,IAE1BwnB,UAAW1nB,GAAY,EAAI,CAACA,QAAY+C,EACxC0kB,mBAAoBllB,KAAKklB,oBAEzB,kBAAC,KAAD,CAAwBO,OAAO,SAC9Bne,EAAMsE,aAAazU,KAAI,SAACmO,GAAD,OACtB,kBAAC,KAAD,CACEvM,IAAKuM,EAAKzI,MACV4oB,OAAQngB,EAAKuG,SACbhP,MAAOyI,EAAKzI,MACZuM,OAAQ9D,EAAK8D,OACbsc,OAAQ,CAAEC,aAAcrgB,EAAK6M,sBAGjC,kBAACyT,GAAA,EAAD,KACE,kBAAC,KAAD,CAAcH,OAAO,UACrB,kBAAC,KAAD,CAAcA,OAAO,SACpBne,EAAMsE,aAAazU,KAAI,SAACmO,GAAD,OACtB,kBAAC,KAAD,CAAcvM,IAAKuM,EAAKzI,MAAO4oB,OAAQngB,EAAKuG,oB,GA3CpCzT,IAAMkJ,W,GACjB8U,YAAcC,G,iCCajBwP,GADLpQ,a,+MAECjG,MAAQ,CACNsW,cAAe,M,EAGjBC,YAAc,SAACjU,GAAS,IACdhW,EAAY,EAAK5D,MAAjB4D,QAENgW,EAAI/P,kBAAkBikB,aACtBlU,EAAI/P,OAAOkkB,UAAUC,SAASpqB,EAAQqqB,YAEtC,EAAKC,eAAetU,EAAIgG,gB,6DAIb9S,GAAO,IAAD,OACXlJ,EAAYkE,KAAK9H,MAAjB4D,QACFuqB,EAAY,SAACvU,GACjB,IAAMjP,EAAImC,EACJshB,EAAKzjB,EAAEmd,wBACPxb,EAAIsN,EAAIgP,QAAUwF,EAAGxd,IAAMjG,EAAE0jB,UAAY1jB,EAAE2jB,UAC3CC,EAAQriB,KAAKwF,MAAO,IAAMpF,EAAK3B,EAAE6jB,cACvC,EAAKC,SAAS,CAAEb,cAAeW,IAE/B3U,EAAIiG,kBACJjG,EAAIkG,kBAEA4O,EAAU,SAAVA,EAAW9U,GACf,GAAIA,EAAI/P,SAAW+P,EAAIgG,eAA8B,eAAbhG,EAAItX,KAA5C,CAGAwK,EAAKihB,UAAUY,OAAO/qB,EAAQykB,UAC9Bvb,EAAKiC,oBAAoB,YAAaof,GACtCrhB,EAAKiC,oBAAoB,UAAW2f,GACpC5hB,EAAKiC,oBAAoB,aAAc2f,GACvC,IAAM3mB,EAAQ,EAAKuP,MAAMsW,cACzB,EAAKa,SAAS,CAAEb,cAAe,OAC3B,EAAK5tB,MAAM+H,QAAUA,GACvB,EAAK/H,MAAM4uB,eAAe7mB,KAI9B+E,EAAKihB,UAAU5X,IAAIvS,EAAQykB,UAC3Bvb,EAAKgC,iBAAiB,YAAaqf,GACnCrhB,EAAKgC,iBAAiB,UAAW4f,GACjC5hB,EAAKgC,iBAAiB,aAAc4f,K,+BAG5B,IAAD,EACqC5mB,KAAK9H,MAAzC4D,EADD,EACCA,QAASgN,EADV,EACUA,IAAK9N,EADf,EACeA,OAAQoB,EADvB,EACuBA,UACxB6D,EACwB,MAA5BD,KAAKwP,MAAMsW,cACP9lB,KAAKwP,MAAMsW,cACX9lB,KAAK9H,MAAM+H,MAEjB,OAAK6I,GAAQ9N,EAUX,yBACEoB,UAAWU,YAAKhB,EAAQ3C,KAAMiD,GAC9B2pB,YAAa/lB,KAAK+lB,aAEjB9lB,EAAQ,GAAK6I,EAAI7I,GAClB,kBAAC3D,EAAA,EAAD,CAAOF,UAAWN,EAAQqqB,YACzBlmB,EAAQ,KAAOjF,EAAO,IAAMiF,IAd7B,yBAAK7D,UAAWU,YAAKhB,EAAQ3C,KAAMiD,IAChC0M,GAAOA,EAAI,KACX9N,GAAUA,EAAO,U,GA3DC5C,IAAMkJ,a,GA6EpBqH,iBAhGG,SAACzP,GAAD,MAAY,CAC5BC,KAAM,CACJK,QAAS,OACTmR,cAAe,UAEjBwb,UAAW,CACT9sB,OAAQ,EACRW,OAAQ,aAEVumB,SAAU,CACRwG,WAAY,OACZ,QAAS,CACPvM,QAAS,GACT8J,cAAe,YAmFN3b,CAAsBkd,ICnE/B3sB,GAAQ8tB,aAAe,CAC3BzsB,QAAS,CACPmO,WAAY,CACVzN,MAAOR,KAAK,KACZwsB,QAASxsB,KAAK,SAKdysB,GAAYF,aAAe,CAC/BzsB,QAAS,CACPC,KAAM,UAyGJ2sB,GADL1R,c,kNAIC2R,YAAc,WACZnX,OAAOI,SAAS1O,QAAQsO,OAAOI,SAASgX,W,uDAIxC,IAAM/f,EAAQtH,KAAK0V,QACX5Z,EAAYkE,KAAK9H,MAAjB4D,QAER,OACE,kBAACwrB,GAAA,EAAD,CAAepuB,MAAOoO,EAAMuT,UAAYqM,GAAYhuB,IAClD,yBAAKkD,UAAWN,EAAQ3C,MACtB,kBAACouB,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,CACElqB,MAAM,UACNxC,SAAS,QACTsB,UAAWU,YAAKhB,EAAQ2rB,OAAQ,CAC9B,CAAC3rB,EAAQ4rB,aAAcpgB,EAAM4J,iBAG/B,kBAACyW,EAAA,EAAD,KACE,kBAAChS,EAAA,EAAD,CACErY,MAAM,UACNsqB,aAAW,cACX1qB,QAAS,WACPoK,EAAM4J,eAAgB,GAExBrM,KAAK,QACLzI,UAAWU,YACThB,EAAQ+rB,WACRvgB,EAAM4J,eAAiBpV,EAAQgsB,OAGjC,kBAAC,KAAD,OAEF,kBAACvR,EAAA,EAAD,CACEjZ,MAAM,UACNsqB,aAAW,OACXjqB,MAAO,CAAEmnB,YAAa,GACtB5nB,QAAS8C,KAAKonB,aAEd,yBACEhrB,UAAU,OACV2rB,IAAKzgB,EAAMuT,UAAYmN,GAAgBC,GACvCjV,IAAI,UAGR,kBAAC3V,EAAA,EAAD,CAAYsD,QAAQ,KAAKrD,MAAM,UAAU4qB,QAAM,GAA/C,iBACiB5gB,EAAMmH,QAAQ5R,MAC5ByK,EAAM7J,SAAN,aAAuB6J,EAAM7J,SAASuE,MAAS,IAElD,yBAAKrE,MAAO,CAAE/D,KAAM,KACpB,kBAACmpB,GAAD,QAGJ,kBAACoF,EAAA,EAAD,CACE/rB,UAAWN,EAAQssB,OACnBznB,QAAQ,aACR+W,KAAMpQ,EAAM4J,cACZpV,QAAS,CACPb,MAAOa,EAAQusB,cAGjB,yBAAKjsB,UAAWN,EAAQwsB,cACtB,kBAAC3S,EAAA,EAAD,CACEzY,QAAS,WACPoK,EAAM4J,eAAgB,IAGxB,kBAAC,KAAD,QAGJ,kBAAC,GAAD,OAEF,yBACE9U,UAAWU,YAAKhB,EAAQysB,iBAAkB,CACxC,CAACzsB,EAAQ0sB,cAAelhB,EAAM4J,cAC9B,CAACpV,EAAQ2sB,kBAAmBnhB,EAAMuT,aAGpC,yBAAKze,UAAWN,EAAQwsB,eACxB,kBAAC,GAAD,CACElsB,UAAWN,EAAQ+M,QACnB5I,MAAOqH,EAAMohB,WACb5B,eAAgB,SAAC7mB,GAAD,OAAYqH,EAAMohB,WAAazoB,GAC/C6I,IAAK,SAAC7I,GAAD,OACH,yBAAK7D,UAAWN,EAAQ2G,MAAO9E,MAAO,CAAEvE,SAAU6G,IAChD,kBAAC,GAAD,MACCqH,EAAMqT,YACL,yBAAKve,UAAWN,EAAQmP,QACtB,kBAAC,GAAD,OAGJ,kBAAC,GAAD,MACA,kBAAC,GAAD,OACE3D,EAAM1K,MACN,yBAAKR,UAAWN,EAAQ6sB,eACtB,kBAACC,EAAA,EAAD,CACEC,eAAa,EACbzsB,UAAWN,EAAQgtB,OACnBxc,KAAM,SAMhBtR,OACEsM,EAAMsT,UACF,SAAC3a,GAAD,OAAW,kBAAC,GAAD,CAAOtC,MAAO,CAAEvE,SAAU6G,MACrC,c,GA/GF7H,IAAMkJ,W,GACf8U,YAAcC,G,YAwHR1N,gBA9NG,SAACzP,GAAD,MAAY,CAC5BC,KAAM,CACJyH,MAAO,OACPmoB,UAAW,OACXvvB,QAAS,QAEXiuB,OAAQ,CACNuB,WAAY9vB,EAAM+vB,YAAYC,OAAO,CAAC,SAAU,SAAU,CACxDC,OAAQjwB,EAAM+vB,YAAYE,OAAOC,MACjCC,SAAUnwB,EAAM+vB,YAAYI,SAASC,iBAGzC5B,YAAa,CACX9mB,MAAM,eAAD,OA9BW,IA8BX,OACL8iB,WA/BgB,IAgChBsF,WAAY9vB,EAAM+vB,YAAYC,OAAO,CAAC,SAAU,SAAU,CACxDC,OAAQjwB,EAAM+vB,YAAYE,OAAOI,QACjCF,SAAUnwB,EAAM+vB,YAAYI,SAASG,kBAGzC3B,WAAY,CACV/C,YAAa5rB,EAAMT,QAAQ,IAE7BqvB,KAAM,CACJtuB,QAAS,QAEX4uB,OAAQ,CACNxnB,MA5CgB,IA6ChB6oB,WAAY,EACZ3uB,SAAU,YAEZutB,YAAa,CACXznB,MAjDgB,IAkDhB9F,SAAU,WACVgO,IAAK,EACL9N,OAAQ,EACRD,KAAM,EACNK,MAAO,EACPtB,SAAU,OACVL,QAASP,EAAMT,QAAQ,GACvBuR,WAAY,EACZ0f,UAAW,UAEbpB,aAAa,yBACX9uB,QAAS,OACTK,WAAY,UACTX,EAAMywB,OAAOC,SAHN,IAIVnf,eAAgB,aAElB8d,iBAAkB,CAChBnvB,SAAU,EACVI,QAAS,OACTmR,cAAe,SACfqe,WAAY9vB,EAAM+vB,YAAYC,OAAO,SAAU,CAC7CC,OAAQjwB,EAAM+vB,YAAYE,OAAOC,MACjCC,SAAUnwB,EAAM+vB,YAAYI,SAASC,gBAEvC5F,YA1EgB,KA4ElB8E,aAAc,CACZQ,WAAY9vB,EAAM+vB,YAAYC,OAAO,SAAU,CAC7CC,OAAQjwB,EAAM+vB,YAAYE,OAAOI,QACjCF,SAAUnwB,EAAM+vB,YAAYI,SAASG,iBAEvC9F,WAAY,GAEd7a,QAAS,CACPzP,SAAU,GAEZqJ,MAAO,CACL3H,SAAU,YAEZ2tB,iBAAkB,CAChBnrB,MAAO,SAET2N,OAAQ,CACN/P,OAAQ,IACRJ,SAAU,WACVE,OAAQ,EACRD,KAAM,EACNvB,QAAS,OACTK,WAAY,YAEd8uB,cAAe,CACbztB,OAAQhC,EAAMgC,OAAOqN,QACrBzN,SAAU,WACVgO,IAAK,EACL/N,KAAM,EACN6F,MAAO,OACPvH,OAAQ,OACRqP,WAAY,yBACZlP,QAAS,OACTK,WAAY,SACZ4Q,eAAgB,UAElBqe,OAAQ,CACN3uB,OAAQjB,EAAMT,QAAQ,OA8HXkQ,CAAsBwe,ICtQjBxP,QACW,cAA7B1H,OAAOI,SAASwZ,UAEe,UAA7B5Z,OAAOI,SAASwZ,UAEhB5Z,OAAOI,SAASwZ,SAASrmB,MACvB,2D,wBCTNsmB,aAAc7Z,QACd8Z,aAAe9Z,QAEf,IAAM3I,GAAQ,IAAIsD,GAElBof,IAAS3iB,OACP,kBAAC,GAAM4iB,SAAP,CAAgBhqB,MAAOqH,IACrB,kBAAC,GAAD,OAEFoK,SAASwY,eAAe,SD2GpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM3yB,MAAK,SAAC4yB,GAClCA,EAAaC,kB","file":"static/js/main.1dd0b9f1.chunk.js","sourcesContent":["module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"4925265f91fa87ed43e7.worker.js\");\n};","var map = {\n\t\"./split-me.entry.js\": [\n\t\t272,\n\t\t11\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 247;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./oc-double-slider_15.entry.js\": [\n\t\t276,\n\t\t5\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 248;\nmodule.exports = webpackAsyncContext;","import React from 'react';\nimport { Grid } from '@material-ui/core';\n\nexport default (props) => {\n  let { children } = props;\n\n  children = React.Children.toArray(children);\n\n  return (\n    <Grid container spacing={1}>\n      {children.map((child, i) => {\n        const gridsize = child.props.gridsize || { xs: 12 };\n        return (\n          <Grid item key={i} {...gridsize}>\n            {child}\n          </Grid>\n        );\n      })}\n    </Grid>\n  );\n};\n","import React from 'react';\nimport clsx from 'clsx';\nimport Select from 'react-select';\nimport Async from 'react-select/async';\nimport { emphasize, makeStyles, useTheme } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Chip from '@material-ui/core/Chip';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { deburr } from 'lodash-es';\nimport { ListItemText, ListItemSecondaryAction } from '@material-ui/core';\n\n// BASED on https://material-ui.com/components/autocomplete/\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    height: 250,\n    minWidth: 290,\n  },\n  input: {\n    display: 'flex',\n    padding: 0,\n    height: 'auto',\n  },\n  valueContainer: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flex: 1,\n    alignItems: 'center',\n    overflow: 'hidden',\n  },\n  clearIndicator: {\n    cursor: 'pointer',\n  },\n  dropdownIndicator: {\n    cursor: 'pointer',\n  },\n  chip: {\n    margin: theme.spacing(0.5, 0.25),\n  },\n  chipFocused: {\n    backgroundColor: emphasize(\n      theme.palette.type === 'light'\n        ? theme.palette.grey[300]\n        : theme.palette.grey[700],\n      0.08\n    ),\n  },\n  noOptionsMessage: {\n    padding: theme.spacing(1, 2),\n  },\n  singleValue: {\n    fontSize: 16,\n  },\n  placeholder: {\n    position: 'absolute',\n    left: 2,\n    bottom: 6,\n    fontSize: 16,\n  },\n  paper: {\n    position: 'absolute',\n    zIndex: 1,\n    marginTop: theme.spacing(1),\n    left: 0,\n    right: 0,\n  },\n  divider: {\n    height: theme.spacing(2),\n  },\n}));\n\nfunction NoOptionsMessage(props) {\n  return (\n    <Typography\n      color=\"textSecondary\"\n      className={props.selectProps.classes.noOptionsMessage}\n      {...props.innerProps}\n    >\n      {props.children}\n    </Typography>\n  );\n}\n\nfunction inputComponent({ inputRef, ...props }) {\n  return <div ref={inputRef} {...props} />;\n}\n\nfunction Control(props) {\n  const {\n    children,\n    innerProps,\n    innerRef,\n    selectProps: { classes, TextFieldProps },\n  } = props;\n\n  return (\n    <TextField\n      fullWidth\n      InputProps={{\n        inputComponent,\n        inputProps: {\n          className: classes.input,\n          ref: innerRef,\n          children,\n          ...innerProps,\n        },\n      }}\n      {...TextFieldProps}\n    />\n  );\n}\n\nfunction Option(props) {\n  return (\n    <MenuItem\n      ref={props.innerRef}\n      selected={props.isFocused}\n      component=\"div\"\n      style={{\n        fontWeight: props.isSelected ? 500 : 400,\n      }}\n      {...props.innerProps}\n    >\n      {props.selectProps.optionButtons ? (\n        <>\n          <ListItemText primary={props.children} />\n          <ListItemSecondaryAction>\n            {props.selectProps.optionButtons(props.data)}\n          </ListItemSecondaryAction>\n        </>\n      ) : (\n        props.children\n      )}\n    </MenuItem>\n  );\n}\n\nfunction Placeholder(props) {\n  const { selectProps, innerProps = {}, children } = props;\n  return (\n    <Typography\n      color=\"textSecondary\"\n      className={selectProps.classes.placeholder}\n      {...innerProps}\n    >\n      {children}\n    </Typography>\n  );\n}\n\nfunction SingleValue(props) {\n  return (\n    <Typography\n      className={props.selectProps.classes.singleValue}\n      {...props.innerProps}\n    >\n      {props.children}\n    </Typography>\n  );\n}\n\nfunction ValueContainer(props) {\n  return (\n    <div className={props.selectProps.classes.valueContainer}>\n      {props.children}\n    </div>\n  );\n}\n\nfunction MultiValue(props) {\n  return (\n    <Chip\n      tabIndex={-1}\n      icon={props.data ? props.data.icon : null}\n      label={props.children}\n      className={clsx(props.selectProps.classes.chip, {\n        [props.selectProps.classes.chipFocused]: props.isFocused,\n      })}\n      onDelete={props.removeProps.onClick}\n      deleteIcon={<CancelIcon {...props.removeProps} />}\n    />\n  );\n}\n\nfunction Menu(props) {\n  return (\n    <Paper\n      square\n      className={props.selectProps.classes.paper}\n      {...props.innerProps}\n    >\n      {props.children}\n    </Paper>\n  );\n}\n\nconst components = {\n  Control,\n  Menu,\n  MultiValue,\n  NoOptionsMessage,\n  Option,\n  Placeholder,\n  SingleValue,\n  ValueContainer,\n};\n\nexport default function ReactSelectWrapper({ label, ...rest }) {\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const selectStyles = {\n    input: (base) => ({\n      ...base,\n      color: theme.palette.text.primary,\n      '& input': {\n        font: 'inherit',\n      },\n    }),\n    clearIndicator: (base) => ({\n      ...base,\n      cursor: 'pointer',\n    }),\n    dropdownIndicator: (base) => ({\n      ...base,\n      cursor: 'pointer',\n    }),\n  };\n\n  return (\n    <Select\n      classes={classes}\n      styles={selectStyles}\n      TextFieldProps={{\n        label,\n        InputLabelProps: {\n          shrink: true,\n        },\n      }}\n      components={components}\n      {...rest}\n    />\n  );\n}\n\nexport function ReactSelectSearchWrapper({\n  label,\n  maxItems,\n  options,\n  ...rest\n}) {\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const selectStyles = {\n    input: (base) => ({\n      ...base,\n      color: theme.palette.text.primary,\n      '& input': {\n        font: 'inherit',\n      },\n    }),\n    clearIndicator: (base) => ({\n      ...base,\n      cursor: 'pointer',\n    }),\n    dropdownIndicator: (base) => ({\n      ...base,\n      cursor: 'pointer',\n    }),\n  };\n\n  const loadOptions = (inputValue) => {\n    inputValue = deburr(inputValue.trim()).toLowerCase();\n\n    if (!inputValue) {\n      return maxItems ? options.slice(0, maxItems) : [];\n    }\n\n    const data = options.reduce((r, d) => {\n      if (\n        (!maxItems || r.length < maxItems) &&\n        d.label.toLowerCase().includes(inputValue)\n      ) {\n        r.push(d);\n      }\n      return r;\n    }, []);\n\n    return Promise.resolve(data);\n  };\n  return (\n    <Async\n      classes={classes}\n      styles={selectStyles}\n      TextFieldProps={{\n        label,\n        InputLabelProps: {\n          shrink: true,\n        },\n      }}\n      components={components}\n      defaultOptions={options.slice(0, maxItems || 10)}\n      loadOptions={loadOptions}\n      {...rest}\n    />\n  );\n}\n","import React, { Component } from 'react';\nimport { FormControl, Typography, Slider } from '@material-ui/core';\n\nclass SliderControlComponent extends Component {\n  render() {\n    const {\n      label,\n      value,\n      range,\n      step,\n      onChange,\n      digits,\n      format,\n      children,\n    } = this.props;\n\n    const child = children ? React.Children.only(children) : undefined;\n\n    const paddingRight = child ? 16 : 0;\n\n    return (\n      <FormControl fullWidth>\n        <Typography variant=\"caption\">{label}</Typography>\n        <div style={{ display: 'flex', alignItems: 'center', width: '100%' }}>\n          <div>\n            {format\n              ? format(value)\n              : value.toFixed(Number.isInteger(digits) ? digits : 2)}\n          </div>\n          <div style={{ flexGrow: 1, paddingLeft: 16, paddingRight }}>\n            <Slider\n              min={range[0]}\n              max={range[1]}\n              step={step}\n              value={value}\n              onChange={(_e, val) => {\n                onChange(val);\n              }}\n            />\n          </div>\n          {child}\n        </div>\n      </FormControl>\n    );\n  }\n}\n\nexport default SliderControlComponent;\n","import React, { Component } from 'react';\nimport { Select, MenuItem, FormControl, InputLabel } from '@material-ui/core';\n\nimport { isString } from 'lodash-es';\n\nclass SelectControlComponent extends Component {\n  render() {\n    const { label, value, options, onChange } = this.props;\n\n    let selectOptions = [];\n    for (let option of options) {\n      if (isString(option)) {\n        selectOptions.push(\n          <MenuItem key={option} value={option}>\n            {option.replace('\\\\u002', '.')}\n          </MenuItem>\n        );\n      } else if (Number.isFinite(option)) {\n        selectOptions.push(\n          <MenuItem key={option} value={option}>\n            {option}\n          </MenuItem>\n        );\n      } else {\n        const { label, value } = option;\n        selectOptions.push(\n          <MenuItem key={value} value={value}>\n            {label.replace('\\\\u002', '.')}\n          </MenuItem>\n        );\n      }\n    }\n\n    return (\n      <FormControl fullWidth>\n        <InputLabel>{label}</InputLabel>\n        <Select\n          value={value || ''}\n          onChange={(e) => {\n            onChange(e.target.value);\n          }}\n          inputProps={{ name: 'select', id: 'select' }}\n        >\n          {selectOptions}\n        </Select>\n      </FormControl>\n    );\n  }\n}\n\nexport default SelectControlComponent;\n","import React, { Component } from 'react';\nimport { FormControl, FormControlLabel, Checkbox } from '@material-ui/core';\n\nclass CheckboxControlComponent extends Component {\n  render() {\n    const { label, value, onChange, className } = this.props;\n\n    return (\n      <FormControl fullWidth className={className}>\n        <FormControlLabel\n          control={\n            <Checkbox\n              checked={value}\n              onChange={(_e, val) => {\n                onChange(val);\n              }}\n            />\n          }\n          label={label}\n        />\n      </FormControl>\n    );\n  }\n}\n\nexport default CheckboxControlComponent;\n","import { extractElements } from './parse';\n\nexport class DataProvider {}\n\nexport function computeGraph(edges) {\n  // Create a node index table.\n  let index = {};\n  let count = 0;\n  edges.forEach((e) => {\n    // Create an entry if the node hasn't been seen yet.\n    e.forEach((n) => {\n      if (!index.hasOwnProperty(n)) {\n        // Record the index.\n        index[n] = count++;\n      }\n    });\n  });\n\n  // Create a version of the edges list that has indices instead of names.\n  const edgeIndex = edges.map((e) => e.map((n) => index[n]));\n\n  return {\n    nodeIndex: index,\n    edgeIndex,\n  };\n}\n\nexport class DiskDataProvider extends DataProvider {\n  constructor(nodes, edges) {\n    super();\n\n    this.nodes = nodes;\n    this.edges = edges;\n\n    const graph = computeGraph(edges);\n    this._nodeIndex = graph.nodeIndex;\n    this.edgeIndex = graph.edgeIndex;\n\n    // inject the name of the node into the object\n    Object.entries(nodes).forEach(([k, v]) => {\n      v.name = k;\n      const formula = v.formula || k;\n      v._elements = extractElements(formula);\n    });\n\n    this._names = Object.keys(this.nodes);\n    const bad = this._names.indexOf('value');\n    if (bad > -1) {\n      this._names = this._names\n        .slice(0, bad)\n        .concat(this._names.slice(bad + 1));\n    }\n\n    const values = Object.values(this.nodes);\n    this._formulas = values[0].formula\n      ? values.map((d) => d.formula)\n      : this._names;\n  }\n\n  getBounds() {\n    return this.nodeNames().reduce(\n      (bounds, name) => {\n        const pos = this.nodePosition(name);\n        return {\n          minx: Math.min(pos.x, bounds.minx),\n          maxx: Math.max(pos.x, bounds.maxx),\n          miny: Math.min(pos.y, bounds.miny),\n          maxy: Math.max(pos.y, bounds.maxy),\n        };\n      },\n      {\n        minx: Number.POSITIVE_INFINITY,\n        maxx: Number.NEGATIVE_INFINITY,\n        miny: Number.POSITIVE_INFINITY,\n        maxy: Number.NEGATIVE_INFINITY,\n      }\n    );\n  }\n\n  edgeCount() {\n    return this.edges.length;\n  }\n\n  edgePosition(idx) {\n    const edge = this.edges[idx];\n\n    const val = [this.nodes[edge[0]], this.nodes[edge[1]]];\n\n    if (val[0] === undefined || val[1] === undefined) {\n      console.log(idx);\n      console.log(edge);\n      console.log(val);\n    }\n\n    return val;\n  }\n\n  edgeNodes(idx) {\n    const edge = this.edges[idx];\n    return edge;\n  }\n\n  nodeNames() {\n    return this._names;\n  }\n\n  nodePosition(name) {\n    const node = this.nodes[name];\n\n    return {\n      x: node.x,\n      y: node.y,\n    };\n  }\n\n  nodeDegrees(filter) {\n    let table = {};\n    const countEdge = (node, other) => {\n      if (!table.hasOwnProperty(node)) {\n        table[node] = 0;\n      }\n\n      if (this.nodeExists(other) && filter(this.nodes[node])) {\n        table[node]++;\n      }\n    };\n\n    this.edges.forEach((edge) => {\n      countEdge(edge[0], edge[1]);\n      countEdge(edge[1], edge[0]);\n    });\n\n    return table;\n  }\n\n  nodeIndex(name) {\n    return this._nodeIndex[name];\n  }\n\n  nodeProperty(name, prop) {\n    return this.nodes[name][prop];\n  }\n\n  nodeExists(name) {\n    return this.nodes[name].discovery != null;\n  }\n\n  hasNode(name) {\n    return this.nodes[name] != null;\n  }\n}\n","export function extractElements(compound) {\n  // for now use the following logic:\n  // split by Captial letters, ignore numbers\n  const r = /([A-Z][a-z]?)/g;\n  return compound.match(r) || [];\n}\n","function sortStringsAlpha(a, b) {\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n\nfunction sortStringsLength(a, b) {\n  if (a.length < b.length) {\n    return -1;\n  } else if (a.length > b.length) {\n    return 1;\n  } else {\n    return sortStringsAlpha(a, b);\n  }\n}\n\nexport { sortStringsAlpha, sortStringsLength };\n","export function fetchJSON(path) {\n  return fetch(path).then(async (res) => {\n    const text = await res.text();\n    let json;\n    try {\n      json = JSON.parse(text);\n    } catch (e) {\n      json = null;\n    }\n\n    return json;\n  });\n}\n\nexport function fetchStructure(name) {\n  return fetchJSON(`sample-data/structures/${name}.cjson`);\n}\n","import React from 'react';\nimport { Typography } from '@material-ui/core';\n\nexport default function renderTooltip(node, _store) {\n  return <Typography variant=\"caption\">{node.name}</Typography>;\n}\n","import React from 'react';\nimport { format as d3Format } from 'd3-format';\nimport { Typography } from '@material-ui/core';\n\nfunction defaultFormatter(v) {\n  if (v == null) {\n    return v;\n  }\n  if (typeof v === 'number') {\n    return v.toFixed(3);\n  }\n  return v;\n}\n\nexport default class InfoBlock extends React.Component {\n  render() {\n    const { label, value, format, children } = this.props;\n\n    const formatValue =\n      typeof format === 'function'\n        ? format\n        : format\n        ? d3Format(format)\n        : defaultFormatter;\n\n    return (\n      value != null && (\n        <>\n          <Typography gutterBottom variant=\"caption\" color=\"textSecondary\">\n            {label}\n          </Typography>\n          <Typography paragraph>\n            {formatValue(value)}\n            {children}\n          </Typography>\n        </>\n      )\n    );\n  }\n}\n","/***\n Taken from: https://github.com/ionic-team/ionic-react-conference-app/blob/master/src/utils/stencil.js\n \nThis function is meant to make it easier to use Props and Custom Events with Custom\nElements in React.\n<ion-segment\n  value={props.filterFavorites}\n  ionChange={(e) => props.updateFavoriteFilter(e.target.value)}\n>\n</ion-segment>\n     <<< SHOULD BE WRITTEN AS >>>\n<ion-segment\n  value={props.filterFavorites}\n  ref={wc({\n    ionChange: (e) => props.updateFavoriteFilter(e.target.value)\n  })}\n>\n</ion-segment>\n***/\n\nexport function wc(customEvents = {}, props = {}) {\n  let storedEl;\n\n  return function (el) {\n    Object.entries(customEvents).forEach(([name, value]) => {\n      // If we have an element then add event listeners\n      // otherwise remove the event listener\n      const action = el ? el.addEventListener : storedEl.removeEventListener;\n      if (typeof value === 'function') {\n        action(name, value);\n        return;\n      }\n    });\n    // If we have an element then set props\n    if (el) {\n      Object.entries(props).forEach(([name, value]) => {\n        el[name] = value;\n      });\n    }\n    storedEl = el;\n  };\n}\n","import React from 'react';\n\nimport { wc } from '../../utils/webcomponents';\n\nconst Structure = ({ cjson }) => (\n  <oc-molecule\n    ref={wc(\n      // Events\n      {},\n      // Props\n      {\n        cjson,\n        moleculeRenderer: 'vtkjs',\n      }\n    )}\n  />\n);\n\nexport default Structure;\n","import material from './material';\nimport minimal from './minimal';\n\nexport default [material, minimal];\n","import React from 'react';\nimport { Typography } from '@material-ui/core';\nimport tooltip from './tooltip';\nimport InfoBlock from '../../../components/graph-vis/info-block';\nimport Structure from '../../../components/graph-vis/structure';\n\nexport default {\n  label: 'Material',\n  render: (node, store) => {\n    const hypothetical = node.discovery == null;\n    const structureFile = `${node.name}.cjson`;\n    const structurePath = `/sample-data/structures/${structureFile}`;\n    const oqmdLink = `http://oqmd.org/materials/composition/${node.name}`;\n\n    return (\n      <>\n        <Typography gutterBottom variant=\"h4\">{`${node.name} (${\n          hypothetical ? 'undiscovered' : node.discovery\n        })`}</Typography>\n\n        <Typography gutterBottom variant=\"subtitle1\" component=\"div\">\n          Material Properties\n        </Typography>\n\n        {node.degree != null && (\n          <InfoBlock\n            value={node.degree}\n            {...store.getPropertyMetaData('degree')}\n          />\n        )}\n        {node.formation_energy != null && (\n          <InfoBlock\n            value={node.formation_energy}\n            {...store.getPropertyMetaData('formation_energy')}\n          />\n        )}\n        {node.synthesis_probability != null && (\n          <InfoBlock\n            value={node.synthesis_probability}\n            {...store.getPropertyMetaData('synthesis_probability')}\n          />\n        )}\n\n        <Typography gutterBottom variant=\"subtitle1\" component=\"div\">\n          Network Properties\n        </Typography>\n\n        {node.eigen_cent != null && (\n          <InfoBlock\n            value={node.eigen_cent}\n            {...store.getPropertyMetaData('eigen_cent')}\n          />\n        )}\n        {node.deg_cent != null && (\n          <InfoBlock\n            value={node.deg_cent}\n            {...store.getPropertyMetaData('deg_cent')}\n          />\n        )}\n        {node.shortest_path != null && (\n          <InfoBlock\n            value={node.shortest_path}\n            {...store.getPropertyMetaData('shortest_path')}\n          />\n        )}\n        {node.deg_neigh != null && (\n          <InfoBlock\n            value={node.deg_neigh}\n            {...store.getPropertyMetaData('deg_neigh')}\n          />\n        )}\n\n        <div style={{ width: '100%', height: '15rem' }}>\n          <Structure cjson={node.structure} />\n        </div>\n\n        <div>\n          <a href={structurePath} download>\n            download {structureFile}\n          </a>\n        </div>\n\n        <div>\n          <a href={oqmdLink} target=\"_blank\" rel=\"noopener noreferrer\">\n            OQMD\n          </a>\n        </div>\n      </>\n    );\n  },\n  tooltip,\n};\n","import React from 'react';\nimport { Typography } from '@material-ui/core';\nimport tooltip from './tooltip';\nimport InfoBlock from '../../../components/graph-vis/info-block';\nimport Structure from '../../../components/graph-vis/structure';\n\nexport default {\n  label: 'Minimal',\n  render: (node, store) => {\n    const hypothetical = node.discovery == null;\n\n    return (\n      <>\n        <Typography gutterBottom variant=\"h4\">{`${node.name} (${\n          hypothetical ? 'undiscovered' : node.discovery\n        })`}</Typography>\n\n        <Typography gutterBottom variant=\"subtitle1\" component=\"div\">\n          Material Properties\n        </Typography>\n\n        {node.degree != null && (\n          <InfoBlock\n            value={node.degree}\n            {...store.getPropertyMetaData('degree')}\n          />\n        )}\n        {node.formation_energy != null && (\n          <InfoBlock\n            value={node.formation_energy}\n            {...store.getPropertyMetaData('formation_energy')}\n          />\n        )}\n        {node.synthesis_probability != null && (\n          <InfoBlock\n            value={node.synthesis_probability}\n            {...store.getPropertyMetaData('synthesis_probability')}\n          />\n        )}\n\n        <div style={{ width: '100%', height: '15rem' }}>\n          <Structure cjson={node.structure} />\n        </div>\n      </>\n    );\n  },\n  tooltip,\n};\n","import React from 'react';\nimport { withStyles } from '@material-ui/core';\n\nconst height = 20;\n\nconst styles = (theme) => ({\n  root: {\n    borderRadius: '50%',\n    position: 'relative',\n    width: height,\n    margin: '0 3em',\n    height,\n    '&::before': {\n      content: 'attr(title)',\n      position: 'absolute',\n      top: '100%',\n      left: '50%',\n      whiteSpace: 'nowrap',\n      padding: 2,\n      textAlign: 'center',\n      transform: 'translate(-50%,0)',\n    },\n  },\n});\n\nclass LegendCircle extends React.Component {\n  render() {\n    const { classes, label, color } = this.props;\n\n    return (\n      <div\n        className={classes.root}\n        title={label}\n        style={{ background: color }}\n      />\n    );\n  }\n}\n\nexport default withStyles(styles)(LegendCircle);\n","import React from 'react';\nimport { withStyles } from '@material-ui/core';\n\nconst height = 20;\n\nconst styles = (theme) => ({\n  root: {\n    flexGrow: 1,\n    height: height / 2,\n    position: 'relative',\n    '&::before': {\n      content: 'attr(data-from)',\n      position: 'absolute',\n      top: '100%',\n      left: 0,\n      whiteSpace: 'nowrap',\n      paddingTop: height / 4 + 2,\n      textAlign: 'left',\n    },\n    '&::after': {\n      content: 'attr(data-to)',\n      position: 'absolute',\n      top: '100%',\n      right: 0,\n      whiteSpace: 'nowrap',\n      paddingTop: height / 4 + 2,\n      textAlign: 'right',\n    },\n  },\n});\n\nclass LegendGradient extends React.Component {\n  render() {\n    const { classes, scale, format } = this.props;\n    const gradientSamples = 10;\n    const domain = scale.domain();\n    // sample the color scale and create a gradient defintion out of it\n    const colors = scale.copy().domain([0, gradientSamples]);\n    const samples = Array.from({ length: gradientSamples + 1 })\n      .map((_, i) => `${colors(i)} ${Math.round((i * 100) / gradientSamples)}%`)\n      .join(',');\n    return (\n      <div\n        className={classes.root}\n        data-from={format(domain[0])}\n        data-to={format(domain[1])}\n        style={{ background: `linear-gradient(to right, ${samples})` }}\n      />\n    );\n  }\n}\n\nexport default withStyles(styles)(LegendGradient);\n","import React from 'react';\nimport { ApplicationStore } from '../../store';\nimport { withStyles } from '@material-ui/core';\n\nconst width = 300;\nconst minWidth = 30;\n\nconst styles = (theme) => ({\n  root: {\n    width,\n    display: 'flex',\n    paddingBottom: 20,\n    justifyContent: 'space-between',\n    alignSelf: 'stretch',\n  },\n  circle: {\n    margin: '0 2px',\n    minWidth,\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    '&::before': {\n      content: 'attr(title)',\n      position: 'absolute',\n      fontSize: 'small',\n      top: '100%',\n      left: '50%',\n      padding: 2,\n      textAlign: 'center',\n      transform: 'translate(-50%,0)',\n    },\n  },\n  innerCircle: {\n    borderRadius: '50%',\n    background: ApplicationStore.FIXED_COLOR,\n  },\n});\n\nclass SizeLegend extends React.Component {\n  render() {\n    const { classes, scale, factor, format } = this.props;\n\n    // number of points to draw\n    let count = 3;\n    for (; count < 10; count++) {\n      // ticks does some magic so compute all the time\n      const actWidth = scale.ticks(count).reduce((sum, v) => {\n        const width = Math.max(factor * scale(v) * 2, 30);\n        return sum + width;\n      }, 0);\n      if (actWidth > width) {\n        count--; // one too much\n        break;\n      }\n    }\n\n    // use divs to fake circles\n    return (\n      <div className={classes.root}>\n        {scale.ticks(count).map((v) => {\n          const radius = factor * scale(v);\n          return (\n            <div\n              key={v}\n              className={classes.circle}\n              title={format ? format(v) : v}\n            >\n              <div\n                className={classes.innerCircle}\n                style={{\n                  width: `${radius * 2}px`,\n                  height: `${radius * 2}px`,\n                }}\n              />\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(SizeLegend);\n","import React from 'react';\nimport { ApplicationStore } from '../store';\nimport { LegendGradient, LegendCircle, SizeLegend } from '../components/legend';\nimport { scaleLinear } from 'd3-scale';\n\n/**\n * coloring factory by property\n * @param {string} prop property to visualize\n */\nexport function propertyColorFactory(prop) {\n  return (store) => {\n    const meta = store.getPropertyMetaData(prop);\n    const scale = store.colorScale.copy().domain(meta.domain);\n\n    return {\n      legend: () => (\n        <>\n          <LegendGradient scale={scale} format={meta.format} />\n          <LegendCircle\n            label=\"Unknown\"\n            color={ApplicationStore.INVALID_VALUE_COLOR}\n          />\n        </>\n      ),\n      scale: (node) => {\n        const value = node[prop];\n        return value != null\n          ? scale(value)\n          : ApplicationStore.INVALID_VALUE_COLOR;\n      },\n    };\n  };\n}\n\n/**\n * coloring factory by property existence\n * @param {string} prop property to visualize\n */\nexport function booleanColorFactory(prop, discovered, undiscovered) {\n  return (store) => {\n    return {\n      legend: () => (\n        <>\n          <LegendCircle\n            label={discovered}\n            color={ApplicationStore.DISCOVERED_COLOR}\n          />\n          <LegendCircle\n            label={undiscovered}\n            color={ApplicationStore.UNDISCOVERED_COLOR}\n          />\n        </>\n      ),\n      scale: (node) => {\n        const value = node[prop];\n        return value != null\n          ? ApplicationStore.DISCOVERED_COLOR\n          : ApplicationStore.UNDISCOVERED_COLOR;\n      },\n    };\n  };\n}\n\nfunction createDefaultScale(domain) {\n  return scaleLinear().domain(domain);\n}\n\n/**\n * size factory by property\n * @param {string} prop property to visualize\n */\nexport function propertySizeFactory(prop, createScale = createDefaultScale) {\n  return (store) => {\n    if (!store.data) {\n      return {\n        legend: () => null,\n        scale: () => store.sizeScaleRange[0],\n      };\n    }\n    const meta = store.getPropertyMetaData(prop);\n    const scale = createScale(meta.domain)\n      .range(store.sizeScaleRange)\n      .clamp(true);\n\n    return {\n      legend: (factor) => (\n        <SizeLegend scale={scale} factor={factor} format={meta.format} />\n      ),\n      scale: (node) => {\n        const value = node[prop];\n        return value != null ? scale(value) : scale.range()[0];\n      },\n    };\n  };\n}\n","import { ApplicationStore } from '../store';\nimport React from 'react';\nimport { Typography } from '@material-ui/core';\nimport InfoBlock from '../components/graph-vis/info-block';\nimport Structure from '../components/graph-vis/structure';\n\nconst templates = [\n  {\n    label: 'Generic',\n    render: (node, store) => {\n      return (\n        <>\n          <Typography gutterBottom variant=\"h4\">\n            {node.name}\n          </Typography>\n          <Typography gutterBottom variant=\"subtitle1\" component=\"div\">\n            Properties\n          </Typography>\n\n          {store.propertyList.map((prop) => {\n            const value = node[prop.property];\n            if (value == null) {\n              return null;\n            }\n            return <InfoBlock key={prop.property} value={value} {...prop} />;\n          })}\n\n          <div style={{ width: '100%', height: '15rem' }}>\n            <Structure cjson={node.structure} />\n          </div>\n        </>\n      );\n    },\n    tooltip: (node) => <Typography variant=\"caption\">{node.name}</Typography>,\n  },\n];\n\nconst colors = [\n  {\n    label: 'None',\n    factory: () => ({\n      legend: () => null,\n      scale: () => ApplicationStore.FIXED_COLOR,\n    }),\n  },\n];\n\nconst sizes = [\n  {\n    label: 'None',\n    factory: () => ({\n      legend: () => null,\n      scale: () => 10,\n    }),\n  },\n];\n\nexport default {\n  templates,\n\n  colors,\n  zoomRange: [-3.75, 3],\n  sizes,\n  yearRange: null, // disable\n\n  properties: {},\n\n  defaults: {\n    template: templates[0],\n    color: colors[0],\n    zoom: -2.3,\n    size: sizes[0],\n  },\n};\n","import React from 'react';\nimport { ApplicationStore } from '../../store';\nimport { LegendGradient, LegendCircle } from '../../components/legend';\nimport { propertyColorFactory, booleanColorFactory } from '../utils';\nimport defaultTemplate from '../default';\n\nexport default [\n  ...defaultTemplate.sizes,\n  {\n    label: 'Year of discovery',\n    factory: (store) => {\n      const scale = store.colorScale.copy().domain(store.yearRange);\n\n      return {\n        legend: () => (\n          <>\n            <LegendGradient scale={scale} format={(v) => v.toString()} />\n            <LegendCircle\n              label=\"Undiscovered\"\n              color={ApplicationStore.UNDISCOVERED_COLOR}\n            />\n          </>\n        ),\n        scale: (node) => {\n          const discovery = node.discovery;\n          return discovery != null\n            ? scale(discovery)\n            : ApplicationStore.UNDISCOVERED_COLOR;\n        },\n      };\n    },\n  },\n  {\n    label: 'Discovered/Hypothetical',\n    factory: booleanColorFactory('discovery', 'Discovered', 'Hypothetical'),\n  },\n  {\n    label: 'Discovered/Undiscovered',\n    factory: (store) => {\n      const year = store.colorYear;\n      return {\n        legend: () => (\n          <>\n            <LegendCircle\n              label=\"Discovered\"\n              color={ApplicationStore.DISCOVERED_COLOR}\n            />\n            <LegendCircle\n              label=\"Undiscovered\"\n              color={ApplicationStore.UNDISCOVERED_COLOR}\n            />\n          </>\n        ),\n        scale: (node) => {\n          const discovery = node.discovery;\n          return discovery != null && discovery <= year\n            ? ApplicationStore.DISCOVERED_COLOR\n            : ApplicationStore.UNDISCOVERED_COLOR;\n        },\n      };\n    },\n  },\n  {\n    label: 'Formation Energy',\n    factory: propertyColorFactory('formation_energy'),\n  },\n  {\n    label: 'Synthesis Probability',\n    factory: propertyColorFactory('synthesis_probability'),\n  },\n  {\n    label: 'Clustering Coefficient',\n    factory: propertyColorFactory('clus_coeff'),\n  },\n  {\n    label: 'Eigenvector Centrality',\n    factory: propertyColorFactory('eigen_cent'),\n  },\n  {\n    label: 'Degree Centrality',\n    factory: propertyColorFactory('deg_cent'),\n  },\n  {\n    label: 'Shortest path',\n    factory: propertyColorFactory('shortest_path'),\n  },\n  {\n    label: 'Degree Neighborhood',\n    factory: propertyColorFactory('deg_neigh'),\n  },\n];\n","import React from 'react';\nimport { SizeLegend } from '../../components/legend';\nimport { scalePow, scaleLinear, scaleLog, scaleSqrt } from 'd3-scale';\nimport defaultTemplate from '../default';\n\nfunction degreeFunction(createScale) {\n  return (store) => {\n    if (!store.data) {\n      return {\n        legend: () => null,\n        scale: () => store.sizeScaleRange[0],\n      };\n    }\n    // map lookup\n    const degrees = store.data.nodeDegrees(\n      (node) => node.discovery == null || node.discovery <= store.year[1]\n    );\n    const minMax = Object.values(degrees).reduce(\n      ([min, max], v) => {\n        if (v == null) {\n          return [min, max];\n        }\n        return [Math.min(min, v), Math.max(max, v)];\n      },\n      [Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY]\n    );\n\n    const scale = createScale(minMax).range(store.sizeScaleRange).clamp(true);\n    return {\n      legend: (factor) => <SizeLegend scale={scale} factor={factor} />,\n      scale: (node) => {\n        const degree = degrees[node.name] || 0;\n        return scale(degree);\n      },\n    };\n  };\n}\n\nexport default [\n  ...defaultTemplate.sizes,\n  {\n    label: 'Degree - Linear',\n    factory: degreeFunction((domain) => scaleLinear().domain(domain)),\n  },\n  {\n    label: 'Degree - Sqrt',\n    factory: degreeFunction((domain) => scaleSqrt().domain(domain)),\n  },\n  {\n    label: 'Degree - Power 2',\n    factory: degreeFunction((domain) => scalePow().domain(domain).exponent(2)),\n  },\n  {\n    label: 'Degree - Log',\n    factory: degreeFunction((domain) =>\n      scaleLog().domain([Math.max(1, domain[0]), domain[1]])\n    ),\n  },\n];\n","import templates from './templates';\nimport colors from './colors';\nimport sizes from './sizes';\nimport defaultTemplate from '../default';\n\nexport default {\n  ...defaultTemplate,\n  yearRange: [1920, 2016],\n  templates,\n  colors,\n  sizes,\n\n  properties: {\n    degree: {\n      label: 'Derived materials',\n      format: 'd',\n    },\n    formation_energy: {\n      label: 'Formation Energy',\n      filterable: true,\n      format: '.3f',\n      suffix: ` eV/atom`,\n    },\n    synthesis_probability: {\n      label: 'Synthesis Probability',\n      filterable: true,\n      format: '.1%',\n      domain: [0, 1],\n    },\n    eigen_cent: {\n      label: 'Eigenvector Centrality',\n      filterable: true,\n    },\n    deg_cent: {\n      label: 'Degree Centrality',\n      filterable: true,\n    },\n    shortest_path: {\n      label: 'Shortest path',\n    },\n    deg_neigh: {\n      label: 'Degree neighborhood',\n    },\n  },\n\n  defaults: {\n    ...defaultTemplate.defaults,\n    template: templates[0],\n    color: colors[1],\n    zoom: -2.3,\n    size: sizes[1],\n    colorYear: 2016,\n    year: [1920, 2016],\n  },\n};\n","import { propertyColorFactory } from '../utils';\nimport defaultTemplate from '../default';\n\nexport default [\n  ...defaultTemplate.colors,\n  {\n    label: 'Formation Energy',\n    factory: propertyColorFactory('formation_energy'),\n  },\n  {\n    label: 'Band Gap',\n    factory: propertyColorFactory('band_gap'),\n  },\n];\n","import React from 'react';\nimport { SizeLegend } from '../../components/legend';\nimport { scaleLinear, scaleLog, scaleSqrt } from 'd3-scale';\nimport defaultTemplate from '../default';\n\nfunction degreeFunction(createScale) {\n  return (store) => {\n    if (!store.data) {\n      return {\n        legend: () => null,\n        scale: () => store.sizeScaleRange[0],\n      };\n    }\n\n    const degrees = Object.values(store.data.nodes).map((node) => node.degree);\n    const minMax = degrees.reduce(\n      ([min, max], v) => {\n        if (v == null) {\n          return [min, max];\n        }\n        return [Math.min(min, v), Math.max(max, v)];\n      },\n      [Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY]\n    );\n\n    const scale = createScale(minMax).range(store.sizeScaleRange).clamp(true);\n\n    return {\n      legend: (factor) => <SizeLegend scale={scale} factor={factor} />,\n      scale: (node) => {\n        const degree = node.degree || 0;\n        return scale(degree);\n      },\n    };\n  };\n}\n\nexport default [\n  ...defaultTemplate.sizes,\n  {\n    label: 'Degree - Linear',\n    factory: degreeFunction((domain) => scaleLinear().domain(domain)),\n  },\n  {\n    label: 'Degree - Sqrt',\n    factory: degreeFunction((domain) => scaleSqrt().domain(domain)),\n  },\n  {\n    label: 'Degree - Log',\n    factory: degreeFunction((domain) =>\n      scaleLog().domain([Math.max(1, domain[0]), domain[1]])\n    ),\n  },\n];\n","import React from 'react';\nimport { Typography } from '@material-ui/core';\nimport InfoBlock from '../../components/graph-vis/info-block';\nimport colors from './colors';\nimport sizes from './sizes';\nimport defaultTemplate from '../default';\n\nconst templates = [\n  {\n    label: 'Similarity',\n    render: (node, store) => {\n      return (\n        <>\n          <Typography gutterBottom variant=\"h4\">\n            {node.formula} ({node.name})\n          </Typography>\n          <Typography gutterBottom variant=\"subtitle1\" component=\"div\">\n            Properties\n          </Typography>\n\n          {store.propertyList.map((prop) => {\n            const value = node[prop.property];\n            if (value == null) {\n              return null;\n            }\n            return <InfoBlock key={prop.property} value={value} {...prop} />;\n          })}\n        </>\n      );\n    },\n    tooltip: (node) => (\n      <Typography variant=\"caption\">{node.formula}</Typography>\n    ),\n  },\n];\n\nexport default {\n  ...defaultTemplate,\n  templates,\n  colors,\n  sizes,\n\n  properties: {\n    degree: {\n      label: 'Derived materials',\n      format: 'd',\n    },\n    formation_energy: {\n      label: 'Formation Energy',\n      filterable: true,\n      format: '.3f',\n      suffix: ` eV/atom`,\n    },\n    band_gap: {\n      label: 'Band Gap',\n      filterable: true,\n      format: '.3f',\n      suffix: ' eV/atom',\n    },\n  },\n\n  defaults: {\n    ...defaultTemplate.defaults,\n    template: templates[0],\n    color: colors[1],\n    zoom: -2.3,\n    size: sizes[2],\n  },\n};\n","import defaultTemplate from './default';\nimport { propertyColorFactory, propertySizeFactory } from './utils';\n\nconst properties = {\n  degree: {\n    label: 'Derived materials',\n    format: 'd',\n  },\n  deg_cent: {\n    label: 'Degree Centrality',\n    filterable: true,\n  },\n  eigen_cent: {\n    label: 'Eigenvector Centrality',\n    filterable: true,\n  },\n};\n\nconst colors = [\n  ...defaultTemplate.colors,\n  ...Object.entries(properties).map(([prop, info]) => {\n    return {\n      label: info.label,\n      factory: propertyColorFactory(prop),\n    };\n  }),\n];\n\nconst sizes = [\n  ...defaultTemplate.sizes,\n  ...Object.entries(properties).map(([prop, info]) => {\n    return {\n      label: info.label,\n      factory: propertySizeFactory(prop),\n    };\n  }),\n];\n\nexport default {\n  ...defaultTemplate,\n\n  properties,\n  colors,\n  sizes,\n\n  defaults: {\n    ...defaultTemplate.defaults,\n    color: colors[1],\n    size: sizes[1],\n  },\n};\n","import precise from './precise';\nimport similarity from './similarity';\nimport cooccurence from './cooccurence';\n\nexport default [\n  {\n    key: 'similarity',\n    label: 'Materials Similarity Network',\n    fileName: './sample-data/similarity.json',\n    ...similarity,\n  },\n  {\n    key: 'stability',\n    label: 'Materials Stability Network',\n    fileName: './sample-data/stability.json',\n    ...precise,\n  },\n  {\n    key: 'co1k',\n    label: 'Materials Co-occurrence Network (~1000 edges)',\n    fileName: './sample-data/cooccurrence-1k.json',\n    ...cooccurence,\n  },\n  {\n    key: 'co500k',\n    label: 'Materials Co-occurrence Network (~500000 edges)',\n    fileName: './sample-data/cooccurrence-500k.json',\n    ...cooccurence,\n  },\n];\n","import { format } from 'd3-format';\n\nexport function createFormatter(spec, prefix, suffix) {\n  const base = format(spec);\n\n  if (!prefix && !suffix) {\n    return base;\n  }\n  return (v) => `${prefix || ''}${base(v)}${suffix || ''}`;\n}\n","export function neighborsOf(nodeNameOrSet, edges) {\n  const lookup = (() => {\n    if (typeof nodeNameOrSet === 'string') {\n      nodeNameOrSet = [nodeNameOrSet];\n    }\n\n    return Array.isArray(nodeNameOrSet)\n      ? new Set(nodeNameOrSet)\n      : nodeNameOrSet;\n  })();\n\n  // Collect neighborhood of selected node.\n  const nodes = new Set(lookup);\n  for (const edge of edges) {\n    if (lookup.has(edge[0]) || lookup.has(edge[1])) {\n      nodes.add(edge[0]);\n      nodes.add(edge[1]);\n    }\n  }\n  return nodes;\n}\n","import { scaleSequential } from 'd3-scale';\nimport { interpolateViridis } from 'd3-scale-chromatic';\nimport { observable, autorun, action, computed, toJS } from 'mobx';\nimport { createContext } from 'react';\nimport { DiskDataProvider } from '../data-provider';\nimport { sortStringsLength } from '../components/graph-vis/sort';\nimport { fetchStructure } from '../rest';\nimport datasets from '../datasets';\nimport { isEqual, camelCase, uniqueId } from 'lodash-es';\nimport { createFormatter } from './format';\n\nimport Worker from '../layout.worker';\nimport { neighborsOf } from '../data-provider/graph';\n\nexport class ApplicationStore {\n  static INVALID_VALUE_COLOR = '#ff0000';\n  static DISCOVERED_COLOR = 'rgb(81,96,204)';\n  static UNDISCOVERED_COLOR = '#de2d26';\n  static FIXED_COLOR = `rgb(${0.2 * 255}, ${0.3 * 255}, ${0.8 * 255})`;\n\n  @observable\n  datasets = datasets;\n\n  @observable\n  dataset = datasets[0];\n\n  @observable\n  data = null;\n\n  @observable\n  template = null;\n\n  @computed\n  get templates() {\n    return this.dataset.templates;\n  }\n\n  @observable\n  zoom = 1;\n\n  @computed\n  get zoomRange() {\n    return this.dataset.zoomRange;\n  }\n\n  @observable\n  spacing = 1;\n  @observable\n  spacingRange = [0.1, 10];\n\n  @observable\n  opacity = 0.01;\n\n  @observable\n  play = false;\n  @observable\n  interval = null;\n\n  @observable\n  year = null;\n\n  @observable\n  colorYear = null;\n\n  @computed\n  get yearRange() {\n    return this.dataset.yearRange;\n  }\n\n  @observable\n  search = '';\n\n  @observable\n  color = null;\n\n  @computed\n  get colors() {\n    return this.dataset.colors;\n  }\n\n  @observable\n  size = null;\n\n  @computed\n  get sizes() {\n    return this.dataset.sizes;\n  }\n\n  @observable\n  showLinks = false;\n\n  @observable\n  nightMode = false;\n\n  @observable\n  selected = null;\n\n  @observable\n  hovered = {\n    node: null,\n    position: null,\n    radius: null,\n  };\n  @observable\n  hoveredLine = {\n    node1: null,\n    node2: null,\n    position: null,\n  };\n\n  @observable\n  drawerVisible = true;\n\n  @observable\n  showTable = false;\n\n  @observable\n  graphRatio = 50;\n\n  @observable\n  drawerExpanded = {\n    options: true,\n    filter: false,\n    layouts: false,\n  };\n\n  @observable\n  colorScale = scaleSequential(interpolateViridis);\n\n  @observable\n  sizeScaleRange = [2, 40];\n\n  @observable\n  showLegend = true;\n\n  @observable\n  showSubGraphOnly = true;\n\n  @observable\n  autoIncludeNeighorsForSelection = false;\n\n  @observable\n  pinnedNodes = []; // {node: INode, includeNeighbors: boolean, defineSubspace: boolean}\n\n  @observable\n  filters = {\n    // [property]: value ... filter object\n  };\n\n  @computed\n  get filterDiscoveryYear() {\n    if (!this.year || !this.yearRange) {\n      return () => true;\n    }\n    const [low, high] = this.year;\n    return (node) => {\n      const discovery = node.discovery;\n\n      // If the high end is set to the max value, then consider all\n      // undiscovered materials to be visible.\n      return (\n        (discovery == null && high === this.yearRange[1]) ||\n        (discovery != null && low <= discovery && discovery <= high)\n      );\n    };\n  }\n\n  @observable\n  subGraphLayout = {\n    // [name]: {x,y}\n  };\n\n  @observable\n  subGraphLayouting = null; // function to abort the current layout\n\n  worker = new Worker();\n\n  constructor() {\n    // load data and update on dataset change\n    autorun(() => {\n      const toLoad = this.dataset.fileName;\n\n      // reset state\n      this.hovered = { node: null, position: null, radius: null };\n      this.hoveredLine = { node1: null, node2: null, position: null };\n      this.filters = {};\n      this.selected = null;\n      this.pinnedNodes = [];\n\n      // set the defaults from the dataset\n      Object.assign(this, this.dataset.defaults || {});\n\n      this.data = null;\n      // load data and update on dataset change\n      fetch(toLoad)\n        .then((resp) => resp.json())\n        .then((data) => {\n          if (toLoad === this.dataset.fileName) {\n            // still the same file to load\n            this.data = new DiskDataProvider(data.nodes, data.edges);\n          }\n        });\n    });\n\n    // after loading defaults\n    this.initState();\n\n    // auto inject the structure\n    autorun(() => {\n      const node = this.selected;\n      if (!node || node.structure) {\n        return; // already fetched\n      }\n      node.structurePromise = fetchStructure(node.name).then((cjson) => {\n        return (node.structure = cjson);\n      });\n    });\n\n    autorun(() => {\n      if (!this.data) {\n        return;\n      }\n      const node = this.data.nodes[this.search];\n      if (node) {\n        this.selected = node;\n      }\n    });\n  }\n\n  initState() {\n    const integrateState = (state) => {\n      state = { ...state }; // copy to manipuate\n      ['dataset', 'color', 'size'].forEach((attr) => {\n        const value = state[attr];\n        delete state[attr];\n        if (!value) {\n          return;\n        }\n        // find by label\n        const found = this[`${attr}s`].find((d) => d.label === value);\n        if (found) {\n          this[attr] = found;\n        }\n      });\n      if (state.selected || state.pinned) {\n        // selected by name when data is\n        const toSelect = state.selected;\n        const toPin = state.pinned;\n        delete state.selected;\n        delete state.pinned;\n\n        autorun((reaction) => {\n          if (!this.data) {\n            return;\n          }\n          // lookup by name\n          this.selected = this.data.nodes[toSelect];\n          this.pinnedNodes = toPin\n            .map((d) => ({ ...d, node: this.data.nodes[d.node] }))\n            .filter((d) => d.node != null);\n\n          reaction.dispose(); // stop updating\n        });\n      }\n      // rest pure copy\n      Object.assign(this, state);\n    };\n\n    const state = window.history.state;\n    if (state && state.dataset != null) {\n      // use the stored state to init\n      integrateState(state);\n    } else {\n      // try using the url\n      const url = new URL(window.location.href);\n      const dataset = url.searchParams.get('ds');\n      const selected = url.searchParams.get('s');\n      const pinnedOnly = (url.searchParams.get('p') || '').split(',');\n      const defineSubspace = (url.searchParams.get('e') || '').split(',');\n      const incudeNeighbors = (url.searchParams.get('n') || '').split(',');\n      const pinned = new Map();\n      pinnedOnly.forEach((p) =>\n        pinned.set(p, {\n          node: p,\n          includeNeighbors: false,\n          defineSubspace: false,\n        })\n      );\n      defineSubspace.forEach((p) => {\n        if (pinned.has(p)) {\n          pinned.get(p).defineSubspace = true;\n        } else {\n          pinned.set(p, {\n            node: p,\n            includeNeighbors: false,\n            defineSubspace: true,\n          });\n        }\n      });\n      incudeNeighbors.forEach((p) => {\n        if (pinned.has(p)) {\n          pinned.get(p).includeNeighbors = true;\n        } else {\n          pinned.set(p, {\n            node: p,\n            includeNeighbors: true,\n            defineSubspace: false,\n          });\n        }\n      });\n      integrateState({\n        dataset,\n        selected,\n        pinned: Array.from(pinned.values()).sort((a, b) =>\n          sortStringsLength(a.name, b.name)\n        ),\n      });\n    }\n\n    let firstRun = true;\n    // track state and update the url automatically\n    autorun(\n      () => {\n        const state = {\n          dataset: this.dataset.label,\n          color: this.color.label,\n          size: this.size.label,\n          zoom: this.zoom,\n          colorYear: this.colorYear,\n          drawerVisible: this.drawerVisible,\n          filters: toJS(this.filters),\n          filterElements: toJS(this.filterElements),\n          selected: this.selected ? this.selected.name : null,\n          pinned: this.pinnedNodes.map((d) => ({ ...d, node: d.node.name })),\n        };\n\n        if (isEqual(state, window.history.state)) {\n          // no change\n          return;\n        }\n\n        const url = new URL(window.location.href);\n        url.searchParams.set('ds', this.dataset.label);\n        if (this.selected) {\n          url.searchParams.set('s', this.selected.name);\n        } else {\n          url.searchParams.delete('s');\n        }\n        if (this.pinnedOnlyNodes.length > 0) {\n          url.searchParams.set(\n            'p',\n            this.pinnedOnlyNodes.map((d) => d.name).join(',')\n          );\n        } else {\n          url.searchParams.delete('p');\n        }\n        if (this.incluceNeighborsNodes.length > 0) {\n          url.searchParams.set(\n            'n',\n            this.incluceNeighborsNodes.map((d) => d.name).join(',')\n          );\n        } else {\n          url.searchParams.delete('n');\n        }\n        if (this.defineSubspaceNodes.length > 0) {\n          url.searchParams.set(\n            'e',\n            this.defineSubspaceNodes.map((d) => d.name).join(',')\n          );\n        } else {\n          url.searchParams.delete('e');\n        }\n        const title = (document.title = `MaterialNet - ${this.dataset.label}${\n          this.selected ? ` - ${this.selected.name}` : ''\n        }`);\n        if (firstRun) {\n          firstRun = false;\n          window.history.replaceState(state, title, url.href);\n        } else {\n          window.history.pushState(state, title, url.href);\n        }\n      },\n      { delay: 300 }\n    ); // debounce 300ms\n\n    // track history changes by the user (e.g. go back)\n    window.addEventListener('popstate', (evt) => {\n      const state = evt.state;\n      if (state && state.dataset != null) {\n        integrateState(state);\n      }\n    });\n  }\n\n  @computed\n  get filterFunc() {\n    const filters = Object.entries(toJS(this.filters));\n    const subSpaceBaseElements = new Set(\n      [].concat(...this.defineSubspaceNodes.map((d) => d._elements))\n    );\n    const neighborElementNames = this.data\n      ? neighborsOf(\n          this.incluceNeighborsNodes.map((d) => d.name),\n          this.data.edges\n        )\n      : new Set();\n\n    if (this.autoIncludeNeighorsForSelection && this.selected) {\n      neighborsOf(this.selected.name, this.data.edges).forEach((n) =>\n        neighborElementNames.add(n)\n      );\n    }\n\n    const mustInclude = new Set(this.pinnedNodes.map((d) => d.node.name));\n    if (\n      filters.length === 0 &&\n      subSpaceBaseElements.size === 0 &&\n      neighborElementNames.size === 0 &&\n      mustInclude.size === 0\n    ) {\n      return this.filterDiscoveryYear;\n    }\n\n    if (this.selected) {\n      mustInclude.add(this.selected.name);\n    }\n\n    return (node) => {\n      if (mustInclude.has(node.name)) {\n        return true;\n      }\n      if (\n        !this.filterDiscoveryYear(node) ||\n        !filters.every(([prop, [min, max]]) => {\n          const value = node[prop];\n          return value != null && value >= min && value <= max;\n        })\n      ) {\n        return false;\n      }\n      if (neighborElementNames.has(node.name)) {\n        return true;\n      }\n      if (\n        subSpaceBaseElements.size > 0 &&\n        node._elements.every((base) => subSpaceBaseElements.has(base))\n      ) {\n        return true;\n      }\n      // only visible if no subspace filter is set\n      return (\n        neighborElementNames.size === 0 &&\n        subSpaceBaseElements.size === 0 &&\n        mustInclude.size === 0\n      );\n    };\n  }\n\n  @computed\n  get nodes() {\n    return this.data.nodes;\n  }\n\n  @computed\n  get nodeNames() {\n    return this.data ? this.data.nodeNames() : [];\n  }\n\n  @computed\n  get edges() {\n    return this.data.edges;\n  }\n\n  @computed\n  get knownElements() {\n    if (!this.data) {\n      return [];\n    }\n    return this.nodeNames\n      .filter((d) => (this.data.nodes[d]._elements || []).length === 1)\n      .sort(sortStringsLength);\n  }\n\n  @computed\n  get subGraphNodeNames() {\n    const filter = this.filterFunc;\n    if (!filter) {\n      return this.nodeNames;\n    }\n    return this.nodeNames.filter((name) => filter(this.data.nodes[name]));\n  }\n\n  @computed\n  get doesShowSubgraph() {\n    return this.filterFunc != null;\n  }\n\n  @computed\n  get subGraphNodes() {\n    return this.subGraphNodeNames.map((name) => this.nodes[name]);\n  }\n\n  @computed\n  get subGraphEdges() {\n    const nodes = new Set(this.subGraphNodeNames);\n    if (nodes.size === 0) {\n      return [];\n    }\n    return this.data.edges.filter((d) => nodes.has(d[0]) && nodes.has(d[1]));\n  }\n\n  @computed\n  get zoomNodeSizeFactor() {\n    return Math.pow(2, this.zoom);\n  }\n\n  @computed\n  get searchOptions() {\n    if (!this.data) {\n      return [];\n    }\n\n    let nodes = this.data._formulas.map((formula, idx) => ({\n      formula,\n      name: this.data._names[idx],\n    }));\n\n    const sorter = (a, b) => sortStringsLength(a.formula, b.formula);\n\n    return nodes.sort(sorter).map((value, idx) => {\n      return {\n        label: value.formula,\n        value: value.formula,\n        node: this.data.nodes[value.name],\n      };\n    });\n  }\n\n  _createProperty(property, info = {}) {\n    const entry = {\n      property,\n      isfilterable: false,\n      type: 'numerical',\n      label: camelCase(property),\n      formatSpecifier: '.3f',\n      format: (v) => (typeof v === 'number' ? v.toFixed(3) : v),\n      ...info,\n    };\n    if (typeof entry.format === 'string') {\n      // create a formatter out of the spec\n      entry.formatSpecifier = entry.format;\n      entry.format = createFormatter(entry.format, entry.prefix, entry.suffix);\n    }\n    if (entry.type === 'numerical' && !entry.domain) {\n      entry.domain = this._minMaxProperty(property);\n    }\n    return entry;\n  }\n\n  @computed\n  get properties() {\n    const properties = {};\n    Object.entries(this.dataset.properties).forEach(([property, info]) => {\n      properties[property] = this._createProperty(property, info);\n    });\n    return properties;\n  }\n\n  @computed\n  get propertyList() {\n    return Object.values(this.properties);\n  }\n\n  getPropertyMetaData(property) {\n    const prop = this.properties[property];\n    if (!prop) {\n      // fake property\n      return this._createProperty(property);\n    }\n    return prop;\n  }\n\n  _minMaxProperty(property, nodes) {\n    if (!this.data) {\n      return [0, 10];\n    }\n    nodes = nodes || this.data.nodeNames();\n\n    return nodes.reduce(\n      ([min, max], name) => {\n        const v = this.data.nodeProperty(name, property);\n        if (v == null) {\n          return [min, max];\n        }\n        return [Math.min(min, v), Math.max(max, v)];\n      },\n      [Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY]\n    );\n  }\n\n  @action\n  setPlayState(play, interval) {\n    this.play = play;\n    this.interval = interval;\n  }\n\n  @action\n  toggleAutoplay() {\n    if (!this.yearRange) {\n      return;\n    }\n    let interval = this.interval;\n    let play = !this.play;\n\n    if (this.play && this.interval) {\n      clearInterval(this.interval);\n      interval = null;\n    }\n\n    if (!this.play) {\n      interval = setInterval(() => {\n        let nextYear = this.year[1] + 1;\n        if (this.year[1] === this.yearRange[1]) {\n          nextYear = this.yearRange[0];\n        }\n        this.year = [this.yearRange[0], nextYear];\n      }, 300);\n    }\n\n    this.setPlayState(play, interval);\n  }\n\n  @action\n  selectNode(node, modifiers) {\n    const currentName = this.selected ? this.selected.name : '';\n    const isSelected = node && node.name === currentName;\n\n    if (!node || (!modifiers.shift && !modifiers.alt && !modifiers.ctrl)) {\n      // plain selection\n      this.selected = isSelected ? null : node;\n      return;\n    }\n    const old = this.pinnedNodes.find((d) => d.node.name === node.name);\n    if (old) {\n      if (modifiers.ctrl) {\n        // delete as a whole\n        this.togglePinned(node);\n        this.selected = null;\n        return;\n      }\n      if (modifiers.alt) {\n        old.defineSubspace = !old.defineSubspace;\n      }\n      if (modifiers.shift) {\n        old.includeNeighbors = !old.includeNeighbors;\n      }\n      this.selected = old.defineSubspace || old.includeNeighbors ? node : null;\n      return;\n    }\n\n    this.pinnedNodes.push({\n      node,\n      defineSubspace: modifiers.alt,\n      includeNeighbors: modifiers.shift,\n    });\n    this.selected = node;\n  }\n\n  @computed\n  get nodeColorer() {\n    if (!this.color) {\n      return {\n        legend: () => null,\n        scale: () => ApplicationStore.FIXED_COLOR,\n      };\n    }\n    return this.color.factory(this);\n  }\n\n  @computed\n  get nodeSizer() {\n    if (!this.size) {\n      return {\n        legend: () => null,\n        scale: () => 10,\n      };\n    }\n    return this.size.factory(this);\n  }\n\n  @computed\n  get defineSubspaceNodes() {\n    return this.pinnedNodes.filter((d) => d.defineSubspace).map((d) => d.node);\n  }\n\n  setDefineSubspaceNodes(names) {\n    const old = new Set(this.defineSubspaceNodes.map((d) => d.name));\n    names.forEach((name) => {\n      if (!old.delete(name)) {\n        // toggle on\n        this.toggleDefineSubspace(this.data.nodes[name]);\n      }\n    });\n    // toggle off\n    old.forEach((name) => this.toggleDefineSubspace(this.data.nodes[name]));\n  }\n\n  @computed\n  get incluceNeighborsNodes() {\n    return this.pinnedNodes\n      .filter((d) => d.includeNeighbors)\n      .map((d) => d.node);\n  }\n\n  @computed\n  get pinnedOnlyNodes() {\n    return this.pinnedNodes\n      .filter((d) => !d.includeNeighbors && !d.defineSubspace)\n      .map((d) => d.node);\n  }\n\n  @action\n  toggleIncludeNeighbors(node) {\n    const existing = this.pinnedNodes.find((d) => d.node.name === node.name);\n    if (existing) {\n      existing.includeNeighbors = !existing.includeNeighbors;\n      return false;\n    }\n    this.pinnedNodes.push({\n      node,\n      includeNeighbors: true,\n      defineSubspace: false,\n    });\n    return true;\n  }\n\n  @action\n  toggleDefineSubspace(node) {\n    const existing = this.pinnedNodes.find((d) => d.node.name === node.name);\n    if (existing) {\n      existing.defineSubspace = !existing.defineSubspace;\n      return false;\n    }\n    this.pinnedNodes.push({\n      node,\n      includeNeighbors: false,\n      defineSubspace: true,\n    });\n    return true;\n  }\n\n  isIncludeNeighborsPinned(node) {\n    return this.pinnedNodes.some(\n      (d) => d.node.name === node.name && d.includeNeighbors\n    );\n  }\n\n  isDefineSubspacePinned(node) {\n    return this.pinnedNodes.some(\n      (d) => d.node.name === node.name && d.defineSubspace\n    );\n  }\n\n  isPinned(node) {\n    return this.pinnedNodes.find((d) => d.node.name === node.name) != null;\n  }\n\n  @action\n  removePinned(node) {\n    this.pinnedNodes = this.pinnedNodes.filter(\n      (d) => d.node.name !== node.name\n    );\n  }\n\n  @action\n  pushPinned(node) {\n    this.pinnedNodes.push({\n      node,\n      includeNeighbors: false,\n      defineSubspace: false,\n    });\n  }\n\n  @action\n  togglePinned(node) {\n    const index = this.pinnedNodes.findIndex((d) => d.node.name === node.name);\n    if (index >= 0) {\n      this.pinnedNodes.splice(index, 1);\n    } else {\n      this.pinnedNodes.push({\n        node,\n        includeNeighbors: false,\n        defineSubspace: false,\n      });\n    }\n  }\n\n  _postMessage(type, params, onMessage) {\n    const key = uniqueId();\n    const replyer = (type, params) =>\n      this.worker.postMessage({ type, params, key });\n\n    const listener = (msg) => {\n      if (msg.data.key !== key) {\n        return;\n      }\n      const done = onMessage(msg.data, replyer);\n      if (done) {\n        this.worker.removeEventListener('message', listener);\n      }\n    };\n    this.worker.addEventListener('message', listener);\n    this.worker.postMessage({ type, params, key });\n    return replyer;\n  }\n\n  @action\n  computeSubGraphLayout() {\n    const nodes = toJS(this.subGraphNodeNames).map((name) => {\n      const node = this.nodes[name];\n      const layoutNode = {\n        name,\n        x: node.x,\n        y: node.y,\n        radius: this.nodeSizer.scale(node),\n      };\n      return layoutNode;\n    });\n\n    if (nodes.length === 0) {\n      return;\n    }\n    this.subGraphLayouting = true;\n    this.showSubGraphOnly = true; // doesn't make sense since moving\n\n    const edges = toJS(this.subGraphEdges);\n\n    this.subGraphLayouting = this._postMessage(\n      'layout',\n      { nodes, edges },\n      (msg) => {\n        const nodes = msg.params.nodes;\n        this.subGraphLayout = nodes;\n\n        if (msg.type === 'end') {\n          this.subGraphLayouting = null;\n          return true;\n        }\n        // just a tick\n        return false;\n      }\n    );\n  }\n\n  @action\n  abortSubGraphLayout() {\n    if (this.subGraphLayouting) {\n      this.subGraphLayouting('abort', {});\n      this.subGraphLayouting = null;\n    }\n  }\n\n  @action\n  resetSubGraphLayout() {\n    this.subGraphLayout = {};\n  }\n\n  @action\n  resetZoom() {\n    this.zoom = this.dataset.defaults.zoom;\n  }\n}\n\nexport default createContext();\n","import React, { Component } from 'react';\nimport { FormControl, Typography, Slider } from '@material-ui/core';\n\nclass RangeSliderControlComponent extends Component {\n  render() {\n    const {\n      label,\n      value,\n      range,\n      step,\n      onChange,\n      digits,\n      format,\n      children,\n    } = this.props;\n\n    const child = children ? React.Children.only(children) : undefined;\n\n    return (\n      <FormControl fullWidth>\n        <Typography variant=\"caption\">{label}</Typography>\n        <div style={{ display: 'flex', alignItems: 'center', width: '100%' }}>\n          <div>\n            {format\n              ? format(value[0])\n              : value[0].toFixed(Number.isInteger(digits) ? digits : 2)}\n          </div>\n          <div style={{ flexGrow: 1, paddingLeft: 16, paddingRight: 16 }}>\n            <Slider\n              min={range[0]}\n              max={range[1]}\n              step={step}\n              value={value}\n              onChange={(_e, val) => {\n                onChange(val);\n              }}\n            />\n          </div>\n          <div>\n            {format\n              ? format(value[1])\n              : value[1].toFixed(Number.isInteger(digits) ? digits : 2)}\n          </div>\n          {child}\n        </div>\n      </FormControl>\n    );\n  }\n}\n\nexport default RangeSliderControlComponent;\n","import React from 'react';\n\nimport Grid from '../controls/grid';\nimport Store from '../../store';\nimport { observer } from 'mobx-react';\nimport ReactSelectWrapper from '../controls/reactselect';\nimport RangeSliderControlComponent from '../controls/rangeslider';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFlask } from '@fortawesome/free-solid-svg-icons';\nimport { IconButton } from '@material-ui/core';\nimport { PlayArrow, Pause } from '@material-ui/icons';\n\n@observer\nclass Filters extends React.Component {\n  static contextType = Store;\n\n  render() {\n    const store = this.context;\n    return (\n      <Grid>\n        {/* dataset specific */}\n        {store.yearRange && (\n          <RangeSliderControlComponent\n            value={store.year.slice()}\n            range={store.yearRange}\n            step={1}\n            label=\"Discovery Year\"\n            digits={0}\n            onChange={(val) => {\n              store.year = val.slice();\n            }}\n          >\n            <IconButton onClick={() => store.toggleAutoplay()}>\n              {store.play ? <Pause /> : <PlayArrow />}\n            </IconButton>\n          </RangeSliderControlComponent>\n        )}\n        {store.propertyList\n          .filter((meta) => meta.filterable)\n          .map((meta) => (\n            <RangeSliderControlComponent\n              key={meta.label}\n              value={\n                store.filters[meta.property]\n                  ? store.filters[meta.property].slice()\n                  : meta.domain.slice()\n              }\n              range={meta.domain}\n              label={meta.label}\n              step={meta.step || 0.0001}\n              format={meta.format}\n              onChange={(val) => {\n                if (\n                  val.every((d, i) => Math.abs(d - meta.domain[i]) < 0.00001)\n                ) {\n                  // same as domain\n                  delete store.filters[meta.property];\n                } else {\n                  store.filters[meta.property] = val.slice();\n                }\n              }}\n            />\n          ))}\n        <ReactSelectWrapper\n          label={\n            <>\n              <FontAwesomeIcon icon={faFlask} /> Elements\n            </>\n          }\n          value={store.defineSubspaceNodes.map((value) => ({\n            label: value.name,\n            value: value.name,\n            icon: <FontAwesomeIcon icon={faFlask} />,\n          }))}\n          isMulti\n          options={store.knownElements.map((value) => ({\n            label: value,\n            value,\n          }))}\n          onChange={(values) => {\n            store.setDefineSubspaceNodes(values.map((d) => d.value));\n          }}\n        />\n      </Grid>\n    );\n  }\n}\n\nexport default Filters;\n","import React from 'react';\n\nimport Grid from '../controls/grid';\nimport Store from '../../store';\nimport { observer } from 'mobx-react';\nimport { Button } from '@material-ui/core';\n\n@observer\nclass Layouts extends React.Component {\n  static contextType = Store;\n\n  render() {\n    const store = this.context;\n    return (\n      <Grid>\n        {!store.subGraphLayouting && (\n          <Button\n            disabled={!store.doesShowSubgraph}\n            onClick={() => store.computeSubGraphLayout()}\n          >\n            Start\n          </Button>\n        )}\n        {store.subGraphLayouting && (\n          <Button onClick={() => store.abortSubGraphLayout()}>Stop</Button>\n        )}\n        {!store.subGraphLayouting && (\n          <Button\n            disabled={Object.keys(store.subGraphLayout).length === 0}\n            onClick={() => store.resetSubGraphLayout()}\n          >\n            Reset\n          </Button>\n        )}\n      </Grid>\n    );\n  }\n}\n\nexport default Layouts;\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faThumbtack } from '@fortawesome/free-solid-svg-icons';\n\nexport default class RotatedPin extends React.Component {\n  render() {\n    return (\n      <FontAwesomeIcon\n        icon={faThumbtack}\n        style={{ transform: `rotate(45deg)` }}\n        {...this.props}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport Store from '../../store';\nimport { observer } from 'mobx-react';\nimport { Chip } from '@material-ui/core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport RotatedPin from './RotatedPin';\nimport { faFlask, faProjectDiagram } from '@fortawesome/free-solid-svg-icons';\n\n@observer\nclass PinnedNode extends React.Component {\n  static contextType = Store;\n  render() {\n    const store = this.context;\n    const { node, includeNeighbors, defineSubspace } = this.props;\n\n    const label = node.formula || node.name;\n\n    const neighbors = (\n      <Chip\n        icon={<FontAwesomeIcon icon={faProjectDiagram} />}\n        label={label}\n        onClick={() => (store.selected = node)}\n        onDelete={() => store.toggleIncludeNeighbors(node)}\n      />\n    );\n    const subspace = (\n      <Chip\n        icon={<FontAwesomeIcon icon={faFlask} />}\n        label={label}\n        onClick={() => (store.selected = node)}\n        onDelete={() => store.toggleDefineSubspace(node)}\n      />\n    );\n\n    if (includeNeighbors && defineSubspace) {\n      return (\n        <>\n          {neighbors} {subspace}\n        </>\n      );\n    } else if (includeNeighbors) {\n      return neighbors;\n    } else if (defineSubspace) {\n      return subspace;\n    }\n    return (\n      <Chip\n        icon={<RotatedPin />}\n        label={label}\n        onClick={() => (store.selected = node)}\n        onDelete={() => store.removePinned(node)}\n      />\n    );\n  }\n}\n\nexport default PinnedNode;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Popover from '@material-ui/core/Popover';\nimport Typography from '@material-ui/core/Typography';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faQuestionCircle } from '@fortawesome/free-solid-svg-icons';\n\nconst useStyles = makeStyles((theme) => ({\n  typography: {\n    padding: theme.spacing(1),\n  },\n}));\n\nexport function HelpPanel({ name, children }) {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  const handleClose = (event) => {\n    setAnchorEl(null);\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? name : undefined;\n\n  return (\n    <>\n      <FontAwesomeIcon icon={faQuestionCircle} onClick={handleClick} />\n      <Popover\n        id={id}\n        style={{\n          maxWidth: '400px',\n        }}\n        open={open}\n        anchorEl={anchorEl}\n        onClick={handleClose}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n      >\n        <Typography className={classes.typography}>{children}</Typography>\n      </Popover>\n    </>\n  );\n}\n\nexport function HelpPanelLabel({ name, label, children }) {\n  return (\n    <span>\n      {label}\n      &nbsp;\n      <HelpPanel name={name} children={children} />\n    </span>\n  );\n}\n\nexport function SearchHelp() {\n  return (\n    <HelpPanelLabel name=\"search-help\" label=\"Search\">\n      <p>\n        Use this panel to search for items in the loaded dataset. Search results\n        will match the phrase used anywhere in the name of the item. For\n        example, searching for <samp>N</samp> will match Nitrogen (\n        <samp>N</samp>), but also Sodium (<samp>Na</samp>), Sodium Chloride (\n        <samp>NaCl</samp>), and Potassium Azide (\n        <samp>\n          KN<sub>3</sub>\n        </samp>\n        ).\n      </p>\n\n      <h5>Pinning, Neighbors, and Subspaces</h5>\n\n      <p>\n        Next to the search results, you will see icons for <b>pinning</b>,{' '}\n        <b>neighbors</b>, and <b>elemental subspace</b>.\n      </p>\n\n      <p>\n        <i>Pinning</i> an item maintains it in a list of items, so that you will\n        not lose track of it while navigating the map. The list of pinned items\n        appears as clickable badges below the search panel. You can click on the{' '}\n        <i>neighbors</i> icon in order to additionally bring in the immediate\n        neighbors of the pinned item. This provides an easy way to see an item's\n        one-hop network without having to pin all of them.\n      </p>\n\n      <p>\n        Finally, you can click on the <i>subspace</i> icon to add the item to\n        the elemental subspace. This is a special collection of items that\n        causes all materials containing any of the elements in it to appear. For\n        instance, marking <samp>N</samp> and <samp>O</samp> for inclusion in the\n        subspace will cause Nitrogen (<samp>N</samp>), Oxygen (<samp>O</samp>)\n        to appear, but also Nitrogen Dioxide (\n        <samp>\n          NO<sub>2</sub>\n        </samp>\n        ) and Nitrous Oxide (\n        <samp>\n          N<sub>2</sub>O\n        </samp>\n        ), and any other compound made exclusively from nitrogen and oxygen\n        atoms.\n      </p>\n\n      <p>\n        Displaying neighbors and adding to a subspace both imply pinning. To\n        remove either effect, you can click on the \"X\" on the pinned item's\n        badge. Clicking again with go on to unpin the item as well.\n      </p>\n\n      <p>\n        The pinned/neighbor/subpsace state of each material is also visible in\n        the item detail panel, which can be opened by clicking on an item, or\n        its pinned badge.\n      </p>\n\n      <p>\n        These states can also be toggled by interacting with the map directly:\n        <code>ctrl-click</code> will pin an item; <code>shift-click</code> will\n        pin it and show neighbors; and <code>alt-click</code> will add its\n        constituents to the subspace. You can also simply <i>select</i> an item\n        by clicking on it without any keys pressed: while this opens the detail\n        panel, it does not affect the item's pinned/neighbor/subspace status.\n        Once the detail panel is open, you can also use the icons to affect that\n        status for that item.\n      </p>\n    </HelpPanelLabel>\n  );\n}\n\nexport function OptionsHelp() {\n  return (\n    <HelpPanelLabel name=\"options-help\" label=\"Options\">\n      <p>\n        This panel contains several general options and settings for the map and\n        visualization.\n      </p>\n    </HelpPanelLabel>\n  );\n}\n\nexport function SpacingHelp() {\n  return (\n    <HelpPanelLabel name=\"spacing-help\" label=\"Node spacing\">\n      <p>\n        This is an alternative zooming mode which simply expands or contracts\n        the space between nodes in the map, without changing the size of the\n        nodes themselves.\n      </p>\n\n      <p>\n        In addition to using the slider, you can also hold <code>ctrl</code>{' '}\n        while rolling the mousewheel on on the map. The zoom effect will center\n        on the mouse position.\n      </p>\n    </HelpPanelLabel>\n  );\n}\n\nexport function TemplateHelp() {\n  return (\n    <HelpPanelLabel name=\"template-help\" label=\"Detail Panel Template\">\n      <p>\n        This menu lets you select which informational template will be shown in\n        the detail panel that appears after clicking on a node.\n      </p>\n    </HelpPanelLabel>\n  );\n}\n\nexport function ColorYearHelp() {\n  return (\n    <HelpPanelLabel name=\"color-year-help\" label=\"Color year\">\n      <p>\n        This sets the year for the purposes of the \"Undiscovered/Discovered\"\n        color mode.\n      </p>\n\n      <p>\n        This mode displays materials discovered <i>as of the selected year</i>\n        in the \"discovered\" color, and all other materials in the \"undiscovered\n        color\". By using this mode, then sweeping the discovery year slider, you\n        can get a sense for the progression of material discovery within the\n        displayed data.\n      </p>\n    </HelpPanelLabel>\n  );\n}\n\nexport function SubgraphOnlyHelp() {\n  return (\n    <HelpPanelLabel name=\"subgraph-only-help\" label=\"Show subgraph only\">\n      <p>\n        Selecting this checkbox causes the map to only display nodes that have\n        been pinned (including those that have been set to show neighbors, or\n        that have been added to the element subspace). When nothing is pinned,\n        the entire dataset will be displayed.\n      </p>\n\n      <p>\n        If this option is disabled, then unpinned items will be visible in a\n        faded color in the background of the map. However, they can still be\n        interacted with. When the option is enabled, these \"hidden\" items can be\n        found by using the search box, or by activating the neighbors of pinned\n        items, and then iteratively adding more neighbors to the display.\n      </p>\n    </HelpPanelLabel>\n  );\n}\n\nexport function AutoNeighborsHelp() {\n  return (\n    <HelpPanelLabel\n      name=\"auto-neighbors-help\"\n      label=\"Show neighbors of selected\"\n    >\n      <p>\n        This option will cause the display to temporarily hide all but the\n        immediate neighbors of any selected item. Note that this is different\n        from pinning an item together with its neighbors. This mode enables an\n        exploration mode in which clicking on a neighbor also shows its one-hop\n        neighborhood, which in turn may enable a progressive exploration further\n        and further into the network from the original item.\n      </p>\n    </HelpPanelLabel>\n  );\n}\n\nexport function TableHelp() {\n  return (\n    <HelpPanelLabel name=\"table-help\" label=\"Show LineUp Table\">\n      <p>\n        This checkbox toggles the display of a{' '}\n        <a\n          href=\"https://vcg.seas.harvard.edu/publications/lineup-visual-analysis-of-multi-attribute-rankings\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          LineUp table\n        </a>{' '}\n        containing the current subgraph of items.\n      </p>\n\n      <p>\n        LineUp provides a highly interactive experience: for example, controls\n        in each column enable actions such as sorting the table by that column's\n        values, construction of compound value columns by dragging and dropping\n        one column onto another, etc. See the link above for more information.\n      </p>\n\n      <p>\n        The rows shown in the LineUp table can be clicked in order to select\n        that item. Together with the analysis features mentioned above, this\n        enables you to find items with specific values within the map.\n      </p>\n    </HelpPanelLabel>\n  );\n}\n\nexport function FilteringHelp() {\n  return (\n    <HelpPanelLabel name=\"filtering-help\" label=\"Filtering\">\n      <p>\n        This panel contains sliders for filtering the items included in the\n        subgraph by their data values.\n      </p>\n\n      <p>\n        The \"discovery year\" slider also has a playback feature: when the play\n        button is pressed, the slider will automatically show the progress of\n        material discovery as an animation.\n      </p>\n    </HelpPanelLabel>\n  );\n}\n\nexport function LayoutHelp() {\n  return (\n    <HelpPanelLabel name=\"layout-help\" label={'Live Layout'}>\n      <p>\n        This panel contains controls for performing live layout of the subgraph.\n      </p>\n\n      <p>\n        The <code>start</code> button kicks off a background worker that uses a\n        force-based layout algorithm to flow the node of the graph around the\n        map as though the links between them were springs pulling them closer\n        together. Because this can be a costly operation, you may see more\n        infrequent updates for larger subgraphs, but this is normal.\n      </p>\n\n      <p>\n        Once live layout begins, a <code>stop</code> button will appear;\n        whenever you wish to pause the layout process, click this button. That\n        will cause the\n        <code>start</code> button to reappear, along with the \"Reset\" button.\n      </p>\n\n      <p>\n        The <code>reset</code> button will restore the layout of the whole graph\n        back to its original state.\n      </p>\n    </HelpPanelLabel>\n  );\n}\n","import React from 'react';\n\nimport {\n  Button,\n  Checkbox,\n  IconButton,\n  ExpansionPanel,\n  ExpansionPanelDetails,\n  ExpansionPanelSummary,\n  Typography,\n  withStyles,\n} from '@material-ui/core';\n\nimport { ExpandMore } from '@material-ui/icons';\n\nimport Grid from '../controls/grid';\nimport { ReactSelectSearchWrapper } from '../controls/reactselect';\nimport SliderControl from '../controls/slider';\nimport SelectControl from '../controls/select';\nimport CheckboxControl from '../controls/checkbox';\nimport Filters from './filters';\nimport Store from '../../store';\nimport { observer } from 'mobx-react';\nimport { deburr } from 'lodash-es';\nimport Layouts from './layouts';\nimport PinnedNode from './PinnedNode';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport RotatedPin from './RotatedPin';\nimport { faProjectDiagram, faFlask } from '@fortawesome/free-solid-svg-icons';\nimport * as panels from './helpPanel';\n\nimport { fetchJSON } from '../../rest';\n\nfunction simplify(label) {\n  // simplify the label for better values\n  return deburr(label).replace(/[ ,.<>/|\\\\[]{}-_=+()*&^%$#@!~\\t\\n\\r]+/gm, '');\n}\n\nfunction toOption(v) {\n  const label = v.label;\n  const value = v.value || simplify(label);\n  return { label, value };\n}\n\nconst visStyles = (theme) => ({\n  denseCheckbox: {\n    padding: 0,\n    '& .MuiCheckbox-root': {\n      padding: '0 9px',\n    },\n  },\n});\n\n@observer\nclass Controls extends React.Component {\n  static contextType = Store;\n\n  filterSearchOption = ({ value }, rawInput) => {\n    rawInput = rawInput.trim();\n    value = value.trim();\n    if (!rawInput) {\n      return false;\n    }\n    return value.includes(rawInput);\n  };\n\n  renderOptionButtons = ({ node }) => {\n    const store = this.context;\n    return (\n      <>\n        <IconButton\n          onClick={() => store.togglePinned(node)}\n          title={store.isPinned(node) ? 'UnPin Selection' : 'Pin Selection'}\n          size=\"small\"\n          color={store.isPinned(node) ? 'primary' : 'default'}\n        >\n          <RotatedPin />\n        </IconButton>\n        <IconButton\n          onClick={() => store.toggleIncludeNeighbors(node)}\n          title={\n            store.isIncludeNeighborsPinned(node)\n              ? 'Hide Neighbors'\n              : 'Show Neighbors'\n          }\n          size=\"small\"\n          color={store.isIncludeNeighborsPinned(node) ? 'primary' : 'default'}\n        >\n          <FontAwesomeIcon icon={faProjectDiagram} />\n        </IconButton>\n        <IconButton\n          onClick={() => store.toggleDefineSubspace(node)}\n          title={\n            store.isDefineSubspacePinned(node)\n              ? 'Release Subspace Restriction'\n              : 'Restrict Subspace'\n          }\n          size=\"small\"\n          color={store.isDefineSubspacePinned(node) ? 'primary' : 'default'}\n        >\n          <FontAwesomeIcon icon={faFlask} />\n        </IconButton>\n      </>\n    );\n  };\n\n  async componentDidMount() {\n    const store = this.context;\n\n    // Restrict available datasets by what is specified in the data bundle\n    // control file.\n    const control = await fetchJSON('sample-data/control.json');\n    store.datasets = store.datasets.filter((d) => control.includes(d.key));\n  }\n\n  render() {\n    const store = this.context;\n    const { classes } = this.props;\n    return (\n      <Grid>\n        {store.datasets.length > 1 && (\n          <SelectControl\n            value={toOption(store.dataset).value}\n            options={store.datasets.map(toOption)}\n            label=\"Dataset\"\n            onChange={(val) => {\n              store.dataset = store.datasets.find(\n                (d) => toOption(d).value === val\n              );\n            }}\n          />\n        )}\n        <ReactSelectSearchWrapper\n          label={<panels.SearchHelp />}\n          options={store.searchOptions}\n          optionButtons={this.renderOptionButtons}\n          value={\n            store.search ? { label: store.search, value: store.search } : null\n          }\n          isSearchable\n          placeholder=\"Search (e.g. NaCl)\"\n          isClearable\n          maxItems={20}\n          onChange={(val) => (store.search = val ? val.value : null)}\n        />\n\n        <div>\n          {store.pinnedNodes.map((node) => (\n            <PinnedNode key={node.node.name} {...node} />\n          ))}\n        </div>\n\n        <ExpansionPanel\n          expanded={store.drawerExpanded.options}\n          onChange={(_, isExpanded) => {\n            store.drawerExpanded.options = isExpanded;\n          }}\n        >\n          <ExpansionPanelSummary expandIcon={<ExpandMore />}>\n            <Typography>\n              <panels.OptionsHelp />\n            </Typography>\n          </ExpansionPanelSummary>\n          <ExpansionPanelDetails>\n            <Grid>\n              <Button onClick={() => store.resetZoom()}>reset zoom</Button>\n\n              <SliderControl\n                value={store.zoom}\n                range={store.zoomRange}\n                label=\"Zoom\"\n                onChange={(val) => {\n                  store.zoom = val;\n                }}\n              />\n              <SliderControl\n                value={store.spacing}\n                range={store.spacingRange}\n                step={0.1}\n                label={<panels.SpacingHelp />}\n                onChange={(val) => {\n                  store.spacing = val;\n                }}\n              />\n              <SliderControl\n                value={store.opacity}\n                range={[0, 0.1]}\n                step={0.001}\n                label=\"Link opacity / display\"\n                disabled={!store.showLinks}\n                onChange={(val) => {\n                  store.opacity = val;\n                }}\n              >\n                <Checkbox\n                  checked={store.showLinks}\n                  onChange={(_e, val) => {\n                    store.showLinks = val;\n                  }}\n                />\n              </SliderControl>\n              {store.templates.length > 1 && (\n                <SelectControl\n                  value={toOption(store.template).value}\n                  options={store.templates.map(toOption)}\n                  label={<panels.TemplateHelp />}\n                  onChange={(val) => {\n                    store.template = store.templates.find(\n                      (d) => toOption(d).value === val\n                    );\n                  }}\n                />\n              )}\n              <SelectControl\n                value={toOption(store.size).value}\n                options={store.sizes.map(toOption)}\n                label=\"Node size\"\n                onChange={(val) => {\n                  store.size = store.sizes.find(\n                    (d) => toOption(d).value === val\n                  );\n                }}\n              />\n              <SelectControl\n                value={toOption(store.color).value}\n                options={store.colors.map(toOption)}\n                label=\"Node color\"\n                onChange={(val) => {\n                  store.color = store.colors.find(\n                    (d) => toOption(d).value === val\n                  );\n                }}\n              />\n              {/* dataset specific */}\n              {store.yearRange && (\n                <SliderControl\n                  value={store.colorYear}\n                  range={store.yearRange}\n                  step={1}\n                  label={<panels.ColorYearHelp />}\n                  digits={0}\n                  disabled={\n                    !store.color ||\n                    store.color.label !== 'Discovered/Undiscovered'\n                  }\n                  onChange={(val) => {\n                    store.colorYear = val;\n                  }}\n                />\n              )}\n              <CheckboxControl\n                className={classes.denseCheckbox}\n                label={<panels.SubgraphOnlyHelp />}\n                value={store.showSubGraphOnly}\n                onChange={(val) => {\n                  store.showSubGraphOnly = val;\n                }}\n              />\n              <CheckboxControl\n                className={classes.denseCheckbox}\n                label={<panels.AutoNeighborsHelp />}\n                value={store.autoIncludeNeighorsForSelection}\n                onChange={(val) => {\n                  store.autoIncludeNeighorsForSelection = val;\n                }}\n              />\n              <CheckboxControl\n                className={classes.denseCheckbox}\n                label=\"Show Legend\"\n                value={store.showLegend}\n                onChange={(val) => {\n                  store.showLegend = val;\n                }}\n              />\n              <CheckboxControl\n                className={classes.denseCheckbox}\n                label={<panels.TableHelp />}\n                value={store.showTable}\n                onChange={(val) => {\n                  store.showTable = val;\n                }}\n              />\n              <CheckboxControl\n                className={classes.denseCheckbox}\n                label=\"Night Mode\"\n                value={store.nightMode}\n                onChange={(val) => {\n                  store.nightMode = val;\n                }}\n              />\n            </Grid>\n          </ExpansionPanelDetails>\n        </ExpansionPanel>\n        <ExpansionPanel\n          expanded={store.drawerExpanded.filter}\n          onChange={(_, isExpanded) => {\n            store.drawerExpanded.filter = isExpanded;\n          }}\n        >\n          <ExpansionPanelSummary expandIcon={<ExpandMore />}>\n            <Typography>\n              <panels.FilteringHelp />\n            </Typography>\n          </ExpansionPanelSummary>\n          <ExpansionPanelDetails>\n            <Filters />\n          </ExpansionPanelDetails>\n        </ExpansionPanel>\n\n        <ExpansionPanel\n          expanded={store.drawerExpanded.layouts}\n          onChange={(_, isExpanded) => {\n            store.drawerExpanded.layouts = isExpanded;\n          }}\n        >\n          <ExpansionPanelSummary expandIcon={<ExpandMore />}>\n            <Typography>\n              <panels.LayoutHelp />\n            </Typography>\n          </ExpansionPanelSummary>\n          <ExpansionPanelDetails>\n            <Layouts />\n          </ExpansionPanelDetails>\n        </ExpansionPanel>\n      </Grid>\n    );\n  }\n}\n\nexport default withStyles(visStyles)(Controls);\n","import React from 'react';\nimport Store from '../../store';\nimport { withStyles, Paper, IconButton } from '@material-ui/core';\nimport { observer } from 'mobx-react';\nimport { Close } from '@material-ui/icons';\nimport RotatedPin from './RotatedPin';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFlask, faProjectDiagram } from '@fortawesome/free-solid-svg-icons';\n\nconst visStyles = (theme) => ({\n  root: {\n    position: 'absolute',\n    right: 0,\n    top: 0,\n    overflow: 'auto',\n    maxHeight: '100%',\n    padding: '1rem',\n    minWidth: '15rem',\n    zIndex: theme.zIndex.modal,\n  },\n});\n\n@observer\nclass InfoPanel extends React.Component {\n  static contextType = Store;\n\n  onClear = () => (this.context.selected = null);\n\n  toggleIncludeNeighbors = () => {\n    const store = this.context;\n    const node = store.selected;\n\n    if (!node) {\n      return;\n    }\n\n    store.toggleIncludeNeighbors(node);\n  };\n\n  toggleDefineSubspace = () => {\n    const store = this.context;\n    const node = store.selected;\n\n    if (!node) {\n      return;\n    }\n\n    store.toggleDefineSubspace(node);\n  };\n\n  togglePinned = () => {\n    const store = this.context;\n    const node = store.selected;\n\n    if (!node) {\n      return;\n    }\n\n    store.togglePinned(node);\n  };\n\n  render() {\n    const store = this.context;\n    const { classes } = this.props;\n    const node = store.selected;\n\n    if (!node) {\n      return null;\n    }\n    return (\n      <Paper className={classes.root}>\n        <IconButton\n          style={{ float: 'right' }}\n          onClick={this.onClear}\n          title=\"Clear Selection\"\n          size=\"small\"\n        >\n          <Close />\n        </IconButton>\n\n        <IconButton\n          style={{ float: 'right' }}\n          onClick={this.toggleDefineSubspace}\n          title={\n            store.isDefineSubspacePinned(node)\n              ? 'Release Subspace Restriction'\n              : 'Restrict Subspace'\n          }\n          size=\"small\"\n          color={store.isDefineSubspacePinned(node) ? 'primary' : 'default'}\n        >\n          <FontAwesomeIcon icon={faFlask} />\n        </IconButton>\n        <IconButton\n          style={{ float: 'right' }}\n          onClick={this.toggleIncludeNeighbors}\n          title={\n            store.isIncludeNeighborsPinned(node)\n              ? 'Hide Neighbors'\n              : 'Show Neighbors'\n          }\n          size=\"small\"\n          color={store.isIncludeNeighborsPinned(node) ? 'primary' : 'default'}\n        >\n          <FontAwesomeIcon icon={faProjectDiagram} />\n        </IconButton>\n        <IconButton\n          style={{ float: 'right' }}\n          onClick={this.togglePinned}\n          title={store.isPinned(node) ? 'UnPin Selection' : 'Pin Selection'}\n          size=\"small\"\n          color={store.isPinned(node) ? 'primary' : 'default'}\n        >\n          <RotatedPin />\n        </IconButton>\n\n        {store.template && store.template.render(node, store)}\n      </Paper>\n    );\n  }\n}\n\nexport default withStyles(visStyles)(InfoPanel);\n","import geo from 'geojs/geo.min';\nimport { debounce } from 'lodash-es';\n\nconst FOCUS_OPACITY = 0.8; // selection or pinned\nconst NOFOCUS_OPACITY = 0.8; // in case of no focus\n\nconst DEFOCUS_OPACITY = 0.8; // not in focus if focus is present\n\nconst CONTEXT_OPACITY = 0.03; // background if subgraph is present\n\nconst SELECTION_STROKE_COLOR = 'orange';\nconst PINNED_STROKE_COLOR = 'black';\nconst PINNED_NIGHT_STROKE_COLOR = 'black';\nconst DEFAULT_STROKE_COLOR = 'black';\nconst DEFAULT_NIGHT_STROKE_COLOR = 'black';\n\nconst SELECTION_STROKE_WIDTH = 3;\nconst PINNED_STROKE_WIDTH = 2;\nconst DEFAULT_STROKE_WIDTH = 1;\n\nexport class GeoJSSceneManager {\n  constructor({\n    onZoomChanged,\n    picked,\n    hovered,\n    hoveredLine,\n    onNodeSpacingChanged,\n  }) {\n    this.dp = null;\n    this.parent = null;\n    this.onZoomChanged = onZoomChanged;\n    this.onNodeSpacingChanged = onNodeSpacingChanged;\n    this.picked = picked;\n    this.hovered = hovered;\n    this.hoveredLine = hoveredLine;\n    this.nextExpansionFocus = null;\n    this.map = null;\n\n    this.expansion = 1;\n\n    this.selected = null;\n    this.pinned = new Set();\n    this.subGraphNodes = new Set();\n\n    this.linkOpacity = 0.01;\n    this.linesVisible = false;\n    this.positionOverrides = {};\n    this.linesNeedsToBeModified = false;\n  }\n\n  initScene(zoomRange) {\n    this.map = null;\n    const dp = this.dp;\n\n    if (!this.parent || !this.dp) {\n      return false;\n    }\n\n    const bounds = dp.getBounds();\n    const params = geo.util.pixelCoordinateParams(\n      this.parent,\n      bounds.maxx - bounds.minx,\n      bounds.maxy - bounds.miny\n    );\n\n    // the utility function assumes top left is 0, 0.  Move it to minx, miny.\n    params.map.maxBounds.left += bounds.minx;\n    params.map.maxBounds.top += bounds.miny;\n    params.map.maxBounds.right += bounds.minx;\n    params.map.maxBounds.bottom += bounds.miny;\n    params.map.center.x += bounds.minx;\n    params.map.center.y += bounds.miny;\n\n    // inflate the bounds to add a border\n    const maxwh = Math.max(\n      bounds.maxx - bounds.minx,\n      bounds.maxy - bounds.miny\n    );\n    const factor = 0.5;\n    params.map.maxBounds.left -= maxwh * factor;\n    params.map.maxBounds.top -= maxwh * factor;\n    params.map.maxBounds.right += maxwh * factor;\n    params.map.maxBounds.bottom += maxwh * factor;\n\n    // allow zoomming in until 1 unit of space is 2^(value) bigger.\n    params.map.min = zoomRange[0];\n    params.map.max = zoomRange[1];\n    params.map.allowRotation = false;\n    params.map.clampBoundsY = params.map.clampBoundsX = false;\n\n    const map = (this.map = geo.map(params.map));\n\n    const layer = map.createLayer('feature', {\n      features: ['point', 'line'],\n    });\n\n    this.lines = layer\n      .createFeature('line')\n      .data(dp.edges)\n      .style({\n        position: this._position,\n        width: 1,\n        strokeColor: 'black',\n        strokeOpacity: this.linkOpacity,\n      })\n      .visible(this.linesVisible); // disable by default\n\n    this.highlightLines = layer\n      .createFeature('line')\n      .data([])\n      .style({\n        position: this._position,\n        width: 1,\n        strokeColor: 'black',\n        strokeOpacity: this.linkOpacity,\n      })\n      .visible(this.linesVisible && this._isHighlighted());\n\n    const points = (this.points = layer\n      .createFeature('point', {\n        // primitiveShape: 'triangle',\n        style: {\n          strokeColor: this._strokeColor,\n          strokeWidth: this._strokeWidth,\n          fillColor: 'gray',\n          strokeOpacity: this._nodeOpacity,\n          fillOpacity: this._nodeOpacity,\n          radius: 10,\n        },\n        position: this._position,\n      })\n      .data(dp.nodeNames()));\n\n    let onNode = null;\n\n    points.geoOn(geo.event.feature.mouseon, (evt) => {\n      onNode = this.dp.nodes[evt.data];\n\n      // compute point dimensions\n      const radius = points.style('radius')(evt.data);\n      // position relative to canvas\n      const position = this.points.featureGcsToDisplay(\n        points.position()(evt.data)\n      );\n      this.hovered(onNode, position, radius);\n    });\n    points.geoOn(geo.event.feature.mouseoff, (evt) => {\n      onNode = null;\n      this.hovered(null, null, null);\n    });\n\n    let lastPointEvent = null;\n    points.geoOn(geo.event.feature.mouseclick, (evt) => {\n      if (evt.top) {\n        this.picked(this.dp.nodes[evt.data], evt.mouse.modifiers);\n      }\n      lastPointEvent = evt.mouse;\n    });\n    this.map.geoOn(\n      geo.event.mouseclick,\n      debounce((evt) => {\n        if (lastPointEvent && lastPointEvent.time === evt.time) {\n          return;\n        }\n        // seems like we have a click that didn't hit something\n        this.picked(null, {});\n      }, 100)\n    );\n\n    // NOTE: disable line hovering for now till figured out where to show\n    // let onLine = null;\n    // lines.geoOn(geo.event.feature.mouseon, evt => {\n    //   if (onNode) {\n    //     return;\n    //   }\n    //   onLine = evt.data.map((d) => this.dp.nodes[d]);\n    //   this.hoveredLine(onLine[0], onLine[1], evt.mouse.geo);\n    // });\n    // lines.geoOn(geo.event.feature.mousemove, evt => {\n    //   this.hoveredLine(onLine[0], onLine[1], evt.mouse.geo);\n    // });\n    // lines.geoOn(geo.event.feature.mouseoff, evt => {\n    //   if (onNode) {\n    //     return;\n    //   }\n    //   onLine = null;\n    //   this.hoveredLine(null, null, null);\n    // });\n\n    map.geoOn(geo.event.zoom, () => {\n      points.dataTime().modified();\n      this.onZoomChanged(map.zoom());\n    });\n\n    this._handleNodeSpacing();\n\n    map.draw();\n\n    return true;\n  }\n\n  _isHighlighted() {\n    return this.subGraphNodes.size > 0;\n  }\n\n  _position = (name) => {\n    const pos = this.positionOverrides[name] || this.dp.nodePosition(name);\n    if (this.expansion === 1) {\n      return pos;\n    }\n    return {\n      x: pos.x * this.expansion,\n      y: pos.y * this.expansion,\n    };\n  };\n\n  setPositions(overrides) {\n    this.positionOverrides = overrides;\n\n    this.points.dataTime().modified();\n    if (this.lines.visible()) {\n      this.linesNeedsToBeModified = true;\n      this.lines.dataTime().modified();\n    }\n    if (this.highlightLines.visible()) {\n      this.highlightLines.dataTime().modified();\n    }\n    this.map.draw();\n  }\n\n  _strokeWidth = (name) => {\n    if (name === this.selected) {\n      return SELECTION_STROKE_WIDTH;\n    }\n    if (this.pinned.has(name)) {\n      return PINNED_STROKE_WIDTH;\n    }\n    return DEFAULT_STROKE_WIDTH;\n  };\n\n  _strokeColor = (name) => {\n    if (name === this.selected) {\n      return SELECTION_STROKE_COLOR;\n    }\n    if (this.pinned.has(name)) {\n      return PINNED_STROKE_COLOR;\n    }\n    return DEFAULT_STROKE_COLOR;\n  };\n\n  _darkStrokePointColor = (name) => {\n    if (name === this.selected) {\n      return SELECTION_STROKE_COLOR;\n    }\n    if (this.pinned.has(name)) {\n      return PINNED_NIGHT_STROKE_COLOR;\n    }\n    return DEFAULT_NIGHT_STROKE_COLOR;\n  };\n\n  _nodeOpacity = (name) => {\n    const hasFocus = this.selected || this.pinned.size > 0;\n    if (name === this.selected || this.pinned.has(name)) {\n      return FOCUS_OPACITY;\n    }\n    if (this.subGraphNodes.size === 0 || this.subGraphNodes.has(name)) {\n      // full graph no sub graph\n      return hasFocus ? DEFOCUS_OPACITY : NOFOCUS_OPACITY;\n    }\n\n    return CONTEXT_OPACITY;\n  };\n\n  _handleNodeSpacing() {\n    let deltaDirection = null;\n\n    const handle = () => {\n      // run when we have both\n      if (deltaDirection == null || this.nextExpansionFocus == null) {\n        return;\n      }\n      this.onNodeSpacingChanged(deltaDirection);\n      deltaDirection = null;\n    };\n\n    // since not provided by geojs\n    this.parent.onwheel = (evt) => {\n      deltaDirection = evt.deltaY;\n      handle();\n    };\n\n    // Capture the mouse coordinates on a first mousewheel event in a sequence.\n    this.map.geoOn(geo.event.actionwheel, (evt) => {\n      if (!evt.mouse.modifiers.ctrl) {\n        return;\n      }\n      if (!this.nextExpansionFocus) {\n        this.nextExpansionFocus = evt.mouse.geo;\n      }\n      handle();\n    });\n\n    // Clear the mouse coordinates as soon as the mouse moves.\n    this.map.geoOn(geo.event.mousemove, () => {\n      this.nextExpansionFocus = null;\n    });\n  }\n\n  setData(nodes, edges) {\n    if (!this.map) {\n      return;\n    }\n    this.points.data(nodes);\n    this.lines.data(edges);\n    // recompute subgraph can shrink or grow\n    this.showSubGraph([]);\n  }\n\n  expand(m) {\n    if (this.expansion === m) {\n      return;\n    }\n\n    const factor = m / this.expansion;\n\n    this.expansion = m;\n    if (!this.map) {\n      return;\n    }\n\n    const center = this.map.center();\n    if (this.nextExpansionFocus) {\n      // set when the user zoomed in via mouse\n      const offCenter = {\n        x: this.nextExpansionFocus.x - center.x,\n        y: this.nextExpansionFocus.y - center.y,\n      };\n\n      // same distance from the visible center as before but the new target\n      this.map.center({\n        x: factor * this.nextExpansionFocus.x - offCenter.x,\n        y: factor * this.nextExpansionFocus.y - offCenter.y,\n      });\n\n      // Expand the click position in order to work around a bug in GeoJS.\n      this.nextExpansionFocus.x *= factor;\n      this.nextExpansionFocus.y *= factor;\n    } else {\n      this.map.center({\n        x: factor * center.x,\n        y: factor * center.y,\n      });\n    }\n\n    this.points.dataTime().modified();\n    if (this.lines.visible()) {\n      this.linesNeedsToBeModified = true;\n      this.lines.dataTime().modified();\n    }\n    if (this.highlightLines.visible()) {\n      this.highlightLines.dataTime().modified();\n    }\n    this.map.draw();\n  }\n\n  setLinkOpacity(value) {\n    this.linkOpacity = value;\n    this.lines.style('strokeOpacity', this.linkOpacity);\n    this.highlightLines.style('strokeOpacity', this.linkOpacity);\n\n    if (this.lines.visible()) {\n      this.linesNeedsToBeModified = true;\n      this.lines.modified();\n    }\n    if (this.highlightLines.visible()) {\n      this.highlightLines.modified();\n    }\n    this.map.draw();\n  }\n\n  hideAfter() {}\n\n  setNodeSize(scale, factor) {\n    this.points.style(\n      'radius',\n      (nodeId) => factor * scale(this.dp.nodes[nodeId])\n    );\n    if (this.map) {\n      this.map.draw();\n    }\n  }\n\n  pickName(name) {\n    if (!this.dp.hasNode(name)) {\n      return null;\n    }\n\n    return this.dp.nodes[name];\n  }\n\n  showSubGraph(subGraphNodes) {\n    this.subGraphNodes = new Set(subGraphNodes);\n\n    this._updateEdgeHighlights();\n\n    this.points.modified();\n    this.map.draw();\n  }\n\n  _updateEdgeHighlights() {\n    const isHighlighted = this._isHighlighted();\n\n    const allLinesVisible = this.linesVisible && !isHighlighted;\n    this.lines.visible(allLinesVisible);\n    if (allLinesVisible && this.linesNeedsToBeModified) {\n      this.lines.dataTime().modified();\n      this.linesNeedsToBeModified = false;\n    }\n\n    if (!isHighlighted || !this.linesVisible) {\n      // no highlight lines\n      this.highlightLines.visible(false);\n      this.highlightLines.data([]);\n      return;\n    }\n\n    this.highlightLines.data(\n      this.lines\n        .data()\n        .filter(\n          ([a, b]) => this.subGraphNodes.has(a) && this.subGraphNodes.has(b)\n        )\n    );\n    this.highlightLines.visible(true);\n  }\n\n  setSelected(selected, pinned) {\n    this.selected = selected;\n    this.pinned = new Set(pinned);\n    this.points.modified();\n\n    this.map.draw();\n  }\n\n  linksVisible(show) {\n    this.linesVisible = show;\n    this._updateEdgeHighlights();\n    this.map.draw();\n  }\n\n  setNightMode(night) {\n    const bgColor = night ? 'black' : 'white';\n    const strokeColor = night ? 'white' : 'black';\n    const pointStrokeColor = night\n      ? this._darkStrokePointColor\n      : this._strokeColor;\n\n    this.parent.style.backgroundColor = bgColor;\n    this.points.style('strokeColor', pointStrokeColor);\n    this.lines.style('strokeColor', strokeColor);\n    this.highlightLines.style('strokeColor', strokeColor);\n    this.map.draw();\n  }\n\n  setNodeColor(scale) {\n    this.points.style('fillColor', (nodeId) => scale(this.dp.nodes[nodeId]));\n    this.map.draw();\n  }\n\n  render() {}\n  resize() {\n    if (!this.map || !this.parent) {\n      return;\n    }\n    this.map.size(this.parent.getBoundingClientRect());\n  }\n  pick() {}\n  moveCamera() {}\n  clear() {}\n\n  get zoom() {\n    return this.map.zoom();\n  }\n\n  set zoom(zoom) {\n    this.map.zoom(zoom);\n  }\n}\n","import React, { Component } from 'react';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport { GeoJSSceneManager } from '../../geojs-scene-manager';\nimport Store from '../../store';\nimport { observer } from 'mobx-react';\nimport { autorun } from 'mobx';\nimport { debounce } from 'lodash-es';\n\n@observer\nclass GraphVisComponent extends Component {\n  static contextType = Store;\n\n  visElement;\n  scene = new GeoJSSceneManager({\n    onZoomChanged: (val) => (this.context.zoom = val),\n    picked: (node, modifiers) => {\n      this.context.selectNode(node, modifiers);\n    },\n    onNodeSpacingChanged: (delta) => {\n      const next = this.context.spacing + (delta > 0 ? -0.1 : 0.1);\n      this.context.spacing = Math.max(\n        next,\n        Math.min(this.context.spacingRange[1], this.context.spacingRange[0])\n      );\n    },\n    hovered: (node, position, radius) => {\n      this.context.hovered = { node, position, radius };\n    },\n    hoveredLine: (node1, node2, position) => {\n      this.context.hoveredLine = { node1, node2, position };\n    },\n  });\n\n  dragging = {\n    status: false,\n    start: { x: 0, y: 0 },\n  };\n  ro;\n\n  autoRunListeners = [];\n\n  clearSceneListener() {\n    this.autoRunListeners.forEach((v) => v());\n    this.autoRunListeners = [];\n  }\n\n  initSceneListener() {\n    // delete old ones\n    this.clearSceneListener();\n\n    const store = this.context;\n\n    const setAndObserve = (f, options) => {\n      this.autoRunListeners.push(autorun(f, options));\n    };\n    setAndObserve(() => {\n      this.scene.zoom = store.zoom;\n    });\n    setAndObserve(() => {\n      this.scene.expand(store.spacing);\n    });\n    setAndObserve(() => {\n      this.scene.hideAfter(store.year);\n      this.scene.setNodeSize(store.nodeSizer.scale, store.zoomNodeSizeFactor);\n    });\n    setAndObserve(\n      () => {\n        this.scene.setLinkOpacity(store.opacity);\n      },\n      { delay: 250 }\n    ); // debounce\n    setAndObserve(\n      () => {\n        if (store.showSubGraphOnly) {\n          this.scene.setData(store.subGraphNodeNames, store.subGraphEdges);\n        } else {\n          this.scene.setData(store.nodeNames, store.edges);\n        }\n      },\n      { delay: 250 }\n    ); // debounce\n    setAndObserve(\n      () => {\n        if (!store.showSubGraphOnly) {\n          this.scene.showSubGraph(\n            store.doesShowSubgraph ? store.subGraphNodeNames : []\n          );\n        }\n      },\n      { delay: 250 }\n    ); // debounce\n    setAndObserve(() => {\n      this.scene.setSelected(\n        store.selected ? store.selected.name : null,\n        store.pinnedNodes.map((d) => d.node.name)\n      );\n    });\n    setAndObserve(\n      () => {\n        this.scene.setPositions(store.subGraphLayout);\n      },\n      { delay: 300 }\n    );\n    setAndObserve(() => {\n      this.scene.linksVisible(store.showLinks);\n    });\n    setAndObserve(() => {\n      this.scene.setNightMode(store.nightMode);\n    });\n\n    setAndObserve(() => {\n      this.scene.setNodeColor(store.nodeColorer.scale);\n    });\n  }\n\n  componentDidMount() {\n    this.scene.parent = this.visElement;\n    // debounce resize to await the animatiion\n    this.ro = new ResizeObserver(\n      debounce(() => {\n        this.scene.resize();\n      }, 200)\n    );\n\n    this.ro.observe(this.visElement);\n\n    if (this.scene.initScene(this.context.zoomRange)) {\n      // set defaults\n      this.initSceneListener();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.ro) {\n      this.ro.unobserve(this.visElement);\n    }\n\n    this.clearSceneListener();\n    this.scene.clear();\n    this.scene.parent = null;\n  }\n\n  onVisDrag = (event) => {\n    event.preventDefault();\n    this.dragging.status = true;\n    this.dragging.start = { x: event.clientX, y: event.clientY };\n\n    const linksOn = this.context.showLinks;\n    if (linksOn) {\n      this.scene.linksVisible(false);\n    }\n\n    const mouseMoveListener = (e) => {\n      this.onDrag(e);\n    };\n\n    const mouseUpListener = () => {\n      window.removeEventListener('mousemove', mouseMoveListener);\n      window.removeEventListener('mouseup', mouseUpListener);\n\n      if (linksOn) {\n        this.scene.linksVisible(true);\n      }\n\n      setTimeout(() => {\n        this.dragging.status = false;\n      }, 50);\n    };\n\n    window.addEventListener('mousemove', mouseMoveListener);\n    window.addEventListener('mouseup', mouseUpListener);\n  };\n\n  onDrag = (e) => {\n    if (!this.dragging.status) {\n      return;\n    }\n    const dx = e.clientX - this.dragging.start.x;\n    const dy = e.clientY - this.dragging.start.y;\n    this.scene.moveCamera(dx, dy);\n    this.dragging.start = { x: e.clientX, y: e.clientY };\n  };\n\n  render() {\n    const store = this.context;\n\n    if (this.scene.dp !== store.data) {\n      // data has changed\n      this.scene.clear();\n      this.scene.dp = store.data;\n      if (this.scene.initScene(store.zoomRange)) {\n        // set defaults\n        this.initSceneListener();\n      }\n    }\n\n    return (\n      <div\n        style={{ width: '100%', height: '100%' }}\n        ref={(ref) => {\n          this.visElement = ref;\n        }}\n        draggable\n        onDragStart={this.onVisDrag}\n      />\n    );\n  }\n}\n\nexport default GraphVisComponent;\n","export default __webpack_public_path__ + \"static/media/tri_logo.5006e811.png\";","export default __webpack_public_path__ + \"static/media/tri_logo_dark.020f3afd.png\";","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faQuestionCircle } from '@fortawesome/free-solid-svg-icons';\n\nexport default function AboutPage() {\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <>\n      <Button variant=\"outlined\" color=\"primary\" onClick={handleClickOpen}>\n        About\n      </Button>\n      <Dialog\n        fullWidth={true}\n        maxWidth={'md'}\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"max-width-dialog-title\"\n      >\n        <DialogTitle id=\"max-width-dialog-title\">About MaterialNet</DialogTitle>\n\n        <DialogContent>\n          <DialogContentText>\n            MaterialNet is an open-source web application for loading,\n            visualizing, and exploring the relationships between entities in a\n            materials database. To get started, try interacting with the map of\n            materials in the main display, and see what the controls in the left\n            panel do. Help is available throughout the application via the{' '}\n            <FontAwesomeIcon icon={faQuestionCircle} /> icons.\n          </DialogContentText>\n\n          <DialogContentText>\n            You can also read our JOSS paper:{' '}\n            <a\n              href=\"https://joss.theoj.org/papers/10.21105/joss.02105\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              MaterialNet: A web-based graph explorer for materials science data\n            </a>\n            .\n          </DialogContentText>\n\n          <DialogContentText>\n            In its current deployment, MaterialNet provides an interactive map\n            for the materials stability network (\n            <a\n              href=\"https://doi.org/10.1038/s41467-019-10030-5\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Aykol et al. in Nat. Comm. 2019\n            </a>\n            ), a materials similarity network, and a text co-occurrence network\n            network extracted from{' '}\n            <a\n              href=\"http://www.matscholar.com\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              MatScholar\n            </a>\n            . The Material Similarity Network (v1) displays OQMD data in a\n            visually interactive way, where similar materials are assumed to\n            have a link. Similarity is defined within the Voronoi-based feature\n            space by{' '}\n            <a\n              href=\"https://journals.aps.org/prb/abstract/10.1103/PhysRevB.96.024104\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Ward et al.\n            </a>{' '}\n            (including formation energies as well) as the 0.1% quantile\n            threshold of all Euclidean distances.\n          </DialogContentText>\n\n          <DialogContentText>\n            MaterialNet is released under the{' '}\n            <a\n              href=\"https://www.apache.org/licenses/LICENSE-2.0.txt\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Apache License 2.0\n            </a>\n            , and the{' '}\n            <a\n              href=\"https://github.com/ToyotaResearchInstitute/materialnet\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              source code\n            </a>{' '}\n            is available for free on GitHub. If you run into trouble with the\n            software, you can{' '}\n            <a\n              href=\"https://github.com/arclamp/materialnet/issues\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              file an issue\n            </a>{' '}\n            or{' '}\n            <a\n              href=\"https://github.com/arclamp/materialnet/pulls\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              open a pull request\n            </a>\n            .\n          </DialogContentText>\n\n          <DialogContentText>\n            MaterialNet is a research collaboration between the{' '}\n            <a\n              href=\"https://www.tri.global/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Toyota Research Institute\n            </a>{' '}\n            and{' '}\n            <a\n              href=\"https://www.kitware.com/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Kitware Inc.\n            </a>{' '}\n            We are committed to open science and the open source software that\n            supports it. If you feel we can help you solve your problems, please\n            do not hesitate to{' '}\n            <a\n              href=\"https://www.kitware.com/contact-us/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              contact us\n            </a>\n            .\n          </DialogContentText>\n\n          <DialogContentText>\n            <a\n              href=\"https://www.tri.global/privacy-policy/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Privacy policy\n            </a>\n          </DialogContentText>\n        </DialogContent>\n\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","import React from 'react';\nimport Store from '../../store';\nimport { observer } from 'mobx-react';\nimport { withStyles } from '@material-ui/core';\n\nconst styles = (theme) => ({\n  root: {\n    marginLeft: '1em',\n    width: 300,\n    paddingBottom: 20,\n    display: 'flex',\n    alignItems: 'center',\n    fontSize: 'small',\n    justifyContent: 'space-around',\n  },\n});\n\n@observer\nclass NodeColorLegend extends React.Component {\n  static contextType = Store;\n\n  render() {\n    const store = this.context;\n    const { classes } = this.props;\n\n    const legend = store.nodeColorer.legend();\n\n    return legend && <div className={classes.root}>{legend}</div>;\n  }\n}\n\nexport default withStyles(styles)(NodeColorLegend);\n","import React from 'react';\nimport Store from '../../store';\nimport { withStyles, Popper } from '@material-ui/core';\nimport { observer } from 'mobx-react';\n\nconst visStyles = (theme) => ({\n  root: {\n    background: `rgba(255, 255, 255, 0.75)`,\n    borderRadius: 3,\n    border: `1px solid rgba(0, 0, 0, 0.75)`,\n    color: 'black',\n    padding: '0.25rem',\n    pointerEvents: ['none', '!important'],\n\n    // based on https://popper.js.org/index.html\n    '&[x-placement^= \"top\"]': {\n      marginBottom: 5,\n      '& $arrow': {\n        borderWidth: '5px 5px 0 5px',\n        borderLeftColor: 'transparent',\n        borderRightColor: 'transparent',\n        borderBottomcolor: 'transparent',\n        bottom: -5,\n        left: `calc(50% - 5px)`,\n        marginTop: 0,\n        marginBottom: 0,\n      },\n    },\n    '&[x-placement^= \"bottom\"]': {\n      marginTop: 5,\n      '& $arrow': {\n        borderWidth: '0 5px 5px 5px',\n        borderLeftColor: 'transparent',\n        borderRightColor: 'transparent',\n        borderTopcolor: 'transparent',\n        top: -5,\n        left: `calc(50% - 5px)`,\n        marginTop: 0,\n        marginBottom: 0,\n      },\n    },\n    '&[x-placement^= \"right\"]': {\n      marginLeft: 5,\n      '& $arrow': {\n        borderWidth: '5px 5px 5px 0',\n        borderLeftColor: 'transparent',\n        borderTopColor: 'transparent',\n        borderBottomcolor: 'transparent',\n        left: -5,\n        top: `calc(50% - 5px)`,\n        marginLeft: 0,\n        marginRight: 0,\n      },\n    },\n    '&[x-placement^= \"left\"]': {\n      marginRight: 5,\n      '& $arrow': {\n        borderWidth: '5px 0 5px 5px',\n        borderRightColor: 'transparent',\n        borderTopColor: 'transparent',\n        borderBottomcolor: 'transparent',\n        right: -5,\n        top: `calc(50% - 5px)`,\n        marginLeft: 0,\n        marginRight: 0,\n      },\n    },\n  },\n  arrow: {\n    width: 0,\n    height: 0,\n    borderStyle: 'solid',\n    position: 'absolute',\n    margin: 5,\n    borderColor: 'black',\n  },\n});\n\n@observer\nclass Tooltip extends React.Component {\n  static contextType = Store;\n\n  render() {\n    const store = this.context;\n    const { classes } = this.props;\n\n    const hovered = store.hovered;\n\n    const open = hovered.node != null;\n\n    // instead of a DOM fake the needed structure\n    // see https://popper.js.org/popper-documentation.html#referenceObject\n    const anchorFake = open\n      ? {\n          clientWidth: hovered.radius * 2,\n          clientHeight: hovered.radius * 2,\n          getBoundingClientRect: () =>\n            new DOMRect(\n              hovered.position.x - hovered.radius,\n              hovered.position.y - hovered.radius,\n              hovered.radius * 2,\n              hovered.radius * 2\n            ),\n        }\n      : null;\n\n    return (\n      <Popper\n        open={open}\n        placement=\"top\"\n        anchorEl={anchorFake}\n        className={classes.root}\n        disablePortal\n      >\n        {hovered.node && store.template.tooltip(hovered.node, store)}\n        <div x-arrow=\"x\" className={classes.arrow} />\n      </Popper>\n    );\n  }\n}\n\nexport default withStyles(visStyles)(Tooltip);\n","import React from 'react';\nimport Store from '../../store';\nimport { observer } from 'mobx-react';\nimport LineUp, {\n  LineUpStringColumnDesc,\n  LineUpNumberColumnDesc,\n  LineUpRanking,\n  LineUpColumn,\n} from 'lineupjsx';\nimport 'lineupjsx/build/LineUpJSx.css';\nimport './lineup.css';\n\n@observer\nclass Table extends React.Component {\n  static contextType = Store;\n\n  onSelectionChanged = (selection) => {\n    const store = this.context;\n    store.selected =\n      selection.length > 0 ? store.subGraphNodes[selection[0]] : null;\n  };\n\n  render() {\n    const store = this.context;\n    const selected = store.selected\n      ? store.subGraphNodes.findIndex((d) => d.name === store.selected.name)\n      : -1;\n\n    return (\n      <LineUp\n        data={store.subGraphNodes}\n        singleSelection\n        deriveColors\n        sidePanel={false}\n        style={{\n          flexGrow: 1,\n          lineHeight: 'normal',\n          ...(this.props.style || {}),\n        }}\n        selection={selected >= 0 ? [selected] : undefined}\n        onSelectionChanged={this.onSelectionChanged}\n      >\n        <LineUpStringColumnDesc column=\"name\" />\n        {store.propertyList.map((prop) => (\n          <LineUpNumberColumnDesc\n            key={prop.label}\n            column={prop.property}\n            label={prop.label}\n            domain={prop.domain}\n            custom={{ numberFormat: prop.formatSpecifier }}\n          />\n        ))}\n        <LineUpRanking>\n          <LineUpColumn column=\"_rank\" />\n          <LineUpColumn column=\"name\" />\n          {store.propertyList.map((prop) => (\n            <LineUpColumn key={prop.label} column={prop.property} />\n          ))}\n        </LineUpRanking>\n      </LineUp>\n    );\n  }\n}\n\nexport default Table;\n","import React from 'react';\nimport { withStyles } from '@material-ui/styles';\nimport { Paper } from '@material-ui/core';\nimport { observer } from 'mobx-react';\nimport clsx from 'clsx';\n\n// based on https://github.com/phovea/phovea_ui/tree/master/src/layout\n\nconst visStyles = (theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  separator: {\n    height: 3,\n    cursor: 'ns-resize',\n  },\n  dragging: {\n    userSelect: 'none',\n    '& > *': {\n      opacity: 0.5,\n      pointerEvents: 'none',\n    },\n  },\n});\n\n@observer\nclass SplitContainer extends React.Component {\n  state = {\n    draggingValue: null,\n  };\n\n  onMouseDown = (evt) => {\n    const { classes } = this.props;\n    if (\n      evt.target instanceof HTMLElement &&\n      evt.target.classList.contains(classes.separator)\n    ) {\n      this.enableDragging(evt.currentTarget);\n    }\n  };\n\n  enableDragging(node) {\n    const { classes } = this.props;\n    const mouseMove = (evt) => {\n      const n = node;\n      const bb = n.getBoundingClientRect();\n      const y = evt.clientY - bb.top - n.clientTop + n.scrollTop;\n      const ratio = Math.round((100 * y) / n.offsetHeight);\n      this.setState({ draggingValue: ratio });\n      //no events\n      evt.stopPropagation();\n      evt.preventDefault();\n    };\n    const disable = (evt) => {\n      if (evt.target !== evt.currentTarget && evt.type === 'mouseleave') {\n        return;\n      }\n      node.classList.remove(classes.dragging);\n      node.removeEventListener('mousemove', mouseMove);\n      node.removeEventListener('mouseup', disable);\n      node.removeEventListener('mouseleave', disable);\n      const value = this.state.draggingValue;\n      this.setState({ draggingValue: null });\n      if (this.props.value !== value) {\n        this.props.onValueChanged(value);\n      }\n    };\n\n    node.classList.add(classes.dragging);\n    node.addEventListener('mousemove', mouseMove);\n    node.addEventListener('mouseup', disable);\n    node.addEventListener('mouseleave', disable);\n  }\n\n  render() {\n    const { classes, top, bottom, className } = this.props;\n    const value =\n      this.state.draggingValue != null\n        ? this.state.draggingValue\n        : this.props.value;\n\n    if (!top || !bottom) {\n      return (\n        <div className={clsx(classes.root, className)}>\n          {top && top(100)}\n          {bottom && bottom(100)}\n        </div>\n      );\n    }\n\n    return (\n      <div\n        className={clsx(classes.root, className)}\n        onMouseDown={this.onMouseDown}\n      >\n        {value > 0 && top(value)}\n        <Paper className={classes.separator} />\n        {value < 100 && bottom(100 - value)}\n      </div>\n    );\n  }\n}\n\nexport default withStyles(visStyles)(SplitContainer);\n","import React from 'react';\n\nimport {\n  withStyles,\n  Drawer,\n  AppBar,\n  Toolbar,\n  IconButton,\n  Button,\n  Typography,\n  CircularProgress,\n} from '@material-ui/core';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nimport Controls from './components/graph-vis/controls';\nimport InfoPanel from './components/graph-vis/info-panel';\nimport GraphVisComponent from './components/graph-vis';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport tri_logo from './components/header/tri_logo.png';\nimport tri_logo_dark from './components/header/tri_logo_dark.png';\nimport AboutPage from './components/header/AboutPage';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport clsx from 'clsx';\nimport Store from './store';\nimport { observer } from 'mobx-react';\nimport './App.css';\nimport NodeColorLegend from './components/graph-vis/node-color-legend';\nimport Tooltip from './components/graph-vis/tooltip';\nimport Table from './components/graph-vis/table';\nimport { grey } from '@material-ui/core/colors';\nimport SplitContainer from './components/graph-vis/SplitContainer';\n\n// based on https://material-ui.com/components/drawers/\nconst drawerWidth = 360;\n\nconst theme = createMuiTheme({\n  palette: {\n    background: {\n      paper: grey[100],\n      default: grey[100],\n    },\n  },\n});\n\nconst darkTheme = createMuiTheme({\n  palette: {\n    type: 'dark',\n  },\n});\n\nconst appStyles = (theme) => ({\n  root: {\n    width: '100%',\n    minHeight: '100%',\n    display: 'flex',\n  },\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: theme.spacing(1),\n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    position: 'relative',\n  },\n  drawerPaper: {\n    width: drawerWidth,\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    overflow: 'auto',\n    padding: theme.spacing(2),\n    paddingTop: 0,\n    overflowX: 'hidden',\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  contentContainer: {\n    flexGrow: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: -drawerWidth,\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginLeft: 0,\n  },\n  content: {\n    flexGrow: 1,\n  },\n  graph: {\n    position: 'relative',\n  },\n  contentNightMode: {\n    color: 'white',\n  },\n  legend: {\n    zIndex: 100,\n    position: 'absolute',\n    bottom: 3,\n    left: 0,\n    display: 'flex',\n    alignItems: 'flex-end',\n  },\n  loaderWrapper: {\n    zIndex: theme.zIndex.tooltip,\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    background: 'rgba(255,255,255,0.25)',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  loader: {\n    margin: theme.spacing(2),\n  },\n});\n\n@observer\nclass App extends React.Component {\n  static contextType = Store;\n\n  onLogoClick = () => {\n    window.location.replace(window.location.pathname);\n  };\n\n  render() {\n    const store = this.context;\n    const { classes } = this.props;\n\n    return (\n      <ThemeProvider theme={store.nightMode ? darkTheme : theme}>\n        <div className={classes.root}>\n          <CssBaseline />\n          <AppBar\n            color=\"default\"\n            position=\"fixed\"\n            className={clsx(classes.appBar, {\n              [classes.appBarShift]: store.drawerVisible,\n            })}\n          >\n            <Toolbar>\n              <IconButton\n                color=\"inherit\"\n                aria-label=\"open drawer\"\n                onClick={() => {\n                  store.drawerVisible = true;\n                }}\n                edge=\"start\"\n                className={clsx(\n                  classes.menuButton,\n                  store.drawerVisible && classes.hide\n                )}\n              >\n                <MenuIcon />\n              </IconButton>\n              <Button\n                color=\"inherit\"\n                aria-label=\"Logo\"\n                style={{ marginRight: 9 }}\n                onClick={this.onLogoClick}\n              >\n                <img\n                  className=\"logo\"\n                  src={store.nightMode ? tri_logo_dark : tri_logo}\n                  alt=\"logo\"\n                />\n              </Button>\n              <Typography variant=\"h5\" color=\"inherit\" noWrap>\n                MaterialNet - {store.dataset.label}\n                {store.selected ? ` - ${store.selected.name}` : ''}\n              </Typography>\n              <div style={{ flex: 1 }}></div>\n              <AboutPage />\n            </Toolbar>\n          </AppBar>\n          <Drawer\n            className={classes.drawer}\n            variant=\"persistent\"\n            open={store.drawerVisible}\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n          >\n            <div className={classes.drawerHeader}>\n              <IconButton\n                onClick={() => {\n                  store.drawerVisible = false;\n                }}\n              >\n                <ChevronLeftIcon />\n              </IconButton>\n            </div>\n            <Controls />\n          </Drawer>\n          <div\n            className={clsx(classes.contentContainer, {\n              [classes.contentShift]: store.drawerVisible,\n              [classes.contentNightMode]: store.nightMode,\n            })}\n          >\n            <div className={classes.drawerHeader} />\n            <SplitContainer\n              className={classes.content}\n              value={store.graphRatio}\n              onValueChanged={(value) => (store.graphRatio = value)}\n              top={(value) => (\n                <div className={classes.graph} style={{ flexGrow: value }}>\n                  <GraphVisComponent />\n                  {store.showLegend && (\n                    <div className={classes.legend}>\n                      <NodeColorLegend />\n                    </div>\n                  )}\n                  <InfoPanel />\n                  <Tooltip />\n                  {!store.data && (\n                    <div className={classes.loaderWrapper}>\n                      <CircularProgress\n                        disableShrink\n                        className={classes.loader}\n                        size={100}\n                      />\n                    </div>\n                  )}\n                </div>\n              )}\n              bottom={\n                store.showTable\n                  ? (value) => <Table style={{ flexGrow: value }} />\n                  : null\n              }\n            />\n          </div>\n        </div>\n      </ThemeProvider>\n    );\n  }\n}\n\nexport default withStyles(appStyles)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport Store, { ApplicationStore } from './store';\n\nimport { defineCustomElements as defineSplitMe } from 'split-me/loader';\nimport { defineCustomElements as defineMolecule } from '@openchemistry/molecule/loader';\ndefineSplitMe(window);\ndefineMolecule(window);\n\nconst store = new ApplicationStore();\n\nReactDOM.render(\n  <Store.Provider value={store}>\n    <App />\n  </Store.Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}